From 4374db2cea74ce83f9ed8cb04bc7d9e893085dce Mon Sep 17 00:00:00 2001
From: Marko Man <darkobas@gmail.com>
Date: Sat, 1 Sep 2018 14:00:46 +0200
Subject: [PATCH 52/54] SystemUI: Set proper NFCTile state

Change-Id: I8309eda6b2dbb28156dd463e667ff60545b37b7d
---
 .../SystemUI/src/com/android/systemui/qs/tiles/NfcTile.java     | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/packages/SystemUI/src/com/android/systemui/qs/tiles/NfcTile.java b/packages/SystemUI/src/com/android/systemui/qs/tiles/NfcTile.java
index 12daff1f12f..b31f9f8fa84 100644
--- a/packages/SystemUI/src/com/android/systemui/qs/tiles/NfcTile.java
+++ b/packages/SystemUI/src/com/android/systemui/qs/tiles/NfcTile.java
@@ -25,6 +25,7 @@ import android.content.pm.PackageManager;
 import android.graphics.drawable.Drawable;
 import android.nfc.NfcAdapter;
 import android.provider.Settings;
+import android.service.quicksettings.Tile;
 import android.widget.Switch;
 
 import com.android.internal.logging.MetricsLogger;
@@ -101,6 +102,7 @@ public class NfcTile extends QSTileImpl<BooleanState> {
 
         if (getAdapter() == null) return;
         state.value = getAdapter().isEnabled();
+        state.state = state.value ? Tile.STATE_ACTIVE : Tile.STATE_INACTIVE;
         state.label = mContext.getString(R.string.quick_settings_nfc_label);
         state.icon = new DrawableIcon(state.value ? mEnable : mDisable);
         state.expandedAccessibilityClassName = Switch.class.getName();
-- 
2.17.1

