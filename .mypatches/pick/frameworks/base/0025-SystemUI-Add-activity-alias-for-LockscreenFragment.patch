From 8b318b23501e178988330db5a56ae372af3e3df5 Mon Sep 17 00:00:00 2001
From: LuK1337 <priv.luk@gmail.com>
Date: Sat, 23 Jun 2018 19:37:19 +0200
Subject: [PATCH 25/29] SystemUI: Add activity alias for LockscreenFragment

Change-Id: I4412fd2e3216ce353c0013829e2bb618bd1463f7
---
 packages/SystemUI/LineageManifest.xml              | 14 ++++++++++++++
 .../com/android/systemui/tuner/TunerActivity.java  |  2 ++
 2 files changed, 16 insertions(+)

diff --git a/packages/SystemUI/LineageManifest.xml b/packages/SystemUI/LineageManifest.xml
index fc0551d03db..47ebbcb7f11 100644
--- a/packages/SystemUI/LineageManifest.xml
+++ b/packages/SystemUI/LineageManifest.xml
@@ -54,6 +54,20 @@
             </intent-filter>
         </activity-alias>
 
+        <activity-alias
+            android:name=".tuner.LockscreenTuner"
+            android:targetActivity=".tuner.TunerActivity"
+            android:icon="@drawable/tuner"
+            android:theme="@style/TunerSettings"
+            android:label="@string/tuner_lock_screen"
+            android:process=":tuner"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.LOCKSCREEN_TUNER" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity-alias>
+
         <activity-alias
             android:name=".tuner.NavBarTuner"
             android:targetActivity=".tuner.TunerActivity"
diff --git a/packages/SystemUI/src/com/android/systemui/tuner/TunerActivity.java b/packages/SystemUI/src/com/android/systemui/tuner/TunerActivity.java
index de7caa24d3f..6664aae8de9 100644
--- a/packages/SystemUI/src/com/android/systemui/tuner/TunerActivity.java
+++ b/packages/SystemUI/src/com/android/systemui/tuner/TunerActivity.java
@@ -44,6 +44,8 @@ public class TunerActivity extends SettingsDrawerActivity implements
             final Fragment fragment;
             if ("com.android.settings.action.DEMO_MODE".equals(action)) {
                 fragment = new DemoModeFragment();
+            } else if ("com.android.settings.action.LOCKSCREEN_TUNER".equals(action)) {
+                fragment = new LockscreenFragment();
             } else if ("com.android.settings.action.NAV_BAR_TUNER".equals(action)) {
                 fragment = new NavBarTuner();
             } else if ("com.android.settings.action.POWER_NOTIF_CONTROLS".equals(action)) {
-- 
2.17.1

