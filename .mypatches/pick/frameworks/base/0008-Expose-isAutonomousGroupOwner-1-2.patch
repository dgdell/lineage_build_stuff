From a094bb204be90765ed09794764aa8619d180eed5 Mon Sep 17 00:00:00 2001
From: Aaron Kling <webgeek1234@gmail.com>
Date: Fri, 7 Apr 2017 12:59:43 -0500
Subject: [PATCH 08/28] Expose isAutonomousGroupOwner [1/2]

Change-Id: Ib635ef397a61af09b9d748be554ca074d3abcbca
---
 wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl | 1 +
 wifi/java/android/net/wifi/p2p/WifiP2pManager.java  | 9 +++++++++
 2 files changed, 10 insertions(+)

diff --git a/wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl b/wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl
index bfdd45d9f9b..a53a926d203 100644
--- a/wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl
+++ b/wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl
@@ -30,5 +30,6 @@ interface IWifiP2pManager
     oneway void close(in IBinder binder);
     void setMiracastMode(int mode);
     void checkConfigureWifiDisplayPermission();
+    boolean isAutonomousGroupOwner();
 }
 
diff --git a/wifi/java/android/net/wifi/p2p/WifiP2pManager.java b/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
index 8075e178f2e..d1388ce200d 100644
--- a/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
+++ b/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
@@ -1433,6 +1433,15 @@ public class WifiP2pManager {
         }
     }
 
+    /** @hide */
+    public boolean isAutonomousGroupOwner() {
+        try {
+            return mService.isAutonomousGroupOwner();
+        } catch(RemoteException e) {
+            return false;
+        }
+    }
+
     /**
      * Get a reference to WifiP2pService handler. This is used to establish
      * an AsyncChannel communication with WifiService
-- 
2.17.1

