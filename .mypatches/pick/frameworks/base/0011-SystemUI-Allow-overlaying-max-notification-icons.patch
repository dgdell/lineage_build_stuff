From 05e4fe2e6a60222d98d4a33a1a550ad7af851d27 Mon Sep 17 00:00:00 2001
From: LuK1337 <priv.luk@gmail.com>
Date: Fri, 24 Aug 2018 11:51:35 +0200
Subject: [PATCH 11/51] SystemUI: Allow overlaying max notification icons

* I believe there are devices in this world that can fit
  more than 4 notification icons.

Change-Id: I8f01b4e0385b35f4ed93aab2619839e5b40ee0c7
---
 packages/SystemUI/res/values/lineage_config.xml             | 4 ++++
 .../systemui/statusbar/phone/NotificationIconContainer.java | 6 ++++--
 2 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/packages/SystemUI/res/values/lineage_config.xml b/packages/SystemUI/res/values/lineage_config.xml
index e4a7b1fad50..92ed94c1f8e 100644
--- a/packages/SystemUI/res/values/lineage_config.xml
+++ b/packages/SystemUI/res/values/lineage_config.xml
@@ -14,6 +14,10 @@
      limitations under the License.
 -->
 <resources>
+    <!-- Max visible notification icons -->
+    <integer name="config_maxVisibleNotificationIcons">4</integer>
+    <integer name="config_maxVisibleNotificationIconsWhenDark">5</integer>
+
     <!-- Should we listen for fingerprints when the screen is off?  Devices
          with a rear-mounted sensor want this, but certain devices have
          the sensor embedded in the power key and listening all the time
diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationIconContainer.java b/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationIconContainer.java
index 5dee2a6000c..e0c735e674c 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationIconContainer.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationIconContainer.java
@@ -127,8 +127,10 @@ public class NotificationIconContainer extends AlphaOptimizedFrameLayout {
         }
     }.setDuration(CONTENT_FADE_DURATION);
 
-    public static final int MAX_VISIBLE_ICONS_WHEN_DARK = 5;
-    public static final int MAX_STATIC_ICONS = 4;
+    public final int MAX_VISIBLE_ICONS_WHEN_DARK =
+            getResources().getInteger(R.integer.config_maxVisibleNotificationIconsWhenDark);
+    public final int MAX_STATIC_ICONS =
+            getResources().getInteger(R.integer.config_maxVisibleNotificationIcons);
     private static final int MAX_DOTS = 1;
 
     private boolean mIsStaticLayout = true;
-- 
2.17.1

