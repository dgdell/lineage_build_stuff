From b73ffad17459dcc2c789e11d06435bc8c534b94f Mon Sep 17 00:00:00 2001
From: Aaron Kling <webgeek1234@gmail.com>
Date: Fri, 7 Apr 2017 13:04:07 -0500
Subject: [PATCH 09/28] Expose cancelWps [1/2]

Change-Id: Ia37b19e178e6d21ed6f2b94289195dcfd724a178
---
 .../android/net/wifi/p2p/WifiP2pManager.java   | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

diff --git a/wifi/java/android/net/wifi/p2p/WifiP2pManager.java b/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
index d1388ce200d..d5b7c514ab1 100644
--- a/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
+++ b/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
@@ -477,6 +477,13 @@ public class WifiP2pManager {
     /** @hide */
     public static final int REPORT_NFC_HANDOVER_FAILED              = BASE + 81;
 
+    /** @hide */
+    public static final int CANCEL_WPS                              = BASE + 82;
+    /** @hide */
+    public static final int CANCEL_WPS_FAILED                       = BASE + 83;
+    /** @hide */
+    public static final int CANCEL_WPS_SUCCEEDED                    = BASE + 84;
+
 
     /**
      * Create a new WifiP2pManager instance. Applications use
@@ -767,6 +774,7 @@ public class WifiP2pManager {
                     case DELETE_PERSISTENT_GROUP_FAILED:
                     case SET_WFD_INFO_FAILED:
                     case START_WPS_FAILED:
+                    case CANCEL_WPS_FAILED:
                     case START_LISTEN_FAILED:
                     case STOP_LISTEN_FAILED:
                     case SET_CHANNEL_FAILED:
@@ -793,6 +801,7 @@ public class WifiP2pManager {
                     case DELETE_PERSISTENT_GROUP_SUCCEEDED:
                     case SET_WFD_INFO_SUCCEEDED:
                     case START_WPS_SUCCEEDED:
+                    case CANCEL_WPS_SUCCEEDED:
                     case START_LISTEN_SUCCEEDED:
                     case STOP_LISTEN_SUCCEEDED:
                     case SET_CHANNEL_SUCCEEDED:
@@ -1122,6 +1131,15 @@ public class WifiP2pManager {
         c.mAsyncChannel.sendMessage(START_WPS, 0, c.putListener(listener), wps);
     }
 
+    /**
+     * Cancel any ongoing Wi-fi Protected Setup sessions.
+     * @hide
+     */
+    public void cancelWps(Channel c, ActionListener listener) {
+         checkChannel(c);
+         c.mAsyncChannel.sendMessage(CANCEL_WPS, 0, c.putListener(listener));
+    }
+
     /**
      * Register a local service for service discovery. If a local service is registered,
      * the framework automatically responds to a service discovery request from a peer.
-- 
2.17.1

