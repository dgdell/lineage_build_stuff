From c2c9c2550f7905ddcb524987f1f88b1b81e4606f Mon Sep 17 00:00:00 2001
From: LuK1337 <priv.luk@gmail.com>
Date: Mon, 2 Jul 2018 00:58:18 +0200
Subject: [PATCH 30/31] you don't see this change

Change-Id: I2d564b36d8c104fca3126378869a9dc2d134e28d
---
 .../core/java/com/android/server/lights/LightsService.java  | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/services/core/java/com/android/server/lights/LightsService.java b/services/core/java/com/android/server/lights/LightsService.java
index 960f405d420..0baf2662e95 100644
--- a/services/core/java/com/android/server/lights/LightsService.java
+++ b/services/core/java/com/android/server/lights/LightsService.java
@@ -22,6 +22,7 @@ import android.app.ActivityManager;
 import android.content.Context;
 import android.os.Handler;
 import android.os.Message;
+import android.os.SystemProperties;
 import android.os.Trace;
 import android.provider.Settings;
 import android.util.Slog;
@@ -53,6 +54,11 @@ public class LightsService extends SystemService {
                     return;
                 }
 
+                if (mId == 0 && SystemProperties.get("ro.lineage.device").equals("enchilada")) {
+                    setLightLocked(brightness * 1023 / 255, LIGHT_FLASH_NONE, 0, 0, brightnessMode);
+                    return;
+                }
+
                 int color = brightness & 0x000000ff;
                 color = 0xff000000 | (color << 16) | (color << 8) | color;
                 setLightLocked(color, LIGHT_FLASH_NONE, 0, 0, brightnessMode);
-- 
2.17.1

