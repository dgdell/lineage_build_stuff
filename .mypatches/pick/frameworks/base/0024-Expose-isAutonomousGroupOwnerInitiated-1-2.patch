From 27a9f5b6843db73c69e9570e71537c0c85679dae Mon Sep 17 00:00:00 2001
From: Aaron Kling <webgeek1234@gmail.com>
Date: Tue, 7 Nov 2017 14:05:09 -0600
Subject: [PATCH 24/28] Expose isAutonomousGroupOwnerInitiated [1/2]

Change-Id: I2664055da3f4b2ed453be4176ea0bf7df850fa5c
---
 wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl | 1 +
 wifi/java/android/net/wifi/p2p/WifiP2pManager.java  | 9 +++++++++
 2 files changed, 10 insertions(+)

diff --git a/wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl b/wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl
index a53a926d203..1a467f398a2 100644
--- a/wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl
+++ b/wifi/java/android/net/wifi/p2p/IWifiP2pManager.aidl
@@ -31,5 +31,6 @@ interface IWifiP2pManager
     void setMiracastMode(int mode);
     void checkConfigureWifiDisplayPermission();
     boolean isAutonomousGroupOwner();
+    boolean isAutonomousGroupOwnerInitiated();
 }
 
diff --git a/wifi/java/android/net/wifi/p2p/WifiP2pManager.java b/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
index bad2373acdc..221ec4d9b12 100644
--- a/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
+++ b/wifi/java/android/net/wifi/p2p/WifiP2pManager.java
@@ -1476,6 +1476,15 @@ public class WifiP2pManager {
         }
     }
 
+    /** @hide */
+    public boolean isAutonomousGroupOwnerInitiated() {
+        try {
+            return mService.isAutonomousGroupOwnerInitiated();
+        } catch(RemoteException e) {
+            return false;
+        }
+    }
+
     /**
      * Get a reference to WifiP2pService handler. This is used to establish
      * an AsyncChannel communication with WifiService
-- 
2.17.1

