From c3dc69c9f67f81065ad2e8e8b11a83749531d2b6 Mon Sep 17 00:00:00 2001
From: phhusson <phh@phh.me>
Date: Tue, 3 Jul 2018 11:28:09 +0000
Subject: [PATCH 20/40] Telephony: Stop using rssnr, it falsly shows wrong
 signal bars Pixel and other devices drop this

Change-Id: Iaa54351bfcb8b7abe61a9cc6efef567a999e8198
---
 telephony/java/android/telephony/SignalStrength.java | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/telephony/java/android/telephony/SignalStrength.java b/telephony/java/android/telephony/SignalStrength.java
index 9e02399338f..318f7cd87fd 100644
--- a/telephony/java/android/telephony/SignalStrength.java
+++ b/telephony/java/android/telephony/SignalStrength.java
@@ -868,6 +868,9 @@ public class SignalStrength implements Parcelable {
                 + rsrpIconLevel + " snrIconLevel:" + snrIconLevel
                 + " lteRsrpBoost:" + mLteRsrpBoost);
 
+	/* Ignore RSSNR for now */
+	if(rsrpIconLevel != -1) return rsrpIconLevel;
+
         /* Choose a measurement type to use for notification */
         if (snrIconLevel != -1 && rsrpIconLevel != -1) {
             /*
-- 
2.17.1

