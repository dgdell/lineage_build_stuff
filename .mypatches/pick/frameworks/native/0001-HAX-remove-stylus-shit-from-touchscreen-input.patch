From 72f0669155332c38c20e2dc8236aa24d471084f0 Mon Sep 17 00:00:00 2001
From: Dan Pasanen <dan.pasanen@gmail.com>
Date: Fri, 17 Nov 2017 00:24:35 -0600
Subject: [PATCH 1/2] [HAX] remove stylus shit from touchscreen input

* Until a kernel fix can be figured out for mata

Change-Id: Ibc977655b966541a301b75b780ebde9946b4f627
---
 services/inputflinger/InputReader.cpp | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/services/inputflinger/InputReader.cpp b/services/inputflinger/InputReader.cpp
index d4266f6..842c459 100644
--- a/services/inputflinger/InputReader.cpp
+++ b/services/inputflinger/InputReader.cpp
@@ -3482,12 +3482,6 @@ void TouchInputMapper::configureSurface(nsecs_t when, bool* outResetNeeded) {
             && mParameters.hasAssociatedDisplay) {
         mSource = AINPUT_SOURCE_TOUCHSCREEN;
         mDeviceMode = DEVICE_MODE_DIRECT;
-        if (hasStylus()) {
-            mSource |= AINPUT_SOURCE_STYLUS;
-        }
-        if (hasExternalStylus()) {
-            mSource |= AINPUT_SOURCE_BLUETOOTH_STYLUS;
-        }
     } else if (mParameters.deviceType == Parameters::DEVICE_TYPE_TOUCH_NAVIGATION) {
         mSource = AINPUT_SOURCE_TOUCH_NAVIGATION;
         mDeviceMode = DEVICE_MODE_NAVIGATION;
-- 
2.7.4

