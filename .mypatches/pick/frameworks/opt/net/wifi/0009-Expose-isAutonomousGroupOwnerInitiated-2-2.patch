From a06f847b0dee2efc064bbb595ae1b142a5a2e06a Mon Sep 17 00:00:00 2001
From: Aaron Kling <webgeek1234@gmail.com>
Date: Tue, 7 Nov 2017 13:55:22 -0600
Subject: [PATCH 09/11] Expose isAutonomousGroupOwnerInitiated [2/2]

Change-Id: I00bb98d6f8ef910d75df17e100a7d729f197b830
---
 .../com/android/server/wifi/p2p/WifiP2pServiceImpl.java   | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/service/java/com/android/server/wifi/p2p/WifiP2pServiceImpl.java b/service/java/com/android/server/wifi/p2p/WifiP2pServiceImpl.java
index aa3360664..001c672ad 100644
--- a/service/java/com/android/server/wifi/p2p/WifiP2pServiceImpl.java
+++ b/service/java/com/android/server/wifi/p2p/WifiP2pServiceImpl.java
@@ -610,6 +610,14 @@ public class WifiP2pServiceImpl extends IWifiP2pManager.Stub {
         mP2pStateMachine.sendMessage(SET_MIRACAST_MODE, mode);
     }
 
+    /** This is used to provide the information that there is an active autonomous GO and
+      * applications should call create/remove p2p interface accordingly
+      */
+    @Override
+    public boolean isAutonomousGroupOwnerInitiated() {
+        return mAutonomousGroup;
+    }
+
     @Override
     public void checkConfigureWifiDisplayPermission() {
         if (!getWfdPermission(Binder.getCallingUid())) {
-- 
2.17.1

