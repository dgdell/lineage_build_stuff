From 0bf4584ec8bb7263d4ebf541da8fc2663d5a30a5 Mon Sep 17 00:00:00 2001
From: "Christopher N. Hesse" <raymanfx@gmail.com>
Date: Wed, 10 Jan 2018 18:21:31 +0100
Subject: [PATCH 1/2] su: Remove EUID vs UID check

Not sure if this is a good idea, but the old code does not work in Oreo.

Change-Id: I5a0ccaeedccbbd3b6271811cb602ee16c4cd5383
---
 su.c | 5 -----
 1 file changed, 5 deletions(-)

diff --git a/su.c b/su.c
index 99d0232..3d64271 100644
--- a/su.c
+++ b/su.c
@@ -363,11 +363,6 @@ static void fork_for_samsung(void)
 }
 
 int main(int argc, char *argv[]) {
-    if (getuid() != geteuid()) {
-        ALOGE("must not be a setuid binary");
-        return 1;
-    }
-
     return su_main(argc, argv, 1);
 }
 
-- 
2.7.4

