From 4600c362bc93d5f88f46995c028f4a4326a4419a Mon Sep 17 00:00:00 2001
From: Luca Stefani <luca.stefani.ge1@gmail.com>
Date: Sun, 26 Aug 2018 11:34:10 +0200
Subject: [PATCH 04/11] su: Enable Clang Tidy

Change-Id: Ia732c5688a0bde026d2d8e9c4646175c2a5dee1a
---
 Android.mk | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/Android.mk b/Android.mk
index 4554eba..14a44cd 100644
--- a/Android.mk
+++ b/Android.mk
@@ -24,6 +24,10 @@ LOCAL_MODULE_PATH := $(TARGET_OUT_OPTIONAL_EXECUTABLES)
 
 LOCAL_INIT_RC := superuser.rc
 
+LOCAL_TIDY_FLAGS := -warnings-as-errors=clang-analyzer-security*,cert-*
+LOCAL_TIDY_CHECKS := -*,clang-analyzer-security*,cert-*
+LOCAL_TIDY := true
+
 include $(BUILD_EXECUTABLE)
 
 SYMLINKS := $(addprefix $(TARGET_OUT)/bin/,su)
-- 
2.17.1

