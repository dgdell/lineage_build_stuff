From 087a95de502a14cf80d4abcbcaa6fab35f742e2d Mon Sep 17 00:00:00 2001
From: Luca Stefani <luca.stefani.ge1@gmail.com>
Date: Sun, 26 Aug 2018 12:59:35 +0200
Subject: [PATCH 08/11] su: Use shared libraries

Change-Id: Id29d44e86f36540c94f1042ad3c47e45b8f32817
---
 Android.mk | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

diff --git a/Android.mk b/Android.mk
index 14a44cdf..44c7756b 100644
--- a/Android.mk
+++ b/Android.mk
@@ -6,17 +6,12 @@ include $(CLEAR_VARS)
 
 LOCAL_MODULE := su
 LOCAL_MODULE_TAGS := optional
-LOCAL_WHOLE_STATIC_LIBRARIES := \
-    libasync_safe \
-    libbacktrace \
-    libbase \
+LOCAL_SHARED_LIBRARIES := \
     libbinder \
     libcutils \
     liblog \
-    liblzma \
-    libunwind \
     libutils \
-    libvndksupport
+
 LOCAL_SRC_FILES := su.c daemon.c utils.c pts.c
 LOCAL_SRC_FILES += binder/appops-wrapper.cpp binder/pm-wrapper.c
 LOCAL_CFLAGS += -Werror -Wall
-- 
2.17.1

