From ae13fa938faa5028420499b05820cb9e97df70ff Mon Sep 17 00:00:00 2001
From: Luca Stefani <luca.stefani.ge1@gmail.com>
Date: Sun, 26 Aug 2018 12:59:23 +0200
Subject: [PATCH 07/11] su: Cleanup includes

Change-Id: If12364e3e195a9a460868237aed7a8262632700f
---
 binder/appops-wrapper.cpp |  2 +-
 binder/pm-wrapper.c       |  1 -
 daemon.c                  | 16 +---------------
 su.c                      | 12 +-----------
 4 files changed, 3 insertions(+), 28 deletions(-)

diff --git a/binder/appops-wrapper.cpp b/binder/appops-wrapper.cpp
index 9bee485f..37273ace 100644
--- a/binder/appops-wrapper.cpp
+++ b/binder/appops-wrapper.cpp
@@ -1,7 +1,7 @@
 #define LOG_TAG "su"
 
 #include <binder/AppOpsManager.h>
-#include <utils/Log.h>
+#include <log/log.h>
 
 using android::AppOpsManager;
 using android::String16;
diff --git a/binder/pm-wrapper.c b/binder/pm-wrapper.c
index 960fbbc7..f57566c2 100644
--- a/binder/pm-wrapper.c
+++ b/binder/pm-wrapper.c
@@ -2,7 +2,6 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
-#include <utils/Log.h>
 #include "../utils.h"
 
 #define PACKAGE_LIST_PATH "/data/system/packages.list"
diff --git a/daemon.c b/daemon.c
index 14f6ebd6..aaabd6ed 100644
--- a/daemon.c
+++ b/daemon.c
@@ -17,31 +17,17 @@
 
 #define _GNU_SOURCE /* for unshare() */
 
-#include <fcntl.h>
-#include <getopt.h>
-#include <limits.h>
-#include <log/log.h>
-#include <pthread.h>
-#include <pwd.h>
-#include <sched.h>
-#include <signal.h>
-#include <stdarg.h>
-#include <stdint.h>
-#include <stdio.h>
 #include <stdlib.h>
-#include <string.h>
 #include <sys/mount.h>
-#include <sys/select.h>
 #include <sys/socket.h>
 #include <sys/stat.h>
-#include <sys/time.h>
 #include <sys/types.h>
 #include <sys/un.h>
 #include <sys/wait.h>
-#include <termios.h>
 #include <unistd.h>
 
 #include <cutils/multiuser.h>
+#include <log/log.h>
 
 #include "pts.h"
 #include "su.h"
diff --git a/su.c b/su.c
index 2eaf4e6e..e5f438aa 100644
--- a/su.c
+++ b/su.c
@@ -15,27 +15,17 @@
 ** limitations under the License.
 */
 
-#include <fcntl.h>
 #include <getopt.h>
-#include <limits.h>
 #include <pwd.h>
-#include <stdarg.h>
-#include <stdint.h>
-#include <stdio.h>
 #include <stdlib.h>
-#include <sys/select.h>
-#include <sys/socket.h>
 #include <sys/stat.h>
-#include <sys/time.h>
 #include <sys/types.h>
-#include <sys/uio.h>
-#include <sys/un.h>
 #include <sys/wait.h>
 #include <unistd.h>
 
+#include <cutils/android_filesystem_config.h>
 #include <cutils/properties.h>
 #include <log/log.h>
-#include <private/android_filesystem_config.h>
 
 #include "binder/pm-wrapper.h"
 #include "su.h"
-- 
2.17.1

