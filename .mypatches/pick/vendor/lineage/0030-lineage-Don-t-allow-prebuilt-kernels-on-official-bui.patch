From ba625417a0a044e0c3d123f666fc0a21522daedf Mon Sep 17 00:00:00 2001
From: Paul Keith <javelinanddart@gmail.com>
Date: Thu, 5 Jul 2018 18:00:33 +0200
Subject: [PATCH 30/32] lineage: Don't allow prebuilt kernels on official
 builds

Change-Id: I37d1fe8e8596ac09c51d2a9f2e066ae30c537235
---
 build/tasks/kernel.mk | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/build/tasks/kernel.mk b/build/tasks/kernel.mk
index aa3febf7..f2671b91 100644
--- a/build/tasks/kernel.mk
+++ b/build/tasks/kernel.mk
@@ -155,6 +155,9 @@ ifeq "$(wildcard $(KERNEL_SRC) )" ""
         $(warning * source repository to $(KERNEL_SRC))
         $(warning * for more information                                        *)
         $(warning ***************************************************************)
+        ifeq ($(LINEAGE_BUILDTYPE), NIGHTLY)
+            $(error "PREBUILT KERNELS NOT ALLOWED FOR NIGHTLY BUILDS")
+        endif
         FULL_KERNEL_BUILD := false
         KERNEL_BIN := $(TARGET_PREBUILT_KERNEL)
     else
-- 
2.17.1

