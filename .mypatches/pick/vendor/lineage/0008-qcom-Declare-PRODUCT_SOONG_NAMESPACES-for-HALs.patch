From 55c33ade0c047c042a1a9f3058d662fe40264115 Mon Sep 17 00:00:00 2001
From: Rashed Abdel-Tawab <rashed@linux.com>
Date: Sat, 25 Aug 2018 11:17:23 -0700
Subject: [PATCH 08/11] qcom: Declare PRODUCT_SOONG_NAMESPACES for HALs

HALs are starting to move to blueprint files, which means that pathmap
ifeqs no longer work. This results in modules with the same name in
different platform HAL directories. Since these modules aren't used or
linked anywhere outside the HAL directories and a device's device.mk,
we can safely use a soong namespace to isolate the different HAL
directories' blueprints. This defines the PRODUCT_SOONG_NAMESPACES
make flag so make knows which namespace to look in as well.

Change-Id: I549e6da863465d79b12c7453aa169d5d963afa52
---
 config/qcom.mk | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/config/qcom.mk b/config/qcom.mk
index f6afd197..bd8940ca 100644
--- a/config/qcom.mk
+++ b/config/qcom.mk
@@ -78,3 +78,8 @@ endif
 endif
 endif
 endif
+
+PRODUCT_SOONG_NAMESPACES += \
+    hardware/qcom/audio-caf/$(QCOM_HARDWARE_VARIANT) \
+    hardware/qcom/display-caf/$(QCOM_HARDWARE_VARIANT) \
+    hardware/qcom/media-caf/$(QCOM_HARDWARE_VARIANT)
-- 
2.17.1

