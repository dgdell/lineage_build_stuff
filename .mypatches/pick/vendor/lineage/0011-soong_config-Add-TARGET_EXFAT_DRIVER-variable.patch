From b42ba74467d8fc322f7ff5b65da589a84e4cac0b Mon Sep 17 00:00:00 2001
From: Nich <nctrenco@gmail.com>
Date: Sun, 26 Aug 2018 15:29:10 +0800
Subject: [PATCH 11/11] soong_config: Add TARGET_EXFAT_DRIVER variable

Change-Id: I1bcafc1e8008ae815dde95d076217d8b5f99f13f
---
 build/soong/android/variable.go | 4 ++++
 build/soong/soong_config.mk     | 1 +
 2 files changed, 5 insertions(+)

diff --git a/build/soong/android/variable.go b/build/soong/android/variable.go
index cbc2a0d2..c4ed04d4 100644
--- a/build/soong/android/variable.go
+++ b/build/soong/android/variable.go
@@ -12,6 +12,9 @@ type Product_variables struct {
 	Needs_text_relocations struct {
 		Cppflags []string
 	}
+	Target_exfat_driver struct {
+		Cflags []string
+	}
 	Target_shim_libs struct {
 		Cppflags []string
 	}
@@ -37,6 +40,7 @@ type ProductVariables struct {
 	Needs_legacy_camera_hal1_dyn_native_handle  *bool `json:",omitempty"`
 	Needs_text_relocations  *bool `json:",omitempty"`
 	Specific_camera_parameter_library  *string `json:",omitempty"`
+	Target_exfat_driver  *string `json:",omitempty"`
 	Target_shim_libs  *string `json:",omitempty"`
 	Uses_generic_camera_parameter_library  *bool `json:",omitempty"`
 	Uses_nvidia_enhancements  *bool `json:",omitempty"`
diff --git a/build/soong/soong_config.mk b/build/soong/soong_config.mk
index 7ae37870..4bc5c9b7 100644
--- a/build/soong/soong_config.mk
+++ b/build/soong/soong_config.mk
@@ -12,6 +12,7 @@ $(call add_json_bool, Has_legacy_camera_hal1,                     $(filter true,
 $(call add_json_bool, Needs_legacy_camera_hal1_dyn_native_handle, $(filter true,$(TARGET_NEEDS_LEGACY_CAMERA_HAL1_DYN_NATIVE_HANDLE)))
 $(call add_json_bool, Needs_text_relocations,                $(filter true,$(TARGET_NEEDS_PLATFORM_TEXT_RELOCATIONS)))
 $(call add_json_str,  Specific_camera_parameter_library,     $(TARGET_SPECIFIC_CAMERA_PARAMETER_LIBRARY))
+$(call add_json_str,  Target_exfat_driver,                   $(TARGET_EXFAT_DRIVER))
 $(call add_json_str,  Target_shim_libs,                      $(TARGET_LD_SHIM_LIBS))
 $(call add_json_bool, Uses_generic_camera_parameter_library, $(if $(TARGET_SPECIFIC_CAMERA_PARAMETER_LIBRARY),,true))
 $(call add_json_bool, Uses_nvidia_enhancements,              $(filter TRUE,$(NV_ANDROID_FRAMEWORK_ENHANCEMENTS)))
-- 
2.17.1

