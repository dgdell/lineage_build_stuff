From cabd6e8bcd9ab26eeda9b48f78fce5ef67e7a451 Mon Sep 17 00:00:00 2001
From: Paul Keith <javelinanddart@gmail.com>
Date: Wed, 28 Mar 2018 17:44:52 +0200
Subject: [PATCH 3/6] fs: sdfat: Disable aligned mpage writes when built as a
 module

* This requires functions not available for modules

Change-Id: I4731317ffe5d67a874d904c7580016200e1b59ed
---
 fs/sdfat/Kconfig | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/fs/sdfat/Kconfig b/fs/sdfat/Kconfig
index 3a15bbb5552..3d984e8ac73 100644
--- a/fs/sdfat/Kconfig
+++ b/fs/sdfat/Kconfig
@@ -70,7 +70,7 @@ config SDFAT_CHECK_RO_ATTR
 config SDFAT_ALIGNED_MPAGE_WRITE
 	bool "Enable supporting aligned mpage_write"
 	default y
-	depends on SDFAT_FS
+	depends on SDFAT_FS = y
 
 config SDFAT_VIRTUAL_XATTR
 	bool "Virtual xattr support for sdFAT"
-- 
2.15.1

