From 4bb6e9a792229ccb91c00522032913583625a0c7 Mon Sep 17 00:00:00 2001
From: Marco Nelissen <marcone@google.com>
Date: Tue, 4 Apr 2017 10:32:22 -0700
Subject: [PATCH 35/47] Limit vpx decoder to 4K frames

Bug: 34360591
Change-Id: If66c3498b9a7052219af2dcaa2ef33e1408a8587
Merged-In: If66c3498b9a7052219af2dcaa2ef33e1408a8587
---
 armv7a-neon/vpx_config.h | 3 +++
 armv7a/vpx_config.h      | 3 +++
 generic/vpx_config.h     | 3 +++
 mips-dspr2/vpx_config.h  | 3 +++
 mips/vpx_config.h        | 3 +++
 5 files changed, 15 insertions(+)

diff --git a/armv7a-neon/vpx_config.h b/armv7a-neon/vpx_config.h
index 1024ef7..275158e 100644
--- a/armv7a-neon/vpx_config.h
+++ b/armv7a-neon/vpx_config.h
@@ -90,4 +90,7 @@
 #define CONFIG_DECRYPT 0
 #define CONFIG_MULTIPLE_ARF 0
 #define CONFIG_ALPHA 0
+#define CONFIG_SIZE_LIMIT 1
+#define DECODE_WIDTH_LIMIT 4096
+#define DECODE_HEIGHT_LIMIT 3072
 #endif /* VPX_CONFIG_H */
diff --git a/armv7a/vpx_config.h b/armv7a/vpx_config.h
index 71b2d11..89c3c16 100644
--- a/armv7a/vpx_config.h
+++ b/armv7a/vpx_config.h
@@ -90,4 +90,7 @@
 #define CONFIG_DECRYPT 0
 #define CONFIG_MULTIPLE_ARF 0
 #define CONFIG_ALPHA 0
+#define CONFIG_SIZE_LIMIT 1
+#define DECODE_WIDTH_LIMIT 4096
+#define DECODE_HEIGHT_LIMIT 3072
 #endif /* VPX_CONFIG_H */
diff --git a/generic/vpx_config.h b/generic/vpx_config.h
index deac830..6588c30 100644
--- a/generic/vpx_config.h
+++ b/generic/vpx_config.h
@@ -90,4 +90,7 @@
 #define CONFIG_DECRYPT 0
 #define CONFIG_MULTIPLE_ARF 0
 #define CONFIG_ALPHA 0
+#define CONFIG_SIZE_LIMIT 1
+#define DECODE_WIDTH_LIMIT 4096
+#define DECODE_HEIGHT_LIMIT 3072
 #endif /* VPX_CONFIG_H */
diff --git a/mips-dspr2/vpx_config.h b/mips-dspr2/vpx_config.h
index a2ecab2..36b7a8f 100644
--- a/mips-dspr2/vpx_config.h
+++ b/mips-dspr2/vpx_config.h
@@ -90,4 +90,7 @@
 #define CONFIG_DECRYPT 0
 #define CONFIG_MULTIPLE_ARF 0
 #define CONFIG_ALPHA 0
+#define CONFIG_SIZE_LIMIT 1
+#define DECODE_WIDTH_LIMIT 4096
+#define DECODE_HEIGHT_LIMIT 3072
 #endif /* VPX_CONFIG_H */
diff --git a/mips/vpx_config.h b/mips/vpx_config.h
index fceafa1..32e24ec 100644
--- a/mips/vpx_config.h
+++ b/mips/vpx_config.h
@@ -90,4 +90,7 @@
 #define CONFIG_DECRYPT 0
 #define CONFIG_MULTIPLE_ARF 0
 #define CONFIG_ALPHA 0
+#define CONFIG_SIZE_LIMIT 1
+#define DECODE_WIDTH_LIMIT 4096
+#define DECODE_HEIGHT_LIMIT 3072
 #endif /* VPX_CONFIG_H */
-- 
2.17.1

