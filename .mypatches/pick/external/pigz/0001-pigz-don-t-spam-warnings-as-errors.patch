From c629540cd7092bb4e0a088f200a02392ca015271 Mon Sep 17 00:00:00 2001
From: Rashed Abdel-Tawab <rashed@linux.com>
Date: Sun, 12 Aug 2018 19:08:03 -0700
Subject: [PATCH] pigz: don't spam warnings as errors

Change-Id: I4f829ae0d90ea5fdd0d5341834b0ad65979bbabe
---
 Android.mk | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/Android.mk b/Android.mk
index 5e82983..cdaeff8 100644
--- a/Android.mk
+++ b/Android.mk
@@ -10,12 +10,14 @@ zopfli_src_files := zopfli/src/zopfli/blocksplitter.c \
 					zopfli/src/zopfli/util.c \
 					zopfli/src/zopfli/squeeze.c \
 					zopfli/src/zopfli/katajainen.c
+pigz_cflags := -Wno-unused-variable -Wno-unused-parameter
 
 include $(CLEAR_VARS)
 LOCAL_MODULE := libzopfli_static
 LOCAL_MODULE_TAGS := optional
 LOCAL_SRC_FILES := $(zopfli_src_files)
 LOCAL_C_INCLUDES := $(LOCAL_PATH) external/zlib external/pigz/zopfli/src/zopfli
+LOCAL_CFLAGS := $(pigz_cflags)
 include $(BUILD_STATIC_LIBRARY)
 
 include $(CLEAR_VARS)
@@ -23,7 +25,7 @@ LOCAL_MODULE := libminipigz_static
 LOCAL_MODULE_TAGS := optional
 LOCAL_SRC_FILES := $(pigz_src_files)
 LOCAL_C_INCLUDES := $(LOCAL_PATH) external/zlib external/pigz/zopfli
-LOCAL_CFLAGS := -Dmain=pigz_main
+LOCAL_CFLAGS := -Dmain=pigz_main $(pigz_cflags)
 include $(BUILD_STATIC_LIBRARY)
 
 include $(CLEAR_VARS)
@@ -37,5 +39,6 @@ LOCAL_MODULE_PATH := $(TARGET_OUT_OPTIONAL_EXECUTABLES)
 
 PIGZ_TOOLS := unpigz gzip gunzip zcat
 LOCAL_POST_INSTALL_CMD := $(hide) $(foreach t,$(PIGZ_TOOLS),ln -sf pigz $(TARGET_OUT)/xbin/$(t);)
+LOCAL_CFLAGS := $(pigz_cflags)
 
 include $(BUILD_EXECUTABLE)
-- 
2.17.1

