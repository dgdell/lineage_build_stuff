From 0ef188b129f0d9d38f658825b0c2c9daf9b78daf Mon Sep 17 00:00:00 2001
From: Steve Kondik <steve@cyngn.com>
Date: Mon, 12 Oct 2015 12:49:32 -1000
Subject: [PATCH 6/6] tinycompress: Fix compilation on old targets

 * Exclude code for codec-specific data if kernel support is missing.

Change-Id: I088e0244b01b01f21b80d9478407a185c34afbe8
---
 compress.c | 2 --
 1 file changed, 2 deletions(-)

diff --git a/compress.c b/compress.c
index 6698096..1cdf297 100644
--- a/compress.c
+++ b/compress.c
@@ -572,7 +572,6 @@ int compress_set_gapless_metadata(struct compress *compress,
 	return 0;
 }
 
-#ifdef USE_VENDOR_EXTN
 #if defined(SNDRV_COMPRESS_SET_NEXT_TRACK_PARAM)
 int compress_set_next_track_param(struct compress *compress,
 	union snd_codec_options *codec_options)
@@ -591,7 +590,6 @@ int compress_set_next_track_param(struct compress *compress __unused,
 	return 0;
 }
 #endif
-#endif
 
 bool is_codec_supported(unsigned int card, unsigned int device,
 		unsigned int flags, struct snd_codec *codec)
-- 
2.17.1

