From 97294ad0e70308be65c6128ca39842e432a4d9c8 Mon Sep 17 00:00:00 2001
From: Nikolas Lim <nicknitewolf@lineageos.org>
Date: Fri, 22 Jun 2018 17:20:06 +0800
Subject: [PATCH 191/249] wiki: Re-add wt88047 and update install instructions

Change-Id: I7662f026ad2357403b40ed6b1fbc164707b3d181
---
 _data/devices/wt88047.yml                     | 13 +++++------
 .../device_specific/before_install_wt88047.md | 23 +++++++++++++++++++
 2 files changed, 29 insertions(+), 7 deletions(-)
 create mode 100644 _includes/templates/device_specific/before_install_wt88047.md

diff --git a/_data/devices/wt88047.yml b/_data/devices/wt88047.yml
index 7790fca..856c625 100644
--- a/_data/devices/wt88047.yml
+++ b/_data/devices/wt88047.yml
@@ -1,23 +1,23 @@
 architecture: arm
 battery: {removable: True, capacity: 2200, tech: 'Li-Po'}
+before_install: before_install_wt88047
 bluetooth: {spec: 4.0 + LE, profiles: [A2DP]}
 cameras:
 - {flash: 'LED', info: '8 MP'}
 - {flash: '', info: '2 MP'}
 carrier:
-channels: [discontinued]
+channels: [weekly]
 codename: wt88047
 cpu: Cortex-A53
 cpu_cores: '4'
 cpu_freq: 1.2 GHz
-current_branch: 14.1
+current_branch: 15.1
 depth: 9.4 mm (0.37 in)
-download_boot: With the device powered down, hold <kbd>Volume Down</kbd> + <kbd>Power</kbd>.
-  Keep holding all buttons until the word "FASTBOOT" appears on the screen, then release.
+download_boot: With the device powered off, hold <kbd>Volume Down</kbd> + <kbd>Power</kbd>.
 gpu: Adreno 306
 height: 134 mm (5.28 in)
 image: wt88047.png
-install_method: fastboot_xiaomi
+install_method: fastboot_unlocked
 kernel: android_kernel_wingtech_msm8916
 maintainers: []
 name: Redmi 2
@@ -28,7 +28,6 @@ network:
 peripherals: [Accelerometer, Gyroscope, Proximity sensor, Compass, Dual SIM, GPS]
 ram: 1/2 GB
 recovery_boot: With the device powered off, hold <kbd>Volume Up</kbd> + <kbd>Volume Down</kbd> + <kbd>Power</kbd>.
-  Keep holding both buttons until the "MI" logo appears on the screen, then release.
 release: 2015-01
 screen: 119.4 mm (4.7 in)
 screen_ppi: '312'
@@ -41,6 +40,6 @@ tree: android_device_wingtech_wt88047
 type: phone
 vendor: Wingtech
 vendor_short: wingtech
-versions: [14.1]
+versions: [14.1, 15.1]
 width: 67.2 mm (2.65 in)
 wifi: 802.11 b/g/n, Wi-Fi Direct, Hotspot
diff --git a/_includes/templates/device_specific/before_install_wt88047.md b/_includes/templates/device_specific/before_install_wt88047.md
new file mode 100644
index 0000000..310dcad
--- /dev/null
+++ b/_includes/templates/device_specific/before_install_wt88047.md
@@ -0,0 +1,23 @@
+## Important Information:
+
+Xiaomi has released the Android 5.1.1 update to only Redmi 2 variants with 2GB of ram.
+As not all Redmi 2 variants received the update, these variants are on the latest compatible firmware. 
+
+### Terminology
+
+- **firmware** : Controls the modem and baseband of a device
+
+### What you need to know
+
+- If you are installing from LP (5.x) stock MIUI, nothing needs to be done.
+- If you are installing from KK (4.4) stock MIUI, you will have to update your **firmware**.
+- To update your firmware:
+  - You will first need to find out the model of your Redmi 2.
+    Open Settings > Phone info, your model no. should be displayed under the Model section.
+      - Devices with model numbers 2014811, 2014812, 2014817 2014818, 2014819, and 2014821
+       should download the firmware labeled `wt88047`
+      - Devices with model numbers 2014813, 2014112 should download the firmware labeled
+       `wt86047`
+  - Aftewards, download the latest compatible firmware [here](http://bit.ly/wt88047-firmware/).
+  - In the later steps after flashing the LineageOS `.zip` package, select the firmware `.zip`
+    to update to the latest compatible firmware.
-- 
2.17.1

