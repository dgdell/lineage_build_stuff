From 044ac3d962678755f4b20aded3d4106fc5ddeefc Mon Sep 17 00:00:00 2001
From: Michael Bestas <mkbestas@lineageos.org>
Date: Sun, 28 Jan 2018 19:52:23 +0200
Subject: [PATCH 4/7] LineageParts: Restore keydisabler state at boot

Change-Id: Id8ad037ede52c801173cccbf13288120f1475578
---
 src/org/lineageos/lineageparts/BootReceiver.java | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

diff --git a/src/org/lineageos/lineageparts/BootReceiver.java b/src/org/lineageos/lineageparts/BootReceiver.java
index 4c75b11..6e138c5 100644
--- a/src/org/lineageos/lineageparts/BootReceiver.java
+++ b/src/org/lineageos/lineageparts/BootReceiver.java
@@ -25,26 +25,23 @@ import android.support.v7.preference.PreferenceManager;
 import org.lineageos.lineageparts.contributors.ContributorsCloudFragment;
 /*
 import org.lineageos.lineageparts.gestures.TouchscreenGestureSettings;
-import org.lineageos.lineageparts.input.ButtonSettings;
 */
+import org.lineageos.lineageparts.input.ButtonSettings;
 
 public class BootReceiver extends BroadcastReceiver {
 
     private static final String TAG = "BootReceiver";
-    /*
     private static final String ONE_TIME_TUNABLE_RESTORE = "hardware_tunable_restored";
-    */
 
     @Override
     public void onReceive(Context ctx, Intent intent) {
-        /*
         if (!hasRestoredTunable(ctx)) {
             /* Restore the hardware tunable values */
-            /*
             ButtonSettings.restoreKeyDisabler(ctx);
             setRestoredTunable(ctx);
         }
 
+        /*
         TouchscreenGestureSettings.restoreTouchscreenGestureStates(ctx);
         */
 
@@ -52,7 +49,6 @@ public class BootReceiver extends BroadcastReceiver {
         ContributorsCloudFragment.extractContributorsCloudDatabase(ctx);
     }
 
-    /*
     private boolean hasRestoredTunable(Context context) {
         SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);
         return preferences.getBoolean(ONE_TIME_TUNABLE_RESTORE, false);
@@ -62,5 +58,4 @@ public class BootReceiver extends BroadcastReceiver {
         SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);
         preferences.edit().putBoolean(ONE_TIME_TUNABLE_RESTORE, true).apply();
     }
-    */
 }
-- 
2.7.4

