From 3fc40760f37caa657a9a3617d72b42e8eeacaf83 Mon Sep 17 00:00:00 2001
From: LuK1337 <priv.luk@gmail.com>
Date: Fri, 19 Oct 2018 16:15:46 +0200
Subject: [PATCH 6/6] LineageParts: Reenable Privacy Guard

Change-Id: Ie851de5a4d2a224911a07fdc694e491feb996a70
---
 .../lineageos/lineageparts/privacyguard/AppInfoLoader.java    | 2 --
 .../lineageparts/privacyguard/PrivacyGuardManager.java        | 4 ----
 2 files changed, 6 deletions(-)

diff --git a/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java b/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
index b2b0a6d..b7658c0 100644
--- a/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
+++ b/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
@@ -102,10 +102,8 @@ import java.util.List;
             app.packageName = info.packageName;
             app.enabled = appInfo.enabled;
             app.uid = info.applicationInfo.uid;
-/*
             app.privacyGuardEnabled = mAppOps.getPrivacyGuardSettingForPackage(
                     app.uid, app.packageName);
-*/
             apps.add(app);
         }
 
diff --git a/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java b/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
index 0e78ccf..9f88c70 100644
--- a/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
+++ b/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
@@ -273,9 +273,7 @@ public class PrivacyGuardManager extends SettingsPreferenceFragment
         final AppInfo app = (AppInfo) parent.getItemAtPosition(position);
 
         app.privacyGuardEnabled = !app.privacyGuardEnabled;
-/*
         mAppOps.setPrivacyGuardSettingForPackage(app.uid, app.packageName, app.privacyGuardEnabled);
-*/
 
         mAdapter.notifyDataSetChanged();
     }
@@ -288,11 +286,9 @@ public class PrivacyGuardManager extends SettingsPreferenceFragment
         Bundle args = new Bundle();
         args.putString("package", app.packageName);
 
-/*
         final Intent i = new Intent(Settings.ACTION_APP_OPS_DETAILS_SETTINGS,
                 Uri.fromParts("package", app.packageName, null));
         mActivity.startActivityForResult(i, 0);
-*/
         return true;
     }
 
-- 
2.17.1

