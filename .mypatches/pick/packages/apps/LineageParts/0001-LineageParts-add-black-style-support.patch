From bd2237d3f78fba16743b0e6edbbae635ff2401bc Mon Sep 17 00:00:00 2001
From: SpiritCroc <spiritcroc@gmail.com>
Date: Fri, 6 Apr 2018 22:33:50 +0200
Subject: [PATCH 1/7] LineageParts: add black style support

Change-Id: Ic4b6f0a5fa3fa6062f455c1400232f92562908f7
---
 res/values/arrays.xml                                    | 2 ++
 res/values/strings.xml                                   | 1 +
 .../lineageos/lineageparts/style/StylePreferences.java   | 9 +++++++++
 .../lineageos/lineageparts/style/models/StyleStatus.java | 3 ++-
 4 files changed, 14 insertions(+), 1 deletion(-)

diff --git a/res/values/arrays.xml b/res/values/arrays.xml
index a339b5a..5cb2586 100644
--- a/res/values/arrays.xml
+++ b/res/values/arrays.xml
@@ -409,6 +409,7 @@
         <item>@string/style_global_entry_time</item>
         <item>@string/style_global_entry_light</item>
         <item>@string/style_global_entry_dark</item>
+        <item>@string/style_global_entry_black</item>
     </string-array>
 
     <!-- Global style values -->
@@ -417,6 +418,7 @@
         <item>1</item> <!-- Based on LiveDisplay -->
         <item>2</item> <!-- Force light -->
         <item>3</item> <!-- Force dark -->
+        <item>4</item> <!-- Force black -->
     </string-array>
 
     <!-- Sms limit -->
diff --git a/res/values/strings.xml b/res/values/strings.xml
index 11d0b46..39d91b3 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -684,6 +684,7 @@
     <string name="style_global_entry_automatic">Automatic (wallpaper)</string>
     <string name="style_global_entry_light">Light</string>
     <string name="style_global_entry_dark">Dark</string>
+    <string name="style_global_entry_black">Black</string>
     <string name="style_global_entry_time">Automatic (time of the day)</string>
     <string name="style_global_entry_app">Managed by %1$s</string>
     <string name="style_accent_title">Accent color</string>
diff --git a/src/org/lineageos/lineageparts/style/StylePreferences.java b/src/org/lineageos/lineageparts/style/StylePreferences.java
index 6f771fe..e5af1a0 100644
--- a/src/org/lineageos/lineageparts/style/StylePreferences.java
+++ b/src/org/lineageos/lineageparts/style/StylePreferences.java
@@ -201,6 +201,9 @@ public class StylePreferences extends SettingsPreferenceFragment {
             case StyleInterface.STYLE_GLOBAL_DARK:
                 mStyleStatus = StyleStatus.DARK_ONLY;
                 break;
+            case StyleInterface.STYLE_GLOBAL_BLACK:
+                mStyleStatus = StyleStatus.BLACK_ONLY;
+                break;
             default:
                 mStyleStatus = StyleStatus.DYNAMIC;
                 break;
@@ -278,6 +281,7 @@ public class StylePreferences extends SettingsPreferenceFragment {
                 icon = R.drawable.ic_style_light;
                 break;
             case StyleInterface.STYLE_GLOBAL_DARK:
+            case StyleInterface.STYLE_GLOBAL_BLACK:
                 icon = R.drawable.ic_style_dark;
                 break;
             default:
@@ -305,6 +309,8 @@ public class StylePreferences extends SettingsPreferenceFragment {
                 return value == StyleInterface.STYLE_GLOBAL_LIGHT;
             case DARK_ONLY:
                 return value == StyleInterface.STYLE_GLOBAL_DARK;
+            case BLACK_ONLY:
+                return value == StyleInterface.STYLE_GLOBAL_BLACK;
             case DYNAMIC:
             default: // Never happens, but compilation fails without this
                 return true;
@@ -320,6 +326,9 @@ public class StylePreferences extends SettingsPreferenceFragment {
             case StyleInterface.STYLE_GLOBAL_DARK:
                 proposedStatus = StyleStatus.DARK_ONLY;
                 break;
+            case StyleInterface.STYLE_GLOBAL_BLACK:
+                proposedStatus = StyleStatus.BLACK_ONLY;
+                break;
             default:
                 proposedStatus = StyleStatus.DYNAMIC;
                 break;
diff --git a/src/org/lineageos/lineageparts/style/models/StyleStatus.java b/src/org/lineageos/lineageparts/style/models/StyleStatus.java
index 22968bf..98de39b 100644
--- a/src/org/lineageos/lineageparts/style/models/StyleStatus.java
+++ b/src/org/lineageos/lineageparts/style/models/StyleStatus.java
@@ -18,5 +18,6 @@ package org.lineageos.lineageparts.style.models;
 public enum StyleStatus {
     DYNAMIC,
     LIGHT_ONLY,
-    DARK_ONLY
+    DARK_ONLY,
+    BLACK_ONLY,
 }
\ No newline at end of file
-- 
2.17.1

