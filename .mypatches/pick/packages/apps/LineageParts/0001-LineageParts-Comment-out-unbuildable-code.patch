From 22214c1d26291b29e01e57e3791d08c605a3a5c4 Mon Sep 17 00:00:00 2001
From: Sam Mortimer <sam@mortimer.me.uk>
Date: Thu, 9 Aug 2018 01:18:47 -0700
Subject: [PATCH 1/2] LineageParts: Comment out unbuildable code

*) Comment out code that is unbuildable owing to missing features
   elsewhere.

Change-Id: I503a2ea214cd578abe8d2b33f2c7cdab0779143d
---
 .../lineageparts/applications/ExpandedDesktopPrefs.java       | 2 ++
 .../lineageparts/applications/ExpandedDesktopSettings.java    | 4 ++++
 .../lineageos/lineageparts/privacyguard/AppInfoLoader.java    | 2 ++
 .../lineageparts/privacyguard/PrivacyGuardManager.java        | 4 ++++
 4 files changed, 12 insertions(+)

diff --git a/src/org/lineageos/lineageparts/applications/ExpandedDesktopPrefs.java b/src/org/lineageos/lineageparts/applications/ExpandedDesktopPrefs.java
index f48c555..d5a470e 100644
--- a/src/org/lineageos/lineageparts/applications/ExpandedDesktopPrefs.java
+++ b/src/org/lineageos/lineageparts/applications/ExpandedDesktopPrefs.java
@@ -25,6 +25,7 @@ import android.support.v7.preference.Preference;
 import android.support.v7.preference.PreferenceCategory;
 import android.support.v7.preference.PreferenceScreen;
 import android.view.WindowManagerGlobal;
+/*
 import android.view.WindowManagerPolicyControl;
 
 import org.lineageos.lineageparts.R;
@@ -132,3 +133,4 @@ public class ExpandedDesktopPrefs extends SettingsPreferenceFragment
         updateExpandedDesktopStyle();
     }
 }
+*/
diff --git a/src/org/lineageos/lineageparts/applications/ExpandedDesktopSettings.java b/src/org/lineageos/lineageparts/applications/ExpandedDesktopSettings.java
index de5dc48..a9c4ab1 100644
--- a/src/org/lineageos/lineageparts/applications/ExpandedDesktopSettings.java
+++ b/src/org/lineageos/lineageparts/applications/ExpandedDesktopSettings.java
@@ -33,6 +33,7 @@ import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.view.WindowManagerGlobal;
+/*
 import android.view.WindowManagerPolicyControl;
 import android.widget.AdapterView;
 import android.widget.BaseAdapter;
@@ -452,6 +453,7 @@ public class ExpandedDesktopSettings extends SettingsPreferenceFragment
             }
 
             final int index = Arrays.binarySearch(mPositions, position);
+*/
 
             /*
              * Consider this example: section positions are 0, 3, 5; the supplied
@@ -461,6 +463,7 @@ public class ExpandedDesktopSettings extends SettingsPreferenceFragment
              * To get from that number to the expected value of 1 we need to negate
              * and subtract 2.
              */
+/*
             return index >= 0 ? index : -index - 2;
         }
 
@@ -588,3 +591,4 @@ public class ExpandedDesktopSettings extends SettingsPreferenceFragment
         }
     }
 }
+*/
diff --git a/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java b/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
index b7658c0..b2b0a6d 100644
--- a/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
+++ b/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
@@ -102,8 +102,10 @@ import java.util.List;
             app.packageName = info.packageName;
             app.enabled = appInfo.enabled;
             app.uid = info.applicationInfo.uid;
+/*
             app.privacyGuardEnabled = mAppOps.getPrivacyGuardSettingForPackage(
                     app.uid, app.packageName);
+*/
             apps.add(app);
         }
 
diff --git a/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java b/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
index 9f88c70..0e78ccf 100644
--- a/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
+++ b/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
@@ -273,7 +273,9 @@ public class PrivacyGuardManager extends SettingsPreferenceFragment
         final AppInfo app = (AppInfo) parent.getItemAtPosition(position);
 
         app.privacyGuardEnabled = !app.privacyGuardEnabled;
+/*
         mAppOps.setPrivacyGuardSettingForPackage(app.uid, app.packageName, app.privacyGuardEnabled);
+*/
 
         mAdapter.notifyDataSetChanged();
     }
@@ -286,9 +288,11 @@ public class PrivacyGuardManager extends SettingsPreferenceFragment
         Bundle args = new Bundle();
         args.putString("package", app.packageName);
 
+/*
         final Intent i = new Intent(Settings.ACTION_APP_OPS_DETAILS_SETTINGS,
                 Uri.fromParts("package", app.packageName, null));
         mActivity.startActivityForResult(i, 0);
+*/
         return true;
     }
 
-- 
2.17.1

