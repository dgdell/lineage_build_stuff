From 77e66dce77c21996faf8ba41b9716776919ef4bf Mon Sep 17 00:00:00 2001
From: Sam Mortimer <sam@mortimer.me.uk>
Date: Thu, 9 Aug 2018 01:18:47 -0700
Subject: [PATCH] LineageParts: Comment out unbuildable code

*) Comment out code that is unbuildable owing to missing features
   elsewhere.

Change-Id: I503a2ea214cd578abe8d2b33f2c7cdab0779143d
---
 .../lineageparts/applications/ExpandedDesktopPrefs.java     | 2 ++
 .../lineageparts/applications/ExpandedDesktopSettings.java  | 4 ++++
 src/org/lineageos/lineageparts/gestures/KeyHandler.java     | 2 ++
 .../lineageparts/input/ButtonBacklightBrightness.java       | 5 +++++
 src/org/lineageos/lineageparts/input/ButtonSettings.java    | 6 ++++++
 .../lineageos/lineageparts/privacyguard/AppInfoLoader.java  | 2 ++
 .../lineageparts/privacyguard/PrivacyGuardManager.java      | 4 ++++
 7 files changed, 25 insertions(+)

diff --git a/src/org/lineageos/lineageparts/applications/ExpandedDesktopPrefs.java b/src/org/lineageos/lineageparts/applications/ExpandedDesktopPrefs.java
index f48c555..d5a470e 100644
--- a/src/org/lineageos/lineageparts/applications/ExpandedDesktopPrefs.java
+++ b/src/org/lineageos/lineageparts/applications/ExpandedDesktopPrefs.java
@@ -25,6 +25,7 @@ import android.support.v7.preference.Preference;
 import android.support.v7.preference.PreferenceCategory;
 import android.support.v7.preference.PreferenceScreen;
 import android.view.WindowManagerGlobal;
+/*
 import android.view.WindowManagerPolicyControl;
 
 import org.lineageos.lineageparts.R;
@@ -132,3 +133,4 @@ public class ExpandedDesktopPrefs extends SettingsPreferenceFragment
         updateExpandedDesktopStyle();
     }
 }
+*/
diff --git a/src/org/lineageos/lineageparts/applications/ExpandedDesktopSettings.java b/src/org/lineageos/lineageparts/applications/ExpandedDesktopSettings.java
index 5462810..ca3dcae 100644
--- a/src/org/lineageos/lineageparts/applications/ExpandedDesktopSettings.java
+++ b/src/org/lineageos/lineageparts/applications/ExpandedDesktopSettings.java
@@ -33,6 +33,7 @@ import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.view.WindowManagerGlobal;
+/*
 import android.view.WindowManagerPolicyControl;
 import android.widget.AdapterView;
 import android.widget.BaseAdapter;
@@ -452,6 +453,7 @@ public class ExpandedDesktopSettings extends SettingsPreferenceFragment
             }
 
             final int index = Arrays.binarySearch(mPositions, position);
+*/
 
             /*
              * Consider this example: section positions are 0, 3, 5; the supplied
@@ -461,6 +463,7 @@ public class ExpandedDesktopSettings extends SettingsPreferenceFragment
              * To get from that number to the expected value of 1 we need to negate
              * and subtract 2.
              */
+/*
             return index >= 0 ? index : -index - 2;
         }
 
@@ -588,3 +591,4 @@ public class ExpandedDesktopSettings extends SettingsPreferenceFragment
         }
     }
 }
+*/
diff --git a/src/org/lineageos/lineageparts/gestures/KeyHandler.java b/src/org/lineageos/lineageparts/gestures/KeyHandler.java
index 30084b7..e182762 100644
--- a/src/org/lineageos/lineageparts/gestures/KeyHandler.java
+++ b/src/org/lineageos/lineageparts/gestures/KeyHandler.java
@@ -48,6 +48,7 @@ import android.util.Log;
 import android.util.SparseIntArray;
 import android.view.KeyEvent;
 
+/*
 import com.android.internal.os.DeviceKeyHandler;
 
 import lineageos.providers.LineageSettings;
@@ -407,3 +408,4 @@ public class KeyHandler implements DeviceKeyHandler {
         return pm.getLaunchIntentForPackage(resInfo.get(0).activityInfo.packageName);
     }
 }
+*/
diff --git a/src/org/lineageos/lineageparts/input/ButtonBacklightBrightness.java b/src/org/lineageos/lineageparts/input/ButtonBacklightBrightness.java
index d51864f..17a3081 100644
--- a/src/org/lineageos/lineageparts/input/ButtonBacklightBrightness.java
+++ b/src/org/lineageos/lineageparts/input/ButtonBacklightBrightness.java
@@ -74,6 +74,7 @@ public class ButtonBacklightBrightness extends CustomDialogPreference<AlertDialo
             mActiveControl = mKeyboardBrightness;
         }
         */
+        /*
         if (isButtonSupported()) {
             boolean isSingleValue = !context.getResources().getBoolean(
                     com.android.internal.R.bool.config_deviceHasVariableButtonBrightness);
@@ -87,6 +88,7 @@ public class ButtonBacklightBrightness extends CustomDialogPreference<AlertDialo
                     isSingleValue, defaultBrightness);
             mActiveControl = mButtonBrightness;
         }
+        */
 
         updateSummary();
     }
@@ -235,8 +237,11 @@ public class ButtonBacklightBrightness extends CustomDialogPreference<AlertDialo
                 || (deviceKeys & KEY_MASK_MENU) != 0
                 || (deviceKeys & KEY_MASK_ASSIST) != 0
                 || (deviceKeys & KEY_MASK_APP_SWITCH) != 0;
+        /*
         boolean hasBacklight = res.getInteger(
                 com.android.internal.R.integer.config_buttonBrightnessSettingDefault) > 0;
+        */
+        boolean hasBacklight = false;
 
         return hasBacklightKey && hasBacklight;
     }
diff --git a/src/org/lineageos/lineageparts/input/ButtonSettings.java b/src/org/lineageos/lineageparts/input/ButtonSettings.java
index cdd9943..9b9ae60 100644
--- a/src/org/lineageos/lineageparts/input/ButtonSettings.java
+++ b/src/org/lineageos/lineageparts/input/ButtonSettings.java
@@ -228,11 +228,13 @@ public class ButtonSettings extends SettingsPreferenceFragment implements
         // and don't even try unless the existing keys can be disabled
         boolean needsNavigationBar = false;
         if (hardware.isSupported(LineageHardwareManager.FEATURE_KEY_DISABLE)) {
+            /* wm.needsNavigationBar();
             try {
                 IWindowManager wm = WindowManagerGlobal.getWindowManagerService();
                 needsNavigationBar = wm.needsNavigationBar();
             } catch (RemoteException e) {
             }
+            */
 
             if (needsNavigationBar) {
                 prefScreen.removePreference(mDisableNavigationKeys);
@@ -371,10 +373,12 @@ public class ButtonSettings extends SettingsPreferenceFragment implements
                         findPreference(LineageSettings.System.VOLUME_ANSWER_CALL));
             }
 
+/*
             int cursorControlAction = Settings.System.getInt(resolver,
                     Settings.System.VOLUME_KEY_CURSOR_CONTROL, 0);
             mVolumeKeyCursorControl = initList(KEY_VOLUME_KEY_CURSOR_CONTROL,
                     cursorControlAction);
+*/
 
             int swapVolumeKeys = LineageSettings.System.getInt(getContentResolver(),
                     LineageSettings.System.SWAP_VOLUME_KEYS_ON_ROTATION, 0);
@@ -564,10 +568,12 @@ public class ButtonSettings extends SettingsPreferenceFragment implements
             handleListChange((ListPreference) preference, newValue,
                     LineageSettings.System.KEY_APP_SWITCH_LONG_PRESS_ACTION);
             return true;
+/*
         } else if (preference == mVolumeKeyCursorControl) {
             handleSystemListChange(mVolumeKeyCursorControl, newValue,
                     Settings.System.VOLUME_KEY_CURSOR_CONTROL);
             return true;
+*/
         } else if (preference == mTorchLongPressPowerTimeout) {
             handleListChange(mTorchLongPressPowerTimeout, newValue,
                     LineageSettings.System.TORCH_LONG_PRESS_POWER_TIMEOUT);
diff --git a/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java b/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
index b7658c0..b2b0a6d 100644
--- a/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
+++ b/src/org/lineageos/lineageparts/privacyguard/AppInfoLoader.java
@@ -102,8 +102,10 @@ import java.util.List;
             app.packageName = info.packageName;
             app.enabled = appInfo.enabled;
             app.uid = info.applicationInfo.uid;
+/*
             app.privacyGuardEnabled = mAppOps.getPrivacyGuardSettingForPackage(
                     app.uid, app.packageName);
+*/
             apps.add(app);
         }
 
diff --git a/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java b/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
index 9f88c70..0e78ccf 100644
--- a/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
+++ b/src/org/lineageos/lineageparts/privacyguard/PrivacyGuardManager.java
@@ -273,7 +273,9 @@ public class PrivacyGuardManager extends SettingsPreferenceFragment
         final AppInfo app = (AppInfo) parent.getItemAtPosition(position);
 
         app.privacyGuardEnabled = !app.privacyGuardEnabled;
+/*
         mAppOps.setPrivacyGuardSettingForPackage(app.uid, app.packageName, app.privacyGuardEnabled);
+*/
 
         mAdapter.notifyDataSetChanged();
     }
@@ -286,9 +288,11 @@ public class PrivacyGuardManager extends SettingsPreferenceFragment
         Bundle args = new Bundle();
         args.putString("package", app.packageName);
 
+/*
         final Intent i = new Intent(Settings.ACTION_APP_OPS_DETAILS_SETTINGS,
                 Uri.fromParts("package", app.packageName, null));
         mActivity.startActivityForResult(i, 0);
+*/
         return true;
     }
 
-- 
2.17.1

