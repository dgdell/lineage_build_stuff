From ebcc7d53b4c42a7aa1f5e1505bc49384085d873e Mon Sep 17 00:00:00 2001
From: Jorge Ruesga <jorge@ruesga.com>
Date: Sat, 17 Oct 2015 01:18:20 +0200
Subject: [PATCH 04/19] email: Add an ActionBar to the mail app's
 PreferenceActivity

Change-Id: Id2ed98d2c2cd6648e179fb2942f3bc4479049cd0
Signed-off-by: Jorge Ruesga <jorge@ruesga.com>
---
 .../email/activity/setup/MailboxSettings.java        | 12 ++----------
 1 file changed, 2 insertions(+), 10 deletions(-)

diff --git a/src/com/android/email/activity/setup/MailboxSettings.java b/src/com/android/email/activity/setup/MailboxSettings.java
index 42ae407dd..4d7ea3c1d 100644
--- a/src/com/android/email/activity/setup/MailboxSettings.java
+++ b/src/com/android/email/activity/setup/MailboxSettings.java
@@ -50,6 +50,7 @@ import com.android.emailcommon.utility.Utility;
 import com.android.mail.providers.Folder;
 import com.android.mail.providers.UIProvider;
 import com.android.mail.ui.MailAsyncTaskLoader;
+import com.android.mail.ui.settings.BasePreferenceActivity;
 import com.android.mail.utils.LogUtils;
 import com.google.common.base.Preconditions;
 
@@ -69,7 +70,7 @@ import java.util.Map;
  * sync window may result in removal of messages.  Instead, we only save to the database in {@link
  * #onDestroy()}, unless it's called for configuration changes.
  */
-public class MailboxSettings extends PreferenceActivity {
+public class MailboxSettings extends BasePreferenceActivity {
     private static final String EXTRA_FOLDERS_URI = "FOLDERS_URI";
     private static final String EXTRA_INBOX_ID = "INBOX_ID";
 
@@ -100,15 +101,6 @@ public class MailboxSettings extends PreferenceActivity {
         }
 
         super.onCreate(savedInstanceState);
-
-        // Always show "app up" as we expect our parent to be an Email activity.
-        ActionBar actionBar = getActionBar();
-        if (actionBar != null) {
-            actionBar.setDisplayOptions(ActionBar.DISPLAY_HOME_AS_UP, ActionBar.DISPLAY_HOME_AS_UP);
-            // Hide the app icon.
-            actionBar.setIcon(android.R.color.transparent);
-            actionBar.setDisplayUseLogoEnabled(false);
-        }
     }
 
     @Override
-- 
2.17.1

