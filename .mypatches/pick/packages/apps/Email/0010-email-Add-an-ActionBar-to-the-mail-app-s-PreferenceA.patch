From bc99dfaf0685e403b40c53a754e981a287141398 Mon Sep 17 00:00:00 2001
From: Jorge Ruesga <jorge@ruesga.com>
Date: Sat, 17 Oct 2015 01:18:20 +0200
Subject: [PATCH 10/16] email: Add an ActionBar to the mail app's
 PreferenceActivity

Change-Id: Id2ed98d2c2cd6648e179fb2942f3bc4479049cd0
Signed-off-by: Jorge Ruesga <jorge@ruesga.com>
---
 src/com/android/email/activity/setup/MailboxSettings.java | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

diff --git a/src/com/android/email/activity/setup/MailboxSettings.java b/src/com/android/email/activity/setup/MailboxSettings.java
index 6ac77816b..acaecfc05 100644
--- a/src/com/android/email/activity/setup/MailboxSettings.java
+++ b/src/com/android/email/activity/setup/MailboxSettings.java
@@ -64,6 +64,7 @@ import com.android.mail.preferences.FolderPreferences;
 import com.android.mail.providers.Folder;
 import com.android.mail.providers.UIProvider;
 import com.android.mail.ui.MailAsyncTaskLoader;
+import com.android.mail.ui.settings.BasePreferenceActivity;
 import com.android.mail.utils.LogUtils;
 import com.google.common.base.Preconditions;
 
@@ -86,7 +87,7 @@ import java.util.Map;
  * sync window may result in removal of messages.  Instead, we only save to the database in {@link
  * #onDestroy()}, unless it's called for configuration changes.
  */
-public class MailboxSettings extends PreferenceActivity {
+public class MailboxSettings extends BasePreferenceActivity {
     public static final String PREFERENCE_SYNC_SETTINGS = "account_sync_settings";
     public static final String PREFERENCE_PER_FOLDER_NOTIFICATIONS =
             "account_per_folder_notifications";
@@ -131,10 +132,6 @@ public class MailboxSettings extends PreferenceActivity {
         // Always show "app up" as we expect our parent to be an Email activity.
         ActionBar actionBar = getActionBar();
         if (actionBar != null) {
-            actionBar.setDisplayOptions(ActionBar.DISPLAY_HOME_AS_UP, ActionBar.DISPLAY_HOME_AS_UP);
-            // Hide the app icon.
-            actionBar.setIcon(android.R.color.transparent);
-            actionBar.setDisplayUseLogoEnabled(false);
             if (mType != null && mType.equals(PREFERENCE_SYNC_SETTINGS)) {
                 actionBar.setTitle(getString(R.string.mailbox_settings_activity_title));
             } else if (mType != null && mType.equals(PREFERENCE_PER_FOLDER_NOTIFICATIONS)) {
-- 
2.17.1

