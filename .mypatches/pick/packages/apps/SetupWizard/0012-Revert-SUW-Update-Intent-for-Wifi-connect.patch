From 17cb352bbb23c34c7fd1c4ea56195ae9022b8d42 Mon Sep 17 00:00:00 2001
From: nx111 <gd.zhangdz@gmail.com>
Date: Sun, 11 Feb 2018 01:33:12 +0800
Subject: [PATCH 12/12] Revert "SUW: Update Intent for Wifi connect"

This reverts commit b2cba9ec5830523522ae9497f899a422470c101e.

Change-Id: Ie6e7a062d8b0e9945e2ef44c1e591512d477c592
---
 src/org/lineageos/setupwizard/SetupWizardApp.java    | 4 +---
 src/org/lineageos/setupwizard/WifiSetupActivity.java | 7 +++++--
 2 files changed, 6 insertions(+), 5 deletions(-)

diff --git a/src/org/lineageos/setupwizard/SetupWizardApp.java b/src/org/lineageos/setupwizard/SetupWizardApp.java
index 03e283c..6906537 100644
--- a/src/org/lineageos/setupwizard/SetupWizardApp.java
+++ b/src/org/lineageos/setupwizard/SetupWizardApp.java
@@ -37,7 +37,7 @@ public class SetupWizardApp extends Application {
     public static final boolean LOGV = true;
 
     public static final String ACTION_FINISHED = "org.lineageos.setupwizard.SETUP_FINISHED";
-    public static final String ACTION_SETUP_WIFI = "android.net.wifi.PICK_WIFI_NETWORK";
+    public static final String ACTION_SETUP_WIFI = "com.android.net.wifi.SETUP_WIFI_NETWORK";
     public static final String ACTION_SETUP_FINGERPRINT = "android.settings.FINGERPRINT_SETUP";
     public static final String ACTION_SETUP_LOCKSCREEN = "com.android.settings.SETUP_LOCK_SCREEN";
     public static final String ACTION_EMERGENCY_DIAL = "com.android.phone.EmergencyDialer.DIAL";
@@ -57,8 +57,6 @@ public class SetupWizardApp extends Application {
     public static final String EXTRA_SCRIPT_URI = "scriptUri";
     public static final String EXTRA_ACTION_ID = "actionId";
     public static final String EXTRA_RESULT_CODE = "com.android.setupwizard.ResultCode";
-    public static final String EXTRA_PREFS_SHOW_BUTTON_BAR = "extra_prefs_show_button_bar";
-    public static final String EXTRA_PREFS_SET_BACK_TEXT = "extra_prefs_set_back_text";
 
     public static final String KEY_DETECT_CAPTIVE_PORTAL = "captive_portal_detection_enabled";
     public static final String KEY_SEND_METRICS = "send_metrics";
diff --git a/src/org/lineageos/setupwizard/WifiSetupActivity.java b/src/org/lineageos/setupwizard/WifiSetupActivity.java
index 950db9d..7896865 100644
--- a/src/org/lineageos/setupwizard/WifiSetupActivity.java
+++ b/src/org/lineageos/setupwizard/WifiSetupActivity.java
@@ -37,8 +37,11 @@ public class WifiSetupActivity extends SubBaseActivity {
         if (SetupWizardUtils.hasLeanback(this)) {
             intent.setComponent(SetupWizardUtils.mTvwifisettingsActivity);
         }
-        intent.putExtra(SetupWizardApp.EXTRA_PREFS_SHOW_BUTTON_BAR, true);
-        intent.putExtra(SetupWizardApp.EXTRA_PREFS_SET_BACK_TEXT , false);
+        intent.putExtra(SetupWizardApp.EXTRA_FIRST_RUN, true);
+        intent.putExtra(SetupWizardApp.EXTRA_ALLOW_SKIP, true);
+        intent.putExtra(SetupWizardApp.EXTRA_USE_IMMERSIVE, true);
+        intent.putExtra(SetupWizardApp.EXTRA_THEME, EXTRA_MATERIAL_LIGHT);
+        intent.putExtra(SetupWizardApp.EXTRA_AUTO_FINISH, false);
         startSubactivity(intent, REQUEST_CODE_SETUP_WIFI);
     }
 
-- 
2.7.4

