From 55c1a9f5a256e8bcb466be1ea4cf33f9960a9e12 Mon Sep 17 00:00:00 2001
From: zhuw <zhuw@codeaurora.org>
Date: Fri, 9 Mar 2018 19:57:13 +0800
Subject: [PATCH 1/3] Fix null pointer when copy representantion

add filter

Change-Id: I624079604210042b47c94ac7ce6bb2b5a070e50d
---
 src/com/android/gallery3d/filtershow/pipeline/ImagePreset.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/com/android/gallery3d/filtershow/pipeline/ImagePreset.java b/src/com/android/gallery3d/filtershow/pipeline/ImagePreset.java
index 2bd121641..f5a56897d 100644
--- a/src/com/android/gallery3d/filtershow/pipeline/ImagePreset.java
+++ b/src/com/android/gallery3d/filtershow/pipeline/ImagePreset.java
@@ -156,6 +156,7 @@ public class ImagePreset {
     }
 
     public void updateOrAddFilterRepresentation(FilterRepresentation rep) {
+        if (rep == null) return;
         int pos = getPositionForRepresentation(rep);
         if (pos != -1) {
             mFilters.elementAt(pos).useParametersFrom(rep);
-- 
2.17.0

