From c9b82f17672cce8852f8209574f5ca03cbb75a14 Mon Sep 17 00:00:00 2001
From: LuK1337 <priv.luk@gmail.com>
Date: Thu, 28 Dec 2017 15:56:53 +0100
Subject: [PATCH 1/3] Settings: Add kill app back button toggle

Change-Id: I8d88fc9b11d3ae49afb13277716d0f5fa7862148
---
 res/values/cm_strings.xml     | 4 ++++
 res/xml/development_prefs.xml | 5 +++++
 2 files changed, 9 insertions(+)

diff --git a/res/values/cm_strings.xml b/res/values/cm_strings.xml
index 0551154..696c5b2 100644
--- a/res/values/cm_strings.xml
+++ b/res/values/cm_strings.xml
@@ -59,4 +59,8 @@
     <string name="adb_over_network">ADB over network</string>
     <string name="adb_over_network_summary">Enable TCP/IP debugging over network interfaces (Wi\u2011Fi, USB networks). This setting is reset on reboot</string>
     <string name="adb_over_network_warning">WARNING: When ADB over network is enabled, your phone is open for intrusions on all connected networks!\n\nOnly use this feature when you are connected on trusted networks.\n\nDo you really want to enable this function?</string>
+
+    <!-- Kill app long-press back -->
+    <string name="kill_app_longpress_back">Kill app back button</string>
+    <string name="kill_app_longpress_back_summary">Kill the foreground app by long-pressing the back button</string>
 </resources>
diff --git a/res/xml/development_prefs.xml b/res/xml/development_prefs.xml
index bee5311..f73ae47 100644
--- a/res/xml/development_prefs.xml
+++ b/res/xml/development_prefs.xml
@@ -491,6 +491,11 @@
         <Preference
             android:key="reset_shortcut_manager_throttling"
             android:title="@string/reset_shortcut_manager_throttling" />
+
+        <lineageos.preference.LineageSecureSettingSwitchPreference
+            android:key="kill_app_longpress_back"
+            android:title="@string/kill_app_longpress_back"
+            android:summary="@string/kill_app_longpress_back_summary"/>
      </PreferenceCategory>
 
     <PreferenceCategory
-- 
2.7.4

