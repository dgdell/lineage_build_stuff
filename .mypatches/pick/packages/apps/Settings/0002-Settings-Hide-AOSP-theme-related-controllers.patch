From 4923868212b0712787241164248889c415aa375d Mon Sep 17 00:00:00 2001
From: Joey <joey@lineageos.org>
Date: Sat, 20 Jan 2018 14:20:47 +0100
Subject: [PATCH 02/19] Settings: Hide AOSP theme-related controllers

Change-Id: I7eb3a51a06a37b7e0df472756005d4a07cf5cef6
Signed-off-by: Joey <joey@lineageos.org>
---
 .../settings/display/SystemUiThemePreferenceController.java   | 3 +--
 .../android/settings/display/ThemePreferenceController.java   | 4 +---
 2 files changed, 2 insertions(+), 5 deletions(-)

diff --git a/src/com/android/settings/display/SystemUiThemePreferenceController.java b/src/com/android/settings/display/SystemUiThemePreferenceController.java
index 3cdc85cf60..49ffbfbb44 100644
--- a/src/com/android/settings/display/SystemUiThemePreferenceController.java
+++ b/src/com/android/settings/display/SystemUiThemePreferenceController.java
@@ -44,8 +44,7 @@ public class SystemUiThemePreferenceController extends BasePreferenceController
 
     @Override
     public int getAvailabilityStatus() {
-        boolean enabled = FeatureFlagUtils.isEnabled(mContext, "settings_systemui_theme");
-        return enabled ? AVAILABLE : CONDITIONALLY_UNAVAILABLE;
+        return UNSUPPORTED_ON_DEVICE;
     }
 
     @Override
diff --git a/src/com/android/settings/display/ThemePreferenceController.java b/src/com/android/settings/display/ThemePreferenceController.java
index 1bc49b625d..7602da540e 100644
--- a/src/com/android/settings/display/ThemePreferenceController.java
+++ b/src/com/android/settings/display/ThemePreferenceController.java
@@ -142,9 +142,7 @@ public class ThemePreferenceController extends AbstractPreferenceController impl
 
     @Override
     public boolean isAvailable() {
-        if (mOverlayService == null) return false;
-        String[] themes = getAvailableThemes();
-        return themes != null && themes.length > 1;
+        return false;
     }
 
 
-- 
2.17.1

