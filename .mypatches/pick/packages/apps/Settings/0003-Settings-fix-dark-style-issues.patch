From 36264bb62144f065eeb02b96d2cfa2fd29744b00 Mon Sep 17 00:00:00 2001
From: Joey <joey@lineageos.org>
Date: Thu, 11 Jan 2018 13:42:09 +0100
Subject: [PATCH 03/17] Settings: fix dark style issues

Change-Id: I69d179d941554538238d1f3f74c723b708a73836
Signed-off-by: Joey <joey@lineageos.org>
---
 .../ic_arrow_down_24dp.xml                    | 26 +++++++++++++++++++
 res/layout/vpn_dialog.xml                     |  4 +++
 res/values/colors.xml                         |  6 ++---
 .../deviceinfo/StorageSummaryPreference.java  |  2 ++
 .../deviceinfo/StorageVolumePreference.java   |  2 ++
 5 files changed, 37 insertions(+), 3 deletions(-)
 create mode 100644 res/drawable-anydpi-v21/ic_arrow_down_24dp.xml

diff --git a/res/drawable-anydpi-v21/ic_arrow_down_24dp.xml b/res/drawable-anydpi-v21/ic_arrow_down_24dp.xml
new file mode 100644
index 0000000000..3d408219f9
--- /dev/null
+++ b/res/drawable-anydpi-v21/ic_arrow_down_24dp.xml
@@ -0,0 +1,26 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2018 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+        android:width="24dp"
+        android:height="24dp"
+        android:viewportWidth="24.0"
+        android:viewportHeight="24.0"
+        android:tint="?android:attr/colorControlNormal">
+    <path
+        android:fillColor="#FF000000"
+        android:pathData="M7.41,7.84L12,12.42l4.59,-4.58L18,9.25l-6,6 -6,-6z"/>
+</vector>
diff --git a/res/layout/vpn_dialog.xml b/res/layout/vpn_dialog.xml
index 71ce0adedf..02e24f477b 100644
--- a/res/layout/vpn_dialog.xml
+++ b/res/layout/vpn_dialog.xml
@@ -49,6 +49,7 @@
 
             <CheckBox style="@style/vpn_value" android:id="@+id/mppe"
                     android:text="@string/vpn_mppe"
+                    android:textColor="?android:attr/textColorSecondary"
                     android:singleLine="false"
                     android:visibility="gone"/>
 
@@ -115,6 +116,7 @@
 
             <CheckBox style="@style/vpn_value" android:id="@+id/show_options"
                     android:singleLine="false"
+                    android:textColor="?android:attr/textColorSecondary"
                     android:text="@string/vpn_show_options"/>
         </LinearLayout>
 
@@ -161,9 +163,11 @@
 
             <CheckBox style="@style/vpn_value" android:id="@+id/save_login"
                     android:singleLine="false"
+                    android:textColor="?android:attr/textColorSecondary"
                     android:text="@string/vpn_save_login"/>
             <CheckBox style="@style/vpn_value" android:id="@+id/always_on_vpn"
                 android:singleLine="false"
+                android:textColor="?android:attr/textColorSecondary"
                 android:text="@string/vpn_menu_lockdown"/>
             <TextView style="@style/vpn_warning" android:id="@+id/always_on_invalid_reason"
                 android:singleLine="false"
diff --git a/res/values/colors.xml b/res/values/colors.xml
index e5f7c276ae..4017f374e6 100644
--- a/res/values/colors.xml
+++ b/res/values/colors.xml
@@ -102,14 +102,14 @@
     <color name="shortcut_background">#fff5f5f5</color>
 
     <!-- Color for preference icons on the Wifi Network Details page -->
-    <color name="wifi_details_icon_color">#8A000000</color>
+    <color name="wifi_details_icon_color">@*android:color/accent_device_default_dark</color>
 
     <!-- The fallback color for tinting icons. Only used when colorControlNormal is unavailable -->
     <color name="fallback_tintColor">#89000000</color>
 
     <!-- Suggestion/condition colors -->
-    <color name="suggestion_condition_background">#f2f2f2</color>
-    <color name="condition_card_background">#f8f8f8</color>
+    <color name="suggestion_condition_background">#10000000</color>
+    <color name="condition_card_background">#05000000</color>
 
     <!-- Dashboard/homepage icon background colors -->
     <color name="homepage_network_background">#2196F3</color>
diff --git a/src/com/android/settings/deviceinfo/StorageSummaryPreference.java b/src/com/android/settings/deviceinfo/StorageSummaryPreference.java
index f97f049ac9..2cf98ee77a 100644
--- a/src/com/android/settings/deviceinfo/StorageSummaryPreference.java
+++ b/src/com/android/settings/deviceinfo/StorageSummaryPreference.java
@@ -54,7 +54,9 @@ public class StorageSummaryPreference extends Preference {
         }
 
         final TextView summary = (TextView) view.findViewById(android.R.id.summary);
+/*
         summary.setTextColor(Color.parseColor("#8a000000"));
+*/
 
         super.onBindViewHolder(view);
     }
diff --git a/src/com/android/settings/deviceinfo/StorageVolumePreference.java b/src/com/android/settings/deviceinfo/StorageVolumePreference.java
index 3b6025366b..2b02e3c047 100644
--- a/src/com/android/settings/deviceinfo/StorageVolumePreference.java
+++ b/src/com/android/settings/deviceinfo/StorageVolumePreference.java
@@ -130,7 +130,9 @@ public class StorageVolumePreference extends Preference {
     public void onBindViewHolder(PreferenceViewHolder view) {
         final ImageView unmount = (ImageView) view.findViewById(R.id.unmount);
         if (unmount != null) {
+/*
             unmount.setImageTintList(ColorStateList.valueOf(Color.parseColor("#8a000000")));
+*/
             unmount.setOnClickListener(mUnmountListener);
         }
 
-- 
2.17.1

