From c7f4de19a350589ec72103007b5be88f05f10f99 Mon Sep 17 00:00:00 2001
From: Jesse Chan <jc@lineageos.org>
Date: Sat, 21 Apr 2018 23:54:05 -0700
Subject: [PATCH 3/5] Settings: Add an option to force pre-O apps to use full
 screen aspect ratio

When an app target pre-O releases, the default max aspect ratio
is 1.86:1 which leads to ugly black areas on devices that have
screens with higher aspect ratio (for example Galaxy S8/S9).

This change adds an option to allow users to change default
aspect ratio for pre-O apps to 2.1 which would fit recent devices.

Change-Id: I398d21ffd137faa0be7fb11a138683813f80f3fe
---
 res/values/cm_strings.xml    | 4 ++++
 res/xml/display_settings.xml | 6 ++++++
 2 files changed, 10 insertions(+)

diff --git a/res/values/cm_strings.xml b/res/values/cm_strings.xml
index b31489df73..9b4730acf8 100644
--- a/res/values/cm_strings.xml
+++ b/res/values/cm_strings.xml
@@ -359,4 +359,8 @@
     <!-- Touchscreen hovering -->
     <string name="touchscreen_hovering_title">Touchscreen hovering</string>
     <string name="touchscreen_hovering_summary">Allows you to hover the screen like a mouse in web browsers, remote desktops, etc</string>
+
+    <!-- Full screen aspect ratio -->
+    <string name="full_screen_aspect_ratio_title">Full screen aspect ratio</string>
+    <string name="full_screen_aspect_ratio_summary">Force apps to use full screen aspect ratio, note that some apps may not work properly in full screen</string>
 </resources>
diff --git a/res/xml/display_settings.xml b/res/xml/display_settings.xml
index 02645f7d2a..13de457ad3 100644
--- a/res/xml/display_settings.xml
+++ b/res/xml/display_settings.xml
@@ -157,6 +157,12 @@
         android:defaultValue="false"
         lineage:requiresFeature="lineagehardware:FEATURE_HIGH_TOUCH_SENSITIVITY" />
 
+    <lineageos.preference.LineageSystemSettingSwitchPreference
+        android:key="full_screen_aspect_ratio"
+        android:title="@string/full_screen_aspect_ratio_title"
+        android:summary="@string/full_screen_aspect_ratio_summary"
+        lineage:requiresConfig="@*lineageos.platform:bool/config_haveHigherAspectRatioScreen" />
+
     <!-- Use LineageParts for styles 
     <ListPreference
         android:key="theme"
-- 
2.17.0

