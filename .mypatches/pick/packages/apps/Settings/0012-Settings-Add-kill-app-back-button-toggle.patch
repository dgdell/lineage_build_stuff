From 06b7f0c4ca4f4003c0ec3272d94773d5a8579bbe Mon Sep 17 00:00:00 2001
From: LuK1337 <priv.luk@gmail.com>
Date: Thu, 28 Dec 2017 15:56:53 +0100
Subject: [PATCH 12/33] Settings: Add kill app back button toggle

Change-Id: I8d88fc9b11d3ae49afb13277716d0f5fa7862148
---
 res/values/cm_strings.xml        | 4 ++++
 res/xml/development_settings.xml | 6 ++++++
 2 files changed, 10 insertions(+)

diff --git a/res/values/cm_strings.xml b/res/values/cm_strings.xml
index 65391c583e..c1475a5440 100644
--- a/res/values/cm_strings.xml
+++ b/res/values/cm_strings.xml
@@ -52,4 +52,8 @@
     <!-- PIN scramble -->
     <string name="unlock_scramble_pin_layout_title">Scramble layout</string>
     <string name="unlock_scramble_pin_layout_summary">Scramble PIN layout when unlocking device</string>
+
+    <!-- Kill app long-press back -->
+    <string name="kill_app_longpress_back">Kill app back button</string>
+    <string name="kill_app_longpress_back_summary">Kill the foreground app by long-pressing the back button</string>
 </resources>
diff --git a/res/xml/development_settings.xml b/res/xml/development_settings.xml
index 85aa657a4f..7f855829d0 100644
--- a/res/xml/development_settings.xml
+++ b/res/xml/development_settings.xml
@@ -533,6 +533,12 @@
         <Preference
             android:key="reset_shortcut_manager_throttling"
             android:title="@string/reset_shortcut_manager_throttling" />
+
+        <lineageos.preference.LineageSecureSettingSwitchPreference
+            android:key="kill_app_longpress_back"
+            android:title="@string/kill_app_longpress_back"
+            android:summary="@string/kill_app_longpress_back_summary"
+            android:defaultValue="false" />
     </PreferenceCategory>
 
 </PreferenceScreen>
-- 
2.17.1

