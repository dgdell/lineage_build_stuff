From 2a692c1bbd755a82f8746c953cd338d2ce0ab525 Mon Sep 17 00:00:00 2001
From: Rashed Abdel-Tawab <rashed@linux.com>
Date: Tue, 19 Jun 2018 22:48:33 -0700
Subject: [PATCH 08/10] settings: Add platform to "Model & Hardware" dialog

This seems kinda empty... fill it with fun stuff

Change-Id: Ia43cb31b7567bed07f2b8a1d8637de4e66320c90
---
 res/layout/dialog_hardware_info.xml                | 14 ++++++++++++++
 res/values/strings.xml                             |  2 ++
 .../deviceinfo/HardwareInfoDialogFragment.java     |  4 ++++
 3 files changed, 20 insertions(+)

diff --git a/res/layout/dialog_hardware_info.xml b/res/layout/dialog_hardware_info.xml
index f9d52b8ec1..aa724f1bba 100644
--- a/res/layout/dialog_hardware_info.xml
+++ b/res/layout/dialog_hardware_info.xml
@@ -53,5 +53,19 @@
             android:paddingBottom="24dp"
             android:textAppearance="@android:style/TextAppearance.Material.Body2" />
 
+        <TextView
+            android:id="@+id/hardware_plat_label"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:textAppearance="@android:style/TextAppearance.Material.Body1"
+            android:textColor="?android:attr/textColorSecondary"
+            android:text="@string/platform_revision" />
+        <TextView
+            android:id="@+id/hardware_plat_value"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:paddingBottom="24dp"
+            android:textAppearance="@android:style/TextAppearance.Material.Body2" />
+
     </LinearLayout>
 </ScrollView>
\ No newline at end of file
diff --git a/res/values/strings.xml b/res/values/strings.xml
index 9baaa7c561..8bc1e5ebd1 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -2629,6 +2629,8 @@
     <string name="hardware_info">Model &amp; hardware</string>
     <!-- Label for device's hardware revision value [CHAR LIMIT=40] -->
     <string name="hardware_revision">Hardware version</string>
+    <!-- Label for device's hardware platform value [CHAR LIMIT=40] -->
+    <string name="platform_revision">Platform</string>
     <!-- About phone screen, fcc equipment id label  [CHAR LIMIT=40] -->
     <string name="fcc_equipment_id">Equipment ID</string>
     <!-- About phone screen,  setting option name  [CHAR LIMIT=40] -->
diff --git a/src/com/android/settings/deviceinfo/HardwareInfoDialogFragment.java b/src/com/android/settings/deviceinfo/HardwareInfoDialogFragment.java
index 60082c73a6..f2a39fa70c 100644
--- a/src/com/android/settings/deviceinfo/HardwareInfoDialogFragment.java
+++ b/src/com/android/settings/deviceinfo/HardwareInfoDialogFragment.java
@@ -58,6 +58,10 @@ public class HardwareInfoDialogFragment extends InstrumentedDialogFragment {
         setText(content, R.id.hardware_rev_label, R.id.hardware_rev_value,
                 SystemProperties.get("ro.boot.hardware.revision"));
 
+        // Platform
+        setText(content, R.id.hardware_plat_label, R.id.hardware_plat_value,
+                SystemProperties.get("ro.board.platform"));
+
         return builder.setView(content).create();
     }
 
-- 
2.17.1

