From 245505b815af347f38fb546166ca51bbf73da803 Mon Sep 17 00:00:00 2001
From: Rashed Abdel-Tawab <rashed@linux.com>
Date: Tue, 26 Sep 2017 19:15:26 -0400
Subject: [PATCH 07/27] Settings: Add double tap to sleep preference

 * Place it under Display settings, near the existing
   double tap to wake preference.

Change-Id: I0baa49f9367331febf29260a0f60ba3a020be729
---
 res/values/cm_strings.xml    | 4 ++++
 res/xml/display_settings.xml | 8 ++++++++
 2 files changed, 12 insertions(+)

diff --git a/res/values/cm_strings.xml b/res/values/cm_strings.xml
index 0fa41f56e3..83a69aeec0 100644
--- a/res/values/cm_strings.xml
+++ b/res/values/cm_strings.xml
@@ -25,4 +25,8 @@
     <string name="show_dev_on_cm">You have enabled development settings!</string>
     <!-- [CHAR LIMIT=NONE] Device Info screen. Okay we get it, stop pressing, you already have it on -->
     <string name="show_dev_already_cm">No need, you have already enabled development settings.</string>
+
+    <!-- Double tap to sleep on status bar or lockscreen -->
+    <string name="status_bar_double_tap_to_sleep_title">Tap to sleep</string>
+    <string name="status_bar_double_tap_to_sleep_summary">Double-tap on the status bar or lockscreen to turn off the display</string>
 </resources>
diff --git a/res/xml/display_settings.xml b/res/xml/display_settings.xml
index c75b90ce46..4a24d2e1b0 100644
--- a/res/xml/display_settings.xml
+++ b/res/xml/display_settings.xml
@@ -16,6 +16,7 @@
 
 <PreferenceScreen
     xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:lineage="http://schemas.android.com/apk/res/lineageos.platform"
     xmlns:settings="http://schemas.android.com/apk/res-auto"
     android:key="display_settings_screen"
     android:title="@string/display_settings"
@@ -129,6 +130,13 @@
         android:title="@string/tap_to_wake"
         android:summary="@string/tap_to_wake_summary" />
 
+    <!-- Double tap to sleep -->
+    <lineageos.preference.LineageSystemSettingSwitchPreference
+        android:key="double_tap_sleep_gesture"
+        android:title="@string/status_bar_double_tap_to_sleep_title"
+        android:summary="@string/status_bar_double_tap_to_sleep_summary"
+        android:defaultValue="true" />
+
     <ListPreference
         android:key="theme"
         android:title="@string/color_theme"
-- 
2.17.1

