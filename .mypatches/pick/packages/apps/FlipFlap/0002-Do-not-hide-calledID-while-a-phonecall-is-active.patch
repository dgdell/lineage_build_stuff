From 735a22dbc650b54638c15a9bc6a3ea452dd1e32f Mon Sep 17 00:00:00 2001
From: Florin9doi <florin9doi@gmail.com>
Date: Sun, 16 Sep 2018 12:21:03 +0300
Subject: [PATCH 2/4] Do not hide calledID while a phonecall is active

Change-Id: Ic4c2ac19c0c0710a0fd42c626e8b2f12904c506f
---
 src/org/lineageos/flipflap/CircleView.java      | 4 ++--
 src/org/lineageos/flipflap/RectangularView.java | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/org/lineageos/flipflap/CircleView.java b/src/org/lineageos/flipflap/CircleView.java
index 621aa17..315e08e 100644
--- a/src/org/lineageos/flipflap/CircleView.java
+++ b/src/org/lineageos/flipflap/CircleView.java
@@ -122,8 +122,8 @@ public class CircleView extends FlipFlapView {
         super.updateCallState(callState);
         mRinging = callState.isRinging();
         mCallActive = callState.isActive();
-        mIncomingCallName.setText (mRinging ? callState.getName() : null);
-        mIncomingCallNumber.setText(mRinging ? callState.getNumber() : null);
+        mIncomingCallName.setText (mCallActive ? callState.getName() : null);
+        mIncomingCallNumber.setText(mCallActive ? callState.getNumber() : null);
         updateViewVisibility();
     }
 
diff --git a/src/org/lineageos/flipflap/RectangularView.java b/src/org/lineageos/flipflap/RectangularView.java
index b68611c..cd5d407 100644
--- a/src/org/lineageos/flipflap/RectangularView.java
+++ b/src/org/lineageos/flipflap/RectangularView.java
@@ -131,8 +131,8 @@ public class RectangularView extends FlipFlapView {
         super.updateCallState(callState);
         mRinging = callState.isRinging();
         mCallActive = callState.isActive();
-        mIncomingCallName.setText (mRinging ? callState.getName() : null);
-        mIncomingCallNumber.setText(mRinging ? callState.getNumber() : null);
+        mIncomingCallName.setText (mCallActive ? callState.getName() : null);
+        mIncomingCallNumber.setText(mCallActive ? callState.getNumber() : null);
         updateViewVisibility();
     }
 
-- 
2.17.1

