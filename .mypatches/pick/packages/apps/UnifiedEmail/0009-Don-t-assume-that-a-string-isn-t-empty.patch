From ebe98d482faec821ab9b27ebcef69e41f74b05a5 Mon Sep 17 00:00:00 2001
From: Marcos Marado <mmarado@cyngn.com>
Date: Tue, 21 Jul 2015 14:15:10 +0100
Subject: [PATCH 09/22] Don't assume that a string isn't empty

Fixes DOGEDUMP-1106

Change-Id: I8eb67deac2e4190d4df40998d992490fcea47db6
---
 src/com/android/mail/photomanager/LetterTileProvider.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/com/android/mail/photomanager/LetterTileProvider.java b/src/com/android/mail/photomanager/LetterTileProvider.java
index 2593e2195..8fb24e2d6 100644
--- a/src/com/android/mail/photomanager/LetterTileProvider.java
+++ b/src/com/android/mail/photomanager/LetterTileProvider.java
@@ -83,7 +83,7 @@ public class LetterTileProvider {
     public Bitmap getLetterTile(final Dimensions dimensions, final String displayName,
             final String address) {
         final String display = !TextUtils.isEmpty(displayName) ? displayName : address;
-        final char firstChar = display.charAt(0);
+        final char firstChar = !TextUtils.isEmpty(display) ? display.charAt(0) : '\0';
 
         // get an empty bitmap
         final Bitmap bitmap = getBitmap(dimensions, false /* getDefault */);
-- 
2.17.1

