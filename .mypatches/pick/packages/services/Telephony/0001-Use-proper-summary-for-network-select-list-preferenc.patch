From 9e3c4c8ab028c01f3107d20d75070693bd22db46 Mon Sep 17 00:00:00 2001
From: LuK1337 <priv.luk@gmail.com>
Date: Tue, 31 Jul 2018 12:33:51 +0200
Subject: [PATCH] Use proper summary for network select list preference on
 dsds/dsda/tsts

Change-Id: I7e1484378b0005d50b0873f027865eee1c9cf014
---
 .../android/phone/NetworkSelectListPreference.java    | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

diff --git a/src/com/android/phone/NetworkSelectListPreference.java b/src/com/android/phone/NetworkSelectListPreference.java
index 71a9dab00..a45c364d5 100644
--- a/src/com/android/phone/NetworkSelectListPreference.java
+++ b/src/com/android/phone/NetworkSelectListPreference.java
@@ -317,14 +317,15 @@ public class NetworkSelectListPreference extends ListPreference
         mProgressDialog = progressDialog;
         mNeedScanAgain = false;
 
-        if (SubscriptionManager.isValidSubscriptionId(mSubId)) {
-            mPhoneId = SubscriptionManager.getPhoneId(mSubId);
-        }
-
         TelephonyManager telephonyManager = (TelephonyManager)
                 getContext().getSystemService(Context.TELEPHONY_SERVICE);
 
-        setSummary(telephonyManager.getNetworkOperatorName());
+        if (SubscriptionManager.isValidSubscriptionId(mSubId)) {
+            mPhoneId = SubscriptionManager.getPhoneId(mSubId);
+            setSummary(telephonyManager.getNetworkOperatorName(mSubId));
+        } else {
+            setSummary(telephonyManager.getNetworkOperatorName());
+        }
 
         setOnPreferenceChangeListener(this);
     }
-- 
2.17.1

