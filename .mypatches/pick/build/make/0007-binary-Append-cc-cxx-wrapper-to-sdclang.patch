From be50516bd8f998e80f89bee0fa67bcc5a3ccb18c Mon Sep 17 00:00:00 2001
From: Luca Stefani <luca.stefani.ge1@gmail.com>
Date: Tue, 29 Nov 2016 21:41:05 +0100
Subject: [PATCH 7/8] binary: Append cc/cxx wrapper to sdclang

* Make ccache great again

Change-Id: I20da69f3f8ce695e7e5e4bdd06f7436cc5331003
---
 core/binary.mk | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/core/binary.mk b/core/binary.mk
index 8337c96..a343bd8 100644
--- a/core/binary.mk
+++ b/core/binary.mk
@@ -614,18 +614,18 @@ my_target_global_cppflags := $($(LOCAL_2ND_ARCH_VAR_PREFIX)CLANG_$(my_prefix)GLO
 my_target_global_ldflags := $($(LOCAL_2ND_ARCH_VAR_PREFIX)CLANG_$(my_prefix)GLOBAL_LDFLAGS)
 ifeq ($(my_sdclang),true)
     ifeq ($(strip $(my_cc)),)
-        my_cc := $(SDCLANG_PATH)/clang
+        my_cc := $(my_cc_wrapper) $(SDCLANG_PATH)/clang
     endif
     ifeq ($(strip $(my_cxx)),)
-        my_cxx := $(SDCLANG_PATH)/clang++
+        my_cxx := $(my_cc_wrapper) $(SDCLANG_PATH)/clang++
     endif
 endif
 ifeq ($(my_sdclang_2),true)
     ifeq ($(strip $(my_cc)),)
-        my_cc := $(SDCLANG_PATH_2)/clang
+        my_cc := $(my_cc_wrapper) $(SDCLANG_PATH_2)/clang
     endif
     ifeq ($(strip $(my_cxx)),)
-        my_cxx := $(SDCLANG_PATH_2)/clang++
+        my_cxx := $(my_cc_wrapper) $(SDCLANG_PATH_2)/clang++
     endif
 endif
 else
-- 
2.7.4

