From e90d519da07d957fb1f9f6778afdbabebb14608b Mon Sep 17 00:00:00 2001
From: Uldiniad <olivercscott@gmail.com>
Date: Thu, 10 May 2018 12:34:15 -0400
Subject: [PATCH 5/5] [DNM] dex2oat: disable multithreading

Change-Id: I325d7f3428d74cb7a4845ef9cf339115a36ce832
---
 core/dex_preopt_libart.mk | 1 +
 1 file changed, 1 insertion(+)

diff --git a/core/dex_preopt_libart.mk b/core/dex_preopt_libart.mk
index 15cb221b6..b0ee05789 100644
--- a/core/dex_preopt_libart.mk
+++ b/core/dex_preopt_libart.mk
@@ -151,6 +151,7 @@ define dex2oat-one-file
 $(hide) rm -f $(2)
 $(hide) mkdir -p $(dir $(2))
 $(hide) ANDROID_LOG_TAGS="*:e" $(DEX2OAT) \
+	-j1 \
 	--runtime-arg -Xms$(DEX2OAT_XMS) --runtime-arg -Xmx$(DEX2OAT_XMX) \
 	--class-loader-context=$(DEX2OAT_CLASS_LOADER_CONTEXT) \
 	--boot-image=$(PRIVATE_DEX_PREOPT_IMAGE_LOCATION) \
-- 
2.17.0

