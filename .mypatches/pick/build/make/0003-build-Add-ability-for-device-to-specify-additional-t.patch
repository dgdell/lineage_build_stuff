From d00e4feec2927ff3b612b15f897c2c3072e0f49a Mon Sep 17 00:00:00 2001
From: Rashed Abdel-Tawab <rashed@linux.com>
Date: Sat, 3 Mar 2018 10:26:14 -0800
Subject: [PATCH 03/23] build: Add ability for device to specify additional
 targets

Some devices (cough berkeley) need some additional targets like say
an image with just the kernel binary in it. Allow devices to specify
an "extension" to the main Makefile in their device trees.

Why do this whenwe have BOARD_CUSTOM_BOOTIMG_MK you might ask? Using
BOARD_CUSTOM_BOOTIMG_MK means you would have to duplicate the
bootimage and ramdiskimage generation code even if you're not changing
it, which is nasty. So add this and avoid any code duplication.

Change-Id: Ic34181518838c31716ea6a32e18545e7e93c6964
---
 core/Makefile | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/core/Makefile b/core/Makefile
index 0a9cc99ca..5ccc4fe78 100644
--- a/core/Makefile
+++ b/core/Makefile
@@ -1407,6 +1407,10 @@ ifdef BOARD_CUSTOM_BOOTIMG_MK
 include $(BOARD_CUSTOM_BOOTIMG_MK)
 endif
 
+ifdef BOARD_CUSTOM_BUILD_MAKEFILE
+include $(BOARD_CUSTOM_BUILD_MAKEFILE)
+endif
+
 
 # -----------------------------------------------------------------
 # system image
-- 
2.17.1

