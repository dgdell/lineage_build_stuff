From 0e6db7e198944922dfb27ae8e5e8312ab5dfcb6c Mon Sep 17 00:00:00 2001
From: Harry Youd <harry@harryyoud.co.uk>
Date: Mon, 16 Apr 2018 18:15:22 +0200
Subject: [PATCH 3/3] Add build.prop to incrementals too

Change-Id: I0ef89210ba7dd05a7cff5c6b56687bfc60add7cb
---
 tools/releasetools/ota_from_target_files.py | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/tools/releasetools/ota_from_target_files.py b/tools/releasetools/ota_from_target_files.py
index ff412abd3..5191348e1 100755
--- a/tools/releasetools/ota_from_target_files.py
+++ b/tools/releasetools/ota_from_target_files.py
@@ -933,6 +933,8 @@ endif;
   metadata["ota-required-cache"] = str(script.required_cache)
   WriteMetadata(metadata, output_zip)
 
+  common.ZipWriteStr(output_zip, "system/build.prop",
+                     ""+target_zip.read("SYSTEM/build.prop"))
 
 def WriteVerifyPackage(input_zip, output_zip):
   script = edify_generator.EdifyGenerator(3, OPTIONS.info_dict)
-- 
2.17.0

