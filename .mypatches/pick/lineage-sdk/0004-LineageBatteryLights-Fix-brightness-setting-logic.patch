From 32eeeff2a24cd8a48a60df8b99781146722d2bba Mon Sep 17 00:00:00 2001
From: Bruno Martins <bgcngm@gmail.com>
Date: Tue, 24 Apr 2018 19:55:51 +0100
Subject: [PATCH 4/6] LineageBatteryLights: Fix brightness setting logic

 * Previous logic was broken for devices with RGB LEDs

Change-Id: Id6879b8dc5accde1382a8de9f93076fba513e34f
---
 .../lineageos/internal/notification/LineageBatteryLights.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/sdk/src/java/org/lineageos/internal/notification/LineageBatteryLights.java b/sdk/src/java/org/lineageos/internal/notification/LineageBatteryLights.java
index fbc874d..679dd13 100644
--- a/sdk/src/java/org/lineageos/internal/notification/LineageBatteryLights.java
+++ b/sdk/src/java/org/lineageos/internal/notification/LineageBatteryLights.java
@@ -179,9 +179,7 @@ public final class LineageBatteryLights {
         if (ledValues.getColor() != 0) {
             ledValues.setEnabled(true);
         }
-        // If lights HAL does not support adjustable brightness then
-        // scale color value here instead.
-        if (mCanAdjustBrightness && !mHALAdjustableBrightness) {
+        if (mCanAdjustBrightness) {
             ledValues.applyAlphaToBrightness();
             ledValues.applyBrightnessToColor();
         }
-- 
2.17.0

