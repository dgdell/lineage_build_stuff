From 1f185e6d3767a64aaa736a05cd01e60f7b372b5c Mon Sep 17 00:00:00 2001
From: Luca Stefani <luca.stefani.ge1@gmail.com>
Date: Sun, 10 Jun 2018 15:44:17 +0200
Subject: [PATCH 9/9] TrustInterface: Fix default root access value

* On clean installs persist.sys.root_access is empty

Change-Id: I99fe87ebcfe53915c663244023486cf3698af24c
---
 .../org/lineageos/platform/internal/TrustInterfaceService.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lineage/lib/main/java/org/lineageos/platform/internal/TrustInterfaceService.java b/lineage/lib/main/java/org/lineageos/platform/internal/TrustInterfaceService.java
index 41956b0..15af8ea 100644
--- a/lineage/lib/main/java/org/lineageos/platform/internal/TrustInterfaceService.java
+++ b/lineage/lib/main/java/org/lineageos/platform/internal/TrustInterfaceService.java
@@ -225,7 +225,7 @@ public class TrustInterfaceService extends LineageSystemService {
     }
 
     private int getRootStatus() {
-        String status = SystemProperties.get("persist.sys.root_access");
+        String status = SystemProperties.get("persist.sys.root_access", "0");
         switch (status) {
             case "0":
                 return TrustInterface.TRUST_FEATURE_LEVEL_GOOD;
-- 
2.17.1

