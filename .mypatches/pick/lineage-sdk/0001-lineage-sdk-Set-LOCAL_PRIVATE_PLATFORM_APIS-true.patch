From 5e364785c301cdb2d3d1b2b12226ee2879801f30 Mon Sep 17 00:00:00 2001
From: Sam Mortimer <sam@mortimer.me.uk>
Date: Wed, 8 Aug 2018 15:12:02 -0700
Subject: [PATCH 01/13] lineage-sdk: Set LOCAL_PRIVATE_PLATFORM_APIS := true

Change-Id: I06b9374ccee78550fcc26d876a9e4ea50198bbfe
---
 lineage/res/Android.mk                            | 2 ++
 packages/LineageSettingsProvider/Android.mk       | 2 ++
 packages/LineageSettingsProvider/tests/Android.mk | 2 ++
 samples/profiles/Android.mk                       | 4 +++-
 tests/Android.mk                                  | 1 +
 5 files changed, 10 insertions(+), 1 deletion(-)

diff --git a/lineage/res/Android.mk b/lineage/res/Android.mk
index 6baba6b..9496420 100644
--- a/lineage/res/Android.mk
+++ b/lineage/res/Android.mk
@@ -24,6 +24,8 @@ LOCAL_AAPT_FLAGS += --private-symbols org.lineageos.platform.internal
 LOCAL_RESOURCE_DIR := $(addprefix $(LOCAL_PATH)/, res)
 LOCAL_RESOURCE_DIR += $(LOCAL_PATH)/../../sdk/res/res
 
+LOCAL_PRIVATE_PLATFORM_APIS := true
+
 # Tell aapt to create "extending (non-application)" resource IDs,
 # since these resources will be used by many apps.
 
diff --git a/packages/LineageSettingsProvider/Android.mk b/packages/LineageSettingsProvider/Android.mk
index d19e215..9f4ffde 100644
--- a/packages/LineageSettingsProvider/Android.mk
+++ b/packages/LineageSettingsProvider/Android.mk
@@ -27,6 +27,8 @@ LOCAL_PACKAGE_NAME := LineageSettingsProvider
 LOCAL_CERTIFICATE := platform
 LOCAL_PRIVILEGED_MODULE := true
 
+LOCAL_PRIVATE_PLATFORM_APIS := true
+
 LOCAL_STATIC_JAVA_LIBRARIES := \
     android-support-v4 \
     android-support-v7-appcompat \
diff --git a/packages/LineageSettingsProvider/tests/Android.mk b/packages/LineageSettingsProvider/tests/Android.mk
index 31c3aa3..108cbde 100644
--- a/packages/LineageSettingsProvider/tests/Android.mk
+++ b/packages/LineageSettingsProvider/tests/Android.mk
@@ -24,6 +24,8 @@ LOCAL_INSTRUMENTATION_FOR := LineageSettingsProvider
 
 LOCAL_SRC_FILES := $(call all-subdir-java-files)
 
+LOCAL_PRIVATE_PLATFORM_APIS := true
+
 LOCAL_CERTIFICATE := platform
 LOCAL_JAVA_LIBRARIES := android.test.runner
 LOCAL_PROGUARD_ENABLED := optimization shrinktests
diff --git a/samples/profiles/Android.mk b/samples/profiles/Android.mk
index 17db91f..2e0ab26 100644
--- a/samples/profiles/Android.mk
+++ b/samples/profiles/Android.mk
@@ -8,4 +8,6 @@ LOCAL_SRC_FILES := $(call all-subdir-java-files)
 
 LOCAL_PACKAGE_NAME := LineageProfiles
 
-include $(BUILD_PACKAGE)
\ No newline at end of file
+LOCAL_SDK_VERSION := current
+
+include $(BUILD_PACKAGE)
diff --git a/tests/Android.mk b/tests/Android.mk
index 2cbb309..f1844ca 100644
--- a/tests/Android.mk
+++ b/tests/Android.mk
@@ -32,6 +32,7 @@ LOCAL_CERTIFICATE := platform
 LOCAL_JAVA_LIBRARIES := android.test.runner
 LOCAL_PROGUARD_ENABLED := optimization shrinktests
 LOCAL_PROGUARD_FLAG_FILES := proguard.flags
+LOCAL_PRIVATE_PLATFORM_APIS := true
 
 include $(BUILD_PACKAGE)
 
-- 
2.17.1

