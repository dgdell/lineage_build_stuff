From 4ef486ddbcf60c70790782f04700c5ee98cb65be Mon Sep 17 00:00:00 2001
From: Bruno Martins <bgcngm@gmail.com>
Date: Sat, 18 Aug 2018 10:02:52 +0100
Subject: [PATCH 13/13] StyleInterfaceService: Adapt to new PackageInfo API

Change-Id: Ic2e65602308201566a47a4169317b6a9ea0b523d
---
 .../lineageos/platform/internal/StyleInterfaceService.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/lineage/lib/main/java/org/lineageos/platform/internal/StyleInterfaceService.java b/lineage/lib/main/java/org/lineageos/platform/internal/StyleInterfaceService.java
index 6000891..3411695 100644
--- a/lineage/lib/main/java/org/lineageos/platform/internal/StyleInterfaceService.java
+++ b/lineage/lib/main/java/org/lineageos/platform/internal/StyleInterfaceService.java
@@ -238,7 +238,7 @@ public class StyleInterfaceService extends LineageSystemService {
 
         try {
             PackageInfo pi = mPackageManager.getPackageInfo(pkgName, 0);
-            return pi != null && (pi.overlayFlags & PackageInfo.FLAG_OVERLAY_STATIC) == 0 &&
+            return pi != null && !pi.isStaticOverlayPackage() &&
                     isValidAccent(pkgName);
         } catch (PackageManager.NameNotFoundException e) {
             return false;
@@ -399,4 +399,4 @@ public class StyleInterfaceService extends LineageSystemService {
             return result;
         }
     };
-}
\ No newline at end of file
+}
-- 
2.17.1

