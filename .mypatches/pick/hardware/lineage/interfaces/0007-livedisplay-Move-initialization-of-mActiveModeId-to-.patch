From 94f38233512463d995b70567050516b1d7d7feed Mon Sep 17 00:00:00 2001
From: Ethan Chen <intervigil@gmail.com>
Date: Thu, 14 Jun 2018 22:55:42 -0700
Subject: [PATCH 7/8] livedisplay: Move initialization of mActiveModeId to
 constructor

Change-Id: I10540dd635e10bfce68e318116980c462994b871
---
 livedisplay/1.0/default/impl/SDM.cpp | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/livedisplay/1.0/default/impl/SDM.cpp b/livedisplay/1.0/default/impl/SDM.cpp
index 22c199d..cd3c23d 100644
--- a/livedisplay/1.0/default/impl/SDM.cpp
+++ b/livedisplay/1.0/default/impl/SDM.cpp
@@ -92,7 +92,7 @@ using ::android::OK;
 using ::android::sp;
 using ::android::status_t;
 
-SDM::SDM() : mController(nullptr) {
+SDM::SDM() : mController(nullptr), mActiveModeId(-1) {
 }
 
 SDM::~SDM() {
@@ -110,8 +110,6 @@ status_t SDM::initialize() {
         return rc;
     }
 
-    mActiveModeId = -1;
-
     if (hasFeature(Feature::DISPLAY_MODES)) {
         rc = saveInitialDisplayMode();
         if (rc != OK) {
-- 
2.17.1

