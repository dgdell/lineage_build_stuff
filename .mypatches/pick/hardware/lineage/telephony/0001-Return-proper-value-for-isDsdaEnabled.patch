From c757d748eee21bbb9294f691426eea807ee40cdd Mon Sep 17 00:00:00 2001
From: Paul Keith <javelinanddart@gmail.com>
Date: Wed, 11 Jul 2018 18:20:23 +0200
Subject: [PATCH 1/3] Return proper value for isDsdaEnabled

* At least in 14.1, dialer depends on this

Change-Id: I0226f9fe60b742921ca9c6e69b30b0d1bed3315d
---
 .../qualcomm/qti/internal/telephony/LineageExtTelephony.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/src/com/qualcomm/qti/internal/telephony/LineageExtTelephony.java b/src/com/qualcomm/qti/internal/telephony/LineageExtTelephony.java
index 392b9b7..31223e2 100644
--- a/src/com/qualcomm/qti/internal/telephony/LineageExtTelephony.java
+++ b/src/com/qualcomm/qti/internal/telephony/LineageExtTelephony.java
@@ -47,6 +47,8 @@ import static android.telephony.SubscriptionManager.INVALID_SUBSCRIPTION_ID;
 import static android.telephony.TelephonyManager.SIM_ACTIVATION_STATE_ACTIVATED;
 import static android.telephony.TelephonyManager.SIM_ACTIVATION_STATE_DEACTIVATED;
 
+import static android.telephony.TelephonyManager.MultiSimVariants.DSDA;
+
 import static com.android.internal.telephony.uicc.IccCardStatus.CardState.CARDSTATE_PRESENT;
 
 public class LineageExtTelephony extends IExtTelephony.Stub {
@@ -405,8 +407,7 @@ public class LineageExtTelephony extends IExtTelephony.Stub {
 
     @Override
     public boolean isDsdaEnabled() {
-        // I hope we don't use this
-        return false;
+        return sTelephonyManager.getMultiSimConfiguration() == DSDA;
     }
 
     @Override
-- 
2.17.1

