From ee0058865fd996578afcd957f6f66b0645279748 Mon Sep 17 00:00:00 2001
From: Craig Tatlor <ctatlor97@gmail.com>
Date: Mon, 21 May 2018 18:28:19 +0100
Subject: [PATCH 3/3] wifi_hal: Build with BOARD_VNDK_VERSION

Adds missing headers and libraries.

Change-Id: I5112720ca728629645c12848a67a94ff12a760fe
---
 bcmdhd/wifi_hal/Android.mk   | 1 +
 bcmdhd/wifi_hal/wifi_hal.cpp | 1 +
 2 files changed, 2 insertions(+)

diff --git a/bcmdhd/wifi_hal/Android.mk b/bcmdhd/wifi_hal/Android.mk
index 2398462..404ce77 100644
--- a/bcmdhd/wifi_hal/Android.mk
+++ b/bcmdhd/wifi_hal/Android.mk
@@ -37,6 +37,7 @@ LOCAL_SRC_FILES := \
 	wifi_logger.cpp \
 	wifi_offload.cpp
 
+LOCAL_SHARED_LIBRARIES := liblog libutils
 LOCAL_MODULE := libwifi-hal-bcm
 LOCAL_PROPRIETARY_MODULE := true
 
diff --git a/bcmdhd/wifi_hal/wifi_hal.cpp b/bcmdhd/wifi_hal/wifi_hal.cpp
index 2a4bf23..cc3aae6 100644
--- a/bcmdhd/wifi_hal/wifi_hal.cpp
+++ b/bcmdhd/wifi_hal/wifi_hal.cpp
@@ -1,4 +1,5 @@
 #include <stdint.h>
+#include <unistd.h>
 #include <fcntl.h>
 #include <sys/socket.h>
 #include <netlink/genl/genl.h>
-- 
2.17.0

