From 436fb4e0f55a3ae6adb6a5627cc2cd3c45640217 Mon Sep 17 00:00:00 2001
From: Craig Tatlor <ctatlor97@gmail.com>
Date: Mon, 21 May 2018 17:44:35 +0100
Subject: [PATCH 4/5] voice_processing: Build with BOARD_VNDK_VERSION

Adds missing libraries and headers.

Change-Id: I0ed899ca97d06778ef19baeb7c9b39670bde91ab
---
 voice_processing/Android.mk         | 1 +
 voice_processing/voice_processing.c | 1 +
 2 files changed, 2 insertions(+)

diff --git a/voice_processing/Android.mk b/voice_processing/Android.mk
index 6f6248964..2f880213d 100644
--- a/voice_processing/Android.mk
+++ b/voice_processing/Android.mk
@@ -16,6 +16,7 @@ LOCAL_C_INCLUDES += \
 
 LOCAL_SHARED_LIBRARIES := \
     liblog \
+    libhardware \
     libcutils
 
 LOCAL_SHARED_LIBRARIES += libdl
diff --git a/voice_processing/voice_processing.c b/voice_processing/voice_processing.c
index 5d0065904..f760b1946 100644
--- a/voice_processing/voice_processing.c
+++ b/voice_processing/voice_processing.c
@@ -17,6 +17,7 @@
 #define LOG_TAG "voice_processing"
 /*#define LOG_NDEBUG 0*/
 #include <dlfcn.h>
+#include <unistd.h>
 #include <cutils/log.h>
 #include <cutils/list.h>
 #include <hardware/audio_effect.h>
-- 
2.17.1

