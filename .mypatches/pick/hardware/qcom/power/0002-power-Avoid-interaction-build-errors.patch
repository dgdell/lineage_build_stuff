From cee967d35812c12a870a9bd7ebd0c7bdda5adc19 Mon Sep 17 00:00:00 2001
From: Michael Bestas <mkbestas@lineageos.org>
Date: Mon, 26 Mar 2018 02:07:57 +0300
Subject: [PATCH 2/3] power: Avoid interaction build errors

Change-Id: I77942f23a9c617abac1a8533cfc1fd7bfa7f66e8
---
 power-845.c    | 3 ---
 power-8974.c   | 2 --
 power-helper.c | 3 ---
 utils.h        | 1 +
 4 files changed, 1 insertion(+), 8 deletions(-)

diff --git a/power-845.c b/power-845.c
index 5a5a39e..1013642 100644
--- a/power-845.c
+++ b/power-845.c
@@ -51,9 +51,6 @@
 static int display_fd;
 #define SYS_DISPLAY_PWR "/sys/kernel/hbtp/display_pwr"
 
-/* Declare function before use */
-void interaction(int duration, int num_args, int opt_list[]);
-
 int power_hint_override(power_hint_t hint, void *data)
 {
     int ret_val = HINT_NONE;
diff --git a/power-8974.c b/power-8974.c
index 4112f1d..40c596f 100644
--- a/power-8974.c
+++ b/power-8974.c
@@ -131,8 +131,6 @@ static void set_power_profile(int profile) {
     current_power_profile = profile;
 }
 
-void interaction(int duration, int num_args, int opt_list[]);
-
 int power_hint_override(power_hint_t hint, void *data)
 {
     if (hint == POWER_HINT_SET_PROFILE) {
diff --git a/power-helper.c b/power-helper.c
index 3130012..23c9133 100644
--- a/power-helper.c
+++ b/power-helper.c
@@ -286,9 +286,6 @@ int __attribute__ ((weak)) power_hint_override(power_hint_t UNUSED(hint),
     return HINT_NONE;
 }
 
-/* Declare function before use */
-void interaction(int duration, int num_args, int opt_list[]);
-
 void power_hint(power_hint_t hint, void *data)
 {
     /* Check if this hint has been overridden. */
diff --git a/utils.h b/utils.h
index 8b908cc..2080234 100644
--- a/utils.h
+++ b/utils.h
@@ -44,6 +44,7 @@ void perform_hint_action(int hint_id, int resource_values[],
 void undo_hint_action(int hint_id);
 void undo_initial_hint_action();
 void release_request(int lock_handle);
+void interaction(int duration, int num_args, int opt_list[]);
 int interaction_with_handle(int lock_handle, int duration, int num_args, int opt_list[]);
 int perf_hint_enable(int hint_id, int duration);
 
-- 
2.15.1

