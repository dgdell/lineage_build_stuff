From a257f9faa930e4cbb0c3707d7938f1d38a381d63 Mon Sep 17 00:00:00 2001
From: Michael Bestas <mkbestas@lineageos.org>
Date: Tue, 2 Oct 2018 18:07:47 +0300
Subject: [PATCH 5/6] power: Remove 1.0 HAL remnants

* Missed in bd767ce687270079bf436373a292922b7424f60d

Change-Id: I78a1af2867f49687662d6961bccd777c7937cea2
---
 android.hardware.power@1.0-service-qti.rc |  4 ----
 service.cpp                               | 12 ------------
 2 files changed, 16 deletions(-)
 delete mode 100644 android.hardware.power@1.0-service-qti.rc

diff --git a/android.hardware.power@1.0-service-qti.rc b/android.hardware.power@1.0-service-qti.rc
deleted file mode 100644
index 01739a0..0000000
--- a/android.hardware.power@1.0-service-qti.rc
+++ /dev/null
@@ -1,4 +0,0 @@
-service power-hal-1-0 /vendor/bin/hw/android.hardware.power@1.0-service-qti
-    class hal
-    user system
-    group system
diff --git a/service.cpp b/service.cpp
index ab14bc5..4b74156 100644
--- a/service.cpp
+++ b/service.cpp
@@ -15,11 +15,7 @@
  * limitations under the License.
  */
 
-#ifdef V1_0_HAL
-#define LOG_TAG "android.hardware.power@1.0-service-qti"
-#else
 #define LOG_TAG "android.hardware.power@1.1-service-qti"
-#endif
 
 // #define LOG_NDEBUG 0
 
@@ -37,22 +33,14 @@ using android::hardware::configureRpcThreadpool;
 using android::hardware::joinRpcThreadpool;
 
 // Generated HIDL files
-#ifdef V1_0_HAL
-using android::hardware::power::V1_0::implementation::Power;
-#else
 using android::hardware::power::V1_1::implementation::Power;
-#endif
 
 int main() {
 
     status_t status;
     android::sp<Power> service = nullptr;
 
-#ifdef V1_0_HAL
-    ALOGI("Power HAL Service 1.0 for QCOM is starting.");
-#else
     ALOGI("Power HAL Service 1.1 for QCOM is starting.");
-#endif
 
     service = new Power();
     if (service == nullptr) {
-- 
2.17.1

