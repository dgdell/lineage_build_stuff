From 5da366454a2f8b28cc415484a3fa70671da42bc5 Mon Sep 17 00:00:00 2001
From: Steve Kondik <shade@chemlab.org>
Date: Sat, 17 May 2014 03:37:53 -0700
Subject: [PATCH 4/4] power: Enable interaction boost unconditionally

Change-Id: Idc38dadc081199dbf7c25df4e1bba65b2f3dde0c
---
 Android.mk | 4 ----
 utils.c    | 7 +------
 2 files changed, 1 insertion(+), 10 deletions(-)

diff --git a/Android.mk b/Android.mk
index fe0f659..f0d8a35 100644
--- a/Android.mk
+++ b/Android.mk
@@ -106,10 +106,6 @@ ifneq ($(TARGET_POWER_SET_FEATURE_LIB),)
     LOCAL_STATIC_LIBRARIES += $(TARGET_POWER_SET_FEATURE_LIB)
 endif
 
-ifeq ($(TARGET_USES_INTERACTION_BOOST),true)
-    LOCAL_CFLAGS += -DINTERACTION_BOOST
-endif
-
 ifneq ($(TARGET_POWERHAL_SET_INTERACTIVE_EXT),)
 LOCAL_CFLAGS += -DSET_INTERACTIVE_EXT
 LOCAL_SRC_FILES += ../../../$(TARGET_POWERHAL_SET_INTERACTIVE_EXT)
diff --git a/utils.c b/utils.c
index 11d1d75..59adfbe 100644
--- a/utils.c
+++ b/utils.c
@@ -210,15 +210,11 @@ int is_interactive_governor(char* governor) {
    return 0;
 }
 
-#ifndef INTERACTION_BOOST
-void interaction(int UNUSED(duration), int UNUSED(num_args), int UNUSED(opt_list[]))
-{
-#else
 void interaction(int duration, int num_args, int opt_list[])
 {
     static int lock_handle = 0;
 
-    if (duration < 0 || num_args < 1 || opt_list[0] == 0)
+    if (duration <= 0 || num_args < 1 || opt_list[0] == 0)
         return;
 
     if (qcopt_handle) {
@@ -228,7 +224,6 @@ void interaction(int duration, int num_args, int opt_list[])
                 ALOGE("Failed to acquire lock.");
         }
     }
-#endif
 }
 
 int interaction_with_handle(int lock_handle, int duration, int num_args, int opt_list[])
-- 
2.7.4

