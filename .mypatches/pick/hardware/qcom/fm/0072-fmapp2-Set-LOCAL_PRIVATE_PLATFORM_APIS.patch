From 7c14a37e620f0c3c543f0ed198a6ca765b3efb8b Mon Sep 17 00:00:00 2001
From: Anton Hansson <hansson@google.com>
Date: Wed, 21 Feb 2018 14:11:44 +0000
Subject: [PATCH 72/74] fmapp2: Set LOCAL_PRIVATE_PLATFORM_APIS

This change sets LOCAL_SDK_VERSION for all packages where
this is possible without breaking the build, and
LOCAL_PRIVATE_PLATFORM_APIS := true otherwise.

Setting one of these two will be made required soon, and this
is a change in preparation for that. Not setting LOCAL_SDK_VERSION
makes the app implicitly depend on the bootclasspath, which is
often not required. This change effectively makes depending on
private apis opt-in rather than opt-out.

Test: make relevant packages
Bug: 73535841
Change-Id: Id4757bcca09eda716e0a1098d9290928fa87f22d
---
 fmapp2/Android.mk | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/fmapp2/Android.mk b/fmapp2/Android.mk
index 9c40001..5997a5b 100644
--- a/fmapp2/Android.mk
+++ b/fmapp2/Android.mk
@@ -25,7 +25,11 @@ LOCAL_SRC_FILES +=  $(call all-java-files-under, src/com/caf/hc_utils)
 else
 LOCAL_SRC_FILES +=  $(call all-java-files-under, src/com/caf/utils)
 endif
+
 LOCAL_PACKAGE_NAME := FM2
+
+LOCAL_PRIVATE_PLATFORM_APIS := true
+
 LOCAL_CERTIFICATE := platform
 LOCAL_JNI_SHARED_LIBRARIES := libqcomfm_jni
 LOCAL_JAVA_LIBRARIES := qcom.fmradio
-- 
2.17.1

