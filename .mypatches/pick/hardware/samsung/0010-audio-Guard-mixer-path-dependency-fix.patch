From 719630aaf691be66d922646076e5ce1b49635ee4 Mon Sep 17 00:00:00 2001
From: "Christopher N. Hesse" <raymanfx@gmail.com>
Date: Mon, 12 Feb 2018 01:47:48 +0100
Subject: [PATCH 10/35] audio: Guard mixer path dependency fix

Change-Id: Id93d7941ae322a83488da3cea62c6eb36a6e9160
---
 audio/audio_hw.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/audio/audio_hw.c b/audio/audio_hw.c
index 54ae924..ff6ba33 100644
--- a/audio/audio_hw.c
+++ b/audio/audio_hw.c
@@ -1018,7 +1018,7 @@ int disable_snd_device(struct audio_device *adev,
             update_mixer = true;
 #endif /* DSP_POWEROFF_DELAY */
             audio_route_reset_path(mixer_card->audio_route, snd_device_name);
-            if (out_uc_info != NULL) {
+            if (snd_device > SND_DEVICE_IN_BEGIN && out_uc_info != NULL) {
                 /*
                  * Cycle the rx device to eliminate routing conflicts.
                  * This prevents issues when an input route shares mixer controls with an output
-- 
2.17.1

