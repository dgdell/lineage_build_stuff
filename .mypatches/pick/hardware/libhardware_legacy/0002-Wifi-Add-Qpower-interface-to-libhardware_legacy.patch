From 8f401856388394d25c2741a48e3cabae894632a6 Mon Sep 17 00:00:00 2001
From: Jian Tang <jiantang@codeaurora.org>
Date: Thu, 16 Nov 2017 02:33:00 -0600
Subject: [PATCH 2/2] Wifi: Add Qpower interface to libhardware_legacy

Add Qpower interface to libhardware_legacy

Change-Id: I710e2489f92cb7131fa7852ac7708e3f4a596251
CRs-Fixed: 2145144
---
 include/hardware_legacy/wifi_config.h | 3 +++
 include/hardware_legacy/wifi_hal.h    | 1 +
 2 files changed, 4 insertions(+)

diff --git a/include/hardware_legacy/wifi_config.h b/include/hardware_legacy/wifi_config.h
index 8ad14f4..a50004f 100644
--- a/include/hardware_legacy/wifi_config.h
+++ b/include/hardware_legacy/wifi_config.h
@@ -22,6 +22,9 @@ wifi_error wifi_extended_dtim_config_set(wifi_request_id id,
 //set the country code to driver
 wifi_error wifi_set_country_code(wifi_interface_handle iface, const char* country_code);
 
+//Set the powersave to driver
+wifi_error wifi_set_qpower(wifi_interface_handle iface, u8 powersave);
+
 //set the wifi_iface stats averaging factor used to calculate
 // statistics like average the TSF offset or average number of frame leaked
 // For instance, upon beacon reception:
diff --git a/include/hardware_legacy/wifi_hal.h b/include/hardware_legacy/wifi_hal.h
index 71f7a3e..2c016c5 100644
--- a/include/hardware_legacy/wifi_hal.h
+++ b/include/hardware_legacy/wifi_hal.h
@@ -467,6 +467,7 @@ typedef struct {
     wifi_error (*wifi_add_or_remove_virtual_intf)(wifi_interface_handle iface,
                                                   const char* ifname, u32 iface_type,
                                                   bool create);
+    wifi_error (*wifi_set_qpower)(wifi_interface_handle iface, u8 powersave);
 } wifi_hal_fn;
 wifi_error init_wifi_vendor_hal_func_table(wifi_hal_fn *fn);
 #ifdef __cplusplus
-- 
2.17.1

