From 6e7d5a293bbeaaafd2e085a138d423f505dcb4ba Mon Sep 17 00:00:00 2001
From: Anton Hansson <hansson@google.com>
Date: Wed, 21 Feb 2018 14:11:44 +0000
Subject: [PATCH 1/2] qcom-common: doze: Set LOCAL_PRIVATE_PLATFORM_APIS

This change sets LOCAL_SDK_VERSION for all packages where
this is possible without breaking the build, and
LOCAL_PRIVATE_PLATFORM_APIS := true otherwise.

Setting one of these two will be made required soon, and this
is a change in preparation for that. Not setting LOCAL_SDK_VERSION
makes the app implicitly depend on the bootclasspath, which is
often not required. This change effectively makes depending on
private apis opt-in rather than opt-out.

Bug: 73535841
Change-Id: Iabb0556dc1c80c7fc7f6c76d61d5e441b03cdce0
---
 doze/Android.mk | 1 +
 1 file changed, 1 insertion(+)

diff --git a/doze/Android.mk b/doze/Android.mk
index 4f9f904..aff1695 100644
--- a/doze/Android.mk
+++ b/doze/Android.mk
@@ -7,6 +7,7 @@ LOCAL_SRC_FILES := $(call all-java-files-under, src)
 
 LOCAL_PACKAGE_NAME := SamsungDoze
 LOCAL_CERTIFICATE := platform
+LOCAL_PRIVATE_PLATFORM_APIS := true
 LOCAL_PRIVILEGED_MODULE := true
 
 LOCAL_USE_AAPT2 := true
-- 
2.17.1

