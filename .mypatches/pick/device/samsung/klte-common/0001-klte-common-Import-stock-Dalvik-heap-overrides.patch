From 1499f9cf7a0b5ef98991e07264379317ae91e793 Mon Sep 17 00:00:00 2001
From: Bruno Martins <bgcngm@gmail.com>
Date: Fri, 10 Aug 2018 23:14:57 +0100
Subject: [PATCH 1/3] klte-common: Import stock Dalvik heap overrides

Change-Id: Ifac6650a874cf982a6e767da92599d4b6230a637
---
 klte.mk     | 1 -
 system.prop | 8 ++++++++
 2 files changed, 8 insertions(+), 1 deletion(-)

diff --git a/klte.mk b/klte.mk
index 7d0b649..55b4dc8 100644
--- a/klte.mk
+++ b/klte.mk
@@ -16,7 +16,6 @@
 #
 
 $(call inherit-product, $(SRC_TARGET_DIR)/product/languages_full.mk)
-$(call inherit-product, frameworks/native/build/phone-xxhdpi-2048-dalvik-heap.mk)
 
 # Overlays
 DEVICE_PACKAGE_OVERLAYS += $(LOCAL_PATH)/overlay
diff --git a/system.prop b/system.prop
index 0f22bf4..1d29f71 100644
--- a/system.prop
+++ b/system.prop
@@ -20,6 +20,14 @@ audio.offload.buffer.size.kb=32
 # Camera
 camera2.portability.force_api=1
 
+# Dalvik heap
+dalvik.vm.heapstartsize=8m
+dalvik.vm.heapgrowthlimit=192m
+dalvik.vm.heapsize=512m
+dalvik.vm.heaptargetutilization=0.75
+dalvik.vm.heapminfree=2m
+dalvik.vm.heapmaxfree=8m
+
 # Display
 ro.hdcp2.rx=tz
 ro.qualcomm.cabl=1
-- 
2.17.1

