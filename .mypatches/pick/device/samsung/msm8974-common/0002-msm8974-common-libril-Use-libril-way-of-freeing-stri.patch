From 4747de612bae45913bbafd9589013d3309e709cf Mon Sep 17 00:00:00 2001
From: Paul Keith <javelinanddart@gmail.com>
Date: Thu, 28 Jun 2018 19:01:51 +0200
Subject: [PATCH 2/4] msm8974-common: libril: Use libril way of freeing strings
 for nitz hack

Change-Id: I7addc27abb3730873799518ea2ac6ec51a280bd9
---
 ril/libril/ril_service.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ril/libril/ril_service.cpp b/ril/libril/ril_service.cpp
index f9ee0ab..e5acc60 100644
--- a/ril/libril/ril_service.cpp
+++ b/ril/libril/ril_service.cpp
@@ -7023,7 +7023,7 @@ int radio::nitzTimeReceivedInd(int slotId,
         }
 
         nitzTime = convertCharPtrToHidlString(resp);
-        free(resp);
+        memsetAndFreeStrings(1, resp);
 #if VDBG
         RLOGD("nitzTimeReceivedInd: nitzTime %s receivedTime %" PRId64, nitzTime.c_str(),
                 timeReceived);
-- 
2.17.1

