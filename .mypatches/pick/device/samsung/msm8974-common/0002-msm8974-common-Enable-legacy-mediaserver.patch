From 782ff3f4e4840bd8c237fa660eaa74f7a13041dc Mon Sep 17 00:00:00 2001
From: Zhao Wei Liew <zhaoweiliew@gmail.com>
Date: Fri, 7 Oct 2016 10:52:13 +0800
Subject: [PATCH 2/5] msm8974-common: Enable legacy mediaserver

Change-Id: I4881ce7a0342b0dc9a9c50d6870f1b072b45af82
---
 BoardConfigCommon.mk | 6 ++++++
 system.prop          | 3 +++
 2 files changed, 9 insertions(+)
 create mode 100644 system.prop

diff --git a/BoardConfigCommon.mk b/BoardConfigCommon.mk
index d303a8d..7318bb1 100644
--- a/BoardConfigCommon.mk
+++ b/BoardConfigCommon.mk
@@ -32,6 +32,9 @@ TARGET_USES_64_BIT_BINDER := true
 # Bluetooth
 BOARD_HAVE_BLUETOOTH := true
 
+# Camera
+TARGET_HAS_LEGACY_CAMERA_HAL1 := true
+
 # Charger
 BOARD_BATTERY_DEVICE_NAME := "battery"
 BOARD_CHARGING_CMDLINE_NAME := "androidboot.bootchg"
@@ -82,6 +85,9 @@ TARGET_HAS_LEGACY_POWER_STATS := true
 TARGET_HAS_NO_WIFI_STATS := true
 TARGET_USES_INTERACTION_BOOST := true
 
+# Properties
+TARGET_SYSTEM_PROP += device/samsung/msm8974-common/system.prop
+
 # Time services
 BOARD_USES_QC_TIME_SERVICES := true
 
diff --git a/system.prop b/system.prop
new file mode 100644
index 0000000..a88d7d1
--- /dev/null
+++ b/system.prop
@@ -0,0 +1,3 @@
+# Media
+media.stagefright.legacyencoder=true
+media.stagefright.less-secure=true
-- 
2.17.0

