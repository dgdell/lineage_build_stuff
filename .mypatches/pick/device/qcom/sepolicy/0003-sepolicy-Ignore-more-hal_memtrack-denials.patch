From ce82ca4a5e6c1a7e04d1b72127fdcfee39e5240a Mon Sep 17 00:00:00 2001
From: Michael Bestas <mkbestas@lineageos.org>
Date: Thu, 22 Mar 2018 18:16:45 +0200
Subject: [PATCH 03/17] sepolicy: Ignore more hal_memtrack denials

* They are harmless

Change-Id: Idb7947558a8af876e93fa02168da144d9373c9c9
---
 common/hal_memtrack.te | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/common/hal_memtrack.te b/common/hal_memtrack.te
index 8bdf4d3..55b6e34 100644
--- a/common/hal_memtrack.te
+++ b/common/hal_memtrack.te
@@ -30,4 +30,5 @@ r_dir_file(hal_memtrack_default, kgsl_debugfs);
 # Memtrack reads proc/<pid>/cmdline to check if process is surfaceflinger.
 # Grant access if that's the case; don't log denials for other processes.
 allow hal_memtrack_default surfaceflinger:file read;
-dontaudit hal_memtrack_default { domain -surfaceflinger}:file read;
+dontaudit hal_memtrack_default { domain -surfaceflinger }:dir search;
+dontaudit hal_memtrack_default { domain -surfaceflinger }:file { open read getattr };
-- 
2.15.1

