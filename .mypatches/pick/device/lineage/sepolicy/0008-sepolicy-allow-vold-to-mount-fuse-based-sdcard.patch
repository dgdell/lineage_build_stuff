From 2015d8e89d9d71c994cfc67d7d5b591c9be277bc Mon Sep 17 00:00:00 2001
From: Pawit Pornkitprasan <p.pawit@gmail.com>
Date: Tue, 10 Dec 2013 17:10:50 +0700
Subject: [PATCH 08/15] sepolicy: allow vold to mount fuse-based sdcard

exfat and NTFS-3g requires access to /dev/fuse

Change-Id: I35b13ada586c8de3fbe04156c2d10bf5e3c07b3a
---
 common/private/vold.te | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/common/private/vold.te b/common/private/vold.te
index 4290d17..b25f25a 100644
--- a/common/private/vold.te
+++ b/common/private/vold.te
@@ -1,3 +1,9 @@
+# Allow vold to access fuse for fuse-based fs
+allow vold fuseblk:chr_file rw_file_perms;
+
+# NTFS-3g wants to drop permission
+allow vold self:capability { setgid setuid };
+
 # External storage
 allow vold mkfs_exec:file { execute read open getattr execute_no_trans };
 allow vold mnt_media_rw_stub_file:dir r_dir_perms;
-- 
2.7.4

