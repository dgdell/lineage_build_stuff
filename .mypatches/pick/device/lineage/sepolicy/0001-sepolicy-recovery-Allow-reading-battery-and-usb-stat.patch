From ba48f76d83e27cd925f4ee9f9fd1f93e5d3143fe Mon Sep 17 00:00:00 2001
From: Tom Marshall <tdm.code@gmail.com>
Date: Fri, 2 Mar 2018 22:43:26 +0100
Subject: [PATCH] sepolicy: recovery: Allow reading battery and usb status

Change-Id: I3d51337b64ba608e22b587a0bf78a293665f1126
---
 qcom/private/recovery.te | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/qcom/private/recovery.te b/qcom/private/recovery.te
index dbdb205..0e8416e 100644
--- a/qcom/private/recovery.te
+++ b/qcom/private/recovery.te
@@ -3,4 +3,10 @@ recovery_only(`
 allow recovery sysfs_graphics:dir search;
 allow recovery sysfs_graphics:file { getattr open read write };
 
+# Battery and USB status
+allow recovery sysfs_battery_supply:dir search;
+allow recovery sysfs_battery_supply:file { getattr open read };
+allow recovery sysfs_usb_supply:dir search;
+allow recovery sysfs_usb_supply:file { getattr open read };
+
 ')
-- 
2.7.4

