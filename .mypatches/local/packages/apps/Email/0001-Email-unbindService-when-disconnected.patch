From 5990a830aabe734808cb6efe68d5794f642bb613 Mon Sep 17 00:00:00 2001
From: nx111 <gd.zhangdz@gmail.com>
Date: Sat, 20 Jan 2018 21:12:27 +0800
Subject: [PATCH] Email: unbindService when disconnected.

Change-Id: I607cc5ddb6d8f7ec5882a67184c27b25f06b3bbe
---
 emailcommon/src/com/android/emailcommon/service/ServiceProxy.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/emailcommon/src/com/android/emailcommon/service/ServiceProxy.java b/emailcommon/src/com/android/emailcommon/service/ServiceProxy.java
index 3669345..14b3f9a 100644
--- a/emailcommon/src/com/android/emailcommon/service/ServiceProxy.java
+++ b/emailcommon/src/com/android/emailcommon/service/ServiceProxy.java
@@ -147,6 +147,7 @@ public abstract class ServiceProxy {
 
         @Override
         public void onServiceDisconnected(ComponentName name) {
+            mContext.unbindService(mConnection);
             if (DEBUG_PROXY) {
                 LogUtils.v(mTag, "Disconnected: " + name.getShortClassName() + " at " +
                         (System.currentTimeMillis() - mStartTime) + "ms");
-- 
2.7.4

