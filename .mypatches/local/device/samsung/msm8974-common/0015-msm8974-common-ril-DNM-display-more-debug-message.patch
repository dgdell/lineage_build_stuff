From 2cbd068fe9fc959616dea8f7fc89a9656e824828 Mon Sep 17 00:00:00 2001
From: nx111 <gd.zhangdz@gmail.com>
Date: Fri, 7 Sep 2018 23:45:57 +0800
Subject: [PATCH 15/15] msm8974-common: ril: [DNM] display more debug message.

Change-Id: If422afc01719f7cc7d5394b669d189c632610787
---
 ril/libril/ril_internal.h  | 4 ++--
 ril/libril/ril_service.cpp | 4 ++++
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/ril/libril/ril_internal.h b/ril/libril/ril_internal.h
index 350791b..de9cd48 100644
--- a/ril/libril/ril_internal.h
+++ b/ril/libril/ril_internal.h
@@ -33,12 +33,12 @@ namespace android {
 #define RESPONSE_UNSOLICITED_ACK_EXP 4
 
 // Enable verbose logging
-#define VDBG 0
+#define VDBG 1
 
 #define MIN(a,b) ((a)<(b) ? (a) : (b))
 
 // Enable RILC log
-#define RILC_LOG 0
+#define RILC_LOG 1
 
 #if RILC_LOG
     #define startRequest           sprintf(printBuf, "(")
diff --git a/ril/libril/ril_service.cpp b/ril/libril/ril_service.cpp
index f218832..f6dbcab 100644
--- a/ril/libril/ril_service.cpp
+++ b/ril/libril/ril_service.cpp
@@ -666,7 +666,9 @@ bool dispatchStrings(int serial, int slotId, int request, const hidl_vec<hidl_st
 
 bool dispatchInts(int serial, int slotId, int request, int countInts, ...) {
     RequestInfo *pRI = android::addRequestToList(serial, slotId, request);
+    RLOGD("=== >>> Begin dispatchInts request [ %s ] ... ", requestToString(request));
     if (pRI == NULL) {
+        RLOGE("dispatchInts: pRI == NULL, return false...");
         return false;
     }
 
@@ -684,7 +686,9 @@ bool dispatchInts(int serial, int slotId, int request, int countInts, ...) {
     }
     va_end(ap);
 
+    RLOGD("--- Begin CALL ONREQUEST [ %s ] ...", requestToString(request));
     CALL_ONREQUEST(request, pInts, countInts * sizeof(int), pRI, slotId);
+    RLOGD("----End   CALL ONREQUEST [ %s ] ...", requestToString(request));
 
     if (pInts != NULL) {
 #ifdef MEMSET_FREED
-- 
2.17.1

