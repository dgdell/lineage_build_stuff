From 1e97d82524e39f2390f8d386f95006dc380aaaee Mon Sep 17 00:00:00 2001
From: nx111 <gd.zhangdz@gmail.com>
Date: Fri, 12 Oct 2018 07:42:31 +0800
Subject: [PATCH 5/5] add debug info for hidden ssid

Change-Id: I10a7eff83616aa204057d1b9dc9b7591b65a9a80
---
 .../android/server/wifi/scanner/WifiScanningServiceImpl.java | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/service/java/com/android/server/wifi/scanner/WifiScanningServiceImpl.java b/service/java/com/android/server/wifi/scanner/WifiScanningServiceImpl.java
index efeafc7bd..0a6276b5c 100644
--- a/service/java/com/android/server/wifi/scanner/WifiScanningServiceImpl.java
+++ b/service/java/com/android/server/wifi/scanner/WifiScanningServiceImpl.java
@@ -832,9 +832,11 @@ public class WifiScanningServiceImpl extends IWifiScanner.Stub {
             }
 
             if (!ArrayUtils.isEmpty(settings.hiddenNetworks)) {
+                Log.i(TAG, "settings.hiddenNetworks is not empty.");
                 if (ArrayUtils.isEmpty(mActiveScanSettings.hiddenNetworks)) {
                     return false;
                 }
+                Log.i(TAG, "mActiveScanSettings.hiddenNetworks is not empty.");
                 List<WifiNative.HiddenNetwork> activeHiddenNetworks = new ArrayList<>();
                 for (WifiNative.HiddenNetwork hiddenNetwork : mActiveScanSettings.hiddenNetworks) {
                     activeHiddenNetworks.add(hiddenNetwork);
@@ -842,7 +844,10 @@ public class WifiScanningServiceImpl extends IWifiScanner.Stub {
                 for (ScanSettings.HiddenNetwork hiddenNetwork : settings.hiddenNetworks) {
                     WifiNative.HiddenNetwork nativeHiddenNetwork = new WifiNative.HiddenNetwork();
                     nativeHiddenNetwork.ssid = hiddenNetwork.ssid;
+                    Log.i(TAG, "hiddenNetworks.ssid=" + hiddenNetwork.ssid );
                     if (!activeHiddenNetworks.contains(nativeHiddenNetwork)) {
+
+                        Log.i(TAG, "activeHiddenNetworks not contains '" + hiddenNetwork.ssid +"'" );
                         return false;
                     }
                 }
-- 
2.17.1

