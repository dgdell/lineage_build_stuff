From b24d56310018010b637c3e91b7a1380084c94d0c Mon Sep 17 00:00:00 2001
From: Chih-Hung Hsieh <chh@google.com>
Date: Tue, 2 Jan 2018 11:34:10 -0800
Subject: [PATCH 1/5] Add -Wno-error to compile with global -Werror.

Bug: 66996870
Test: normal builds.
Change-Id: Iee4ac5f95a2013c5eeac1c061889a593caf0ec36
---
 msm8974/mm-core/Android.mk           | 1 +
 msm8974/mm-video-legacy/vidc/venc.mk | 1 +
 msm8974/mm-video-v4l2/vidc/vdec.mk   | 1 +
 3 files changed, 3 insertions(+)

diff --git a/msm8974/mm-core/Android.mk b/msm8974/mm-core/Android.mk
index e2727f5d2..4e80b5502 100644
--- a/msm8974/mm-core/Android.mk
+++ b/msm8974/mm-core/Android.mk
@@ -90,6 +90,7 @@ LOCAL_MODULE            := libOmxCore
 LOCAL_MODULE_TAGS       := optional
 LOCAL_SHARED_LIBRARIES  := liblog libdl
 LOCAL_CFLAGS            := $(OMXCORE_CFLAGS)
+LOCAL_CFLAGS            += -Wno-error
 
 LOCAL_SRC_FILES         := src/common/omx_core_cmp.cpp
 LOCAL_SRC_FILES         += src/common/qc_omx_core.c
diff --git a/msm8974/mm-video-legacy/vidc/venc.mk b/msm8974/mm-video-legacy/vidc/venc.mk
index 4259f7663..2b0592c9b 100644
--- a/msm8974/mm-video-legacy/vidc/venc.mk
+++ b/msm8974/mm-video-legacy/vidc/venc.mk
@@ -57,6 +57,7 @@ libmm-venc-inc      += frameworks/av/include/media/stagefright
 LOCAL_MODULE                    := libOmxVenc
 LOCAL_MODULE_TAGS               := optional
 LOCAL_CFLAGS                    := $(libmm-venc-def)
+LOCAL_CFLAGS                    += -Wno-error
 LOCAL_C_INCLUDES                := $(libmm-venc-inc)
 
 LOCAL_HEADER_LIBRARIES    := generated_kernel_headers
diff --git a/msm8974/mm-video-v4l2/vidc/vdec.mk b/msm8974/mm-video-v4l2/vidc/vdec.mk
index 740b54ff5..8979b68c7 100644
--- a/msm8974/mm-video-v4l2/vidc/vdec.mk
+++ b/msm8974/mm-video-v4l2/vidc/vdec.mk
@@ -112,6 +112,7 @@ libmm-vdec-inc      += frameworks/av/include/media/stagefright
 LOCAL_MODULE                    := libOmxVdec
 LOCAL_MODULE_TAGS               := optional
 LOCAL_CFLAGS                    := $(libOmxVdec-def)
+LOCAL_CFLAGS                    += -Wno-error
 LOCAL_C_INCLUDES                += $(libmm-vdec-inc)
 
 LOCAL_HEADER_LIBRARIES  := generated_kernel_headers
-- 
2.17.1

