From b7c5eec6bfd5fd28c88c85bf50eda62c77c3ce65 Mon Sep 17 00:00:00 2001
From: Chih-Hung Hsieh <chh@google.com>
Date: Thu, 28 Sep 2017 14:48:11 -0700
Subject: [PATCH 22/47] Use -Werror in external/libvpx

Bug: 66996870
Test: build with WITH_TIDY=1
Change-Id: I6f31f65c98a6f65f502307482ae25ee425bb4e8a
---
 Android.bp         | 2 ++
 libwebm/Android.bp | 1 +
 2 files changed, 3 insertions(+)

diff --git a/Android.bp b/Android.bp
index e5e11f8..e55320a 100644
--- a/Android.bp
+++ b/Android.bp
@@ -2140,6 +2140,8 @@ cc_library_static {
 
     cflags: [
         "-O3",
+        "-Wall",
+        "-Werror",
         "-Wno-unused-parameter",
     ],
 
diff --git a/libwebm/Android.bp b/libwebm/Android.bp
index a1d335e..753746e 100644
--- a/libwebm/Android.bp
+++ b/libwebm/Android.bp
@@ -1,6 +1,7 @@
 cc_library_static {
     name: "libwebm",
     srcs: ["mkvparser/mkvparser.cc"],
+    cflags: ["-Wall", "-Werror"],
     export_include_dirs: ["."],
     sanitize: {
         cfi: true,
-- 
2.17.1

