From a8d0cd5a2e73b305ec8de41f3cb17107217997c1 Mon Sep 17 00:00:00 2001
From: Michael Bestas <mkbestas@lineageos.org>
Date: Sun, 13 Jan 2019 22:38:44 +0200
Subject: [PATCH 13/13] sepolicy: Label more qpnp-charger sysfs as
 sysfs_battery_supply

Change-Id: I93d029e390966adcdba4fa34c731ee1f67c8e09a
---
 common/file_contexts | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/common/file_contexts b/common/file_contexts
index ac12bc6..120eaa9 100644
--- a/common/file_contexts
+++ b/common/file_contexts
@@ -337,7 +337,7 @@
 /sys/devices(/platform)?/soc/[a-z0-9]+\.i2c/i2c-[0-9]+/[0-9]+-[a-z0-9]+/[a-z0-9]+\.i2c:qcom,[a-z0-9]+@[a-z0-9]:qcom,smb[0-9]+-charger@[0-9]+/power_supply/parallel(/.*)?    u:object_r:sysfs_usb_supply:s0
 /sys/devices(/platform)?/soc/[a-z0-9]+\.qcom,spmi/spmi-[0-9]/spmi0-0[0-9]/[a-z0-9]+\.qcom,spmi:qcom,[a-z0-9]+@[0-9]:qcom,usb-pdphy@[0-9]+/usbpd/usbpd[0-9](/.*)?      u:object_r:sysfs_usbpd_device:s0
 /sys/devices/platform/battery_current_limit                         u:object_r:sysfs_thermal:s0
-/sys/devices/qpnp-charger.*/power_supply/battery(/.*)?             u:object_r:sysfs_battery_supply:s0
+/sys/devices/qpnp-charger.*/power_supply(/.*)?                      u:object_r:sysfs_battery_supply:s0
 /sys/devices(/platform)?/soc/[a-z0-9]+\.qcom,spmi/spmi-[0-9]/spmi0-0[0-9]/[a-z0-9]+\.qcom,spmi:qcom,[a-z0-9]+@[0-9]:qcom,qpnp-smb[0-9]+/power_supply/battery(/.*)?    u:object_r:sysfs_battery_supply:s0
 /sys/devices(/platform)?/soc/[a-z0-9]+\.qcom,spmi/spmi-[0-9]/spmi0-0[0-9]/[a-z0-9]+\.qcom,spmi:qcom,[a-z0-9]+@[0-9]:qcom,qpnp-smbcharger/power_supply/battery(/.*)?   u:object_r:sysfs_battery_supply:s0
 /sys/devices(/platform)?/soc/[a-z0-9]+\.qcom,spmi/spmi-[0-9]/spmi0-0[0-9]/[a-z0-9]+\.qcom,spmi:qcom,[a-z0-9]+@[0-9]:qpnp,fg/power_supply/bms(/.*)?               u:object_r:sysfs_battery_supply:s0
-- 
2.17.1

