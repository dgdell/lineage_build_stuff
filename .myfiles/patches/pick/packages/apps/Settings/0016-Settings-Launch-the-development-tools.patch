From 27683d8155b455e33b63b2cf674e167332fc8e41 Mon Sep 17 00:00:00 2001
From: Chirayu Desai <cdesai@cyanogenmod.org>
Date: Wed, 5 Dec 2012 18:45:29 -0500
Subject: [PATCH 16/18] Settings: Launch the development tools

Change-Id: I0f798d197888ef7f40688009536040e061c410f4
---
 res/values/cm_strings.xml                              |  3 +++
 res/xml/development_settings.xml                       | 10 ++++++++++
 .../DevelopmentSettingsDashboardFragment.java          |  1 +
 3 files changed, 14 insertions(+)

diff --git a/res/values/cm_strings.xml b/res/values/cm_strings.xml
index 5fb7555d2d..6ba570c6a1 100644
--- a/res/values/cm_strings.xml
+++ b/res/values/cm_strings.xml
@@ -299,6 +299,9 @@
     <string name="kill_app_longpress_back">Kill app back button</string>
     <string name="kill_app_longpress_back_summary">Kill the foreground app by long-pressing the back button</string>
 
+    <!-- Launch Dev Tools -->
+    <string name="development_tools_title">Development tools</string>
+
     <!-- Lock screen cover art -->
     <string name="lockscreen_media_art_title">Display media cover art</string>
 
diff --git a/res/xml/development_settings.xml b/res/xml/development_settings.xml
index 8413ba831f..21b36b6b95 100644
--- a/res/xml/development_settings.xml
+++ b/res/xml/development_settings.xml
@@ -23,6 +23,16 @@
         android:key="debug_misc_category"
         android:order="100">
 
+        <Preference
+            android:key="development_tools"
+            android:title="@string/development_tools_title"
+            android:persistent="false">
+            <intent
+                android:action="android.settings.development.LAUNCH_TOOLS"
+                android:targetPackage="com.android.development"
+                android:targetClass="com.android.development.Development" />
+        </Preference>
+
         <Preference
             android:key="memory"
             android:icon="@drawable/ic_settings_memory"
diff --git a/src/com/android/settings/development/DevelopmentSettingsDashboardFragment.java b/src/com/android/settings/development/DevelopmentSettingsDashboardFragment.java
index 6de530dc4e..f2011bc612 100644
--- a/src/com/android/settings/development/DevelopmentSettingsDashboardFragment.java
+++ b/src/com/android/settings/development/DevelopmentSettingsDashboardFragment.java
@@ -407,6 +407,7 @@ public class DevelopmentSettingsDashboardFragment extends RestrictedDashboardFra
             Activity activity, Lifecycle lifecycle, DevelopmentSettingsDashboardFragment fragment,
             BluetoothA2dpConfigStore bluetoothA2dpConfigStore) {
         final List<AbstractPreferenceController> controllers = new ArrayList<>();
+        controllers.add(new DefaultLaunchPreferenceController(context, "development_tools"));
         controllers.add(new MemoryUsagePreferenceController(context));
         controllers.add(new BugReportPreferenceController(context));
         controllers.add(new LocalBackupPasswordPreferenceController(context));
-- 
2.17.1

