From 23d746e3a340e511d361639d9d6905fd395414c7 Mon Sep 17 00:00:00 2001
From: Joey Rizzoli <joey@cyanogenmoditalia.it>
Date: Sun, 11 Dec 2016 20:35:55 +0100
Subject: [PATCH 112/172] Snap: prevent NPE when checking if controls are
 visible

Change-Id: Id054ccc9445722bcb08953fd40e43a82bdd13ae2
Signed-off-by: Joey Rizzoli <joey@cyanogenmoditalia.it>
---
 src/com/android/camera/CameraActivity.java | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/com/android/camera/CameraActivity.java b/src/com/android/camera/CameraActivity.java
index 6277a6e40..3629eb7d6 100755
--- a/src/com/android/camera/CameraActivity.java
+++ b/src/com/android/camera/CameraActivity.java
@@ -2432,6 +2432,9 @@ public class CameraActivity extends Activity
      * @return whether controls are visible.
      */
     private boolean arePreviewControlsVisible() {
+        if (mCurrentModule == null) {
+            return false;
+        }
         return mCurrentModule.arePreviewControlsVisible();
     }
 
-- 
2.17.1

