From 134bb78e6614d717ae00b5b1820ddbd10deeb2d8 Mon Sep 17 00:00:00 2001
From: Michael Bestas <mikeioannina@cyanogenmod.org>
Date: Tue, 9 Feb 2016 18:51:28 +0200
Subject: [PATCH 116/206] Snap: Fix crash when set infinite touch-focus
 duration

* java.lang.Integer.valueOf(string) method can't parse
  hexadecimal values

Change-Id: I42706db72fc9c1093a7aa16440af449f731e5176
---
 src/com/android/camera/PhotoModule.java | 2 +-
 src/com/android/camera/VideoModule.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/com/android/camera/PhotoModule.java b/src/com/android/camera/PhotoModule.java
index 891e2a0b3..8ada8ec15 100644
--- a/src/com/android/camera/PhotoModule.java
+++ b/src/com/android/camera/PhotoModule.java
@@ -4373,7 +4373,7 @@ public class PhotoModule
             }
 
             // Set focus time.
-            mFocusManager.setFocusTime(Integer.valueOf(
+            mFocusManager.setFocusTime(Integer.decode(
                     mPreferences.getString(CameraSettings.KEY_FOCUS_TIME,
                     mActivity.getString(R.string.pref_camera_focustime_default))));
         } else {
diff --git a/src/com/android/camera/VideoModule.java b/src/com/android/camera/VideoModule.java
index 842e8cb96..3eb1a47a2 100755
--- a/src/com/android/camera/VideoModule.java
+++ b/src/com/android/camera/VideoModule.java
@@ -2844,7 +2844,7 @@ public class VideoModule implements CameraModule,
         mParameters.setFocusMode(mFocusManager.getFocusMode(true));
 
         // Set focus time.
-        mFocusManager.setFocusTime(Integer.valueOf(
+        mFocusManager.setFocusTime(Integer.decode(
                 mPreferences.getString(CameraSettings.KEY_VIDEOCAMERA_FOCUS_TIME,
                 mActivity.getString(R.string.pref_camera_video_focustime_default))));
 
-- 
2.17.1

