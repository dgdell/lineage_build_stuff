From 6e968c19f8b1e0f70755ddfbcbca50d9b677cda8 Mon Sep 17 00:00:00 2001
From: Joey Rizzoli <joey@cyanogenmoditalia.it>
Date: Sun, 11 Dec 2016 20:35:55 +0100
Subject: [PATCH 145/206] Snap: prevent NPE when checking if controls are
 visible

Change-Id: Id054ccc9445722bcb08953fd40e43a82bdd13ae2
Signed-off-by: Joey Rizzoli <joey@cyanogenmoditalia.it>
---
 src/com/android/camera/CameraActivity.java | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/com/android/camera/CameraActivity.java b/src/com/android/camera/CameraActivity.java
index 0096b8c39..241fcdc31 100755
--- a/src/com/android/camera/CameraActivity.java
+++ b/src/com/android/camera/CameraActivity.java
@@ -2413,6 +2413,9 @@ public class CameraActivity extends Activity
      * @return whether controls are visible.
      */
     private boolean arePreviewControlsVisible() {
+        if (mCurrentModule == null) {
+            return false;
+        }
         return mCurrentModule.arePreviewControlsVisible();
     }
 
-- 
2.17.1

