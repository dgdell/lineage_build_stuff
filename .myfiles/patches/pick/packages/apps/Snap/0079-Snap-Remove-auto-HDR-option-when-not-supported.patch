From ff2993b0297b9d0bf4092ee5f98c37d0a01e2dd4 Mon Sep 17 00:00:00 2001
From: Michael Bestas <mikeioannina@cyanogenmod.org>
Date: Sat, 20 Feb 2016 23:58:13 +0200
Subject: [PATCH 079/211] Snap: Remove auto HDR option when not supported

Change-Id: Iaff1bee5ad6d48df2efe189955ba91bca8ec5c32
---
 src/com/android/camera/CameraSettings.java | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

diff --git a/src/com/android/camera/CameraSettings.java b/src/com/android/camera/CameraSettings.java
index b5176b2bd..bffe6e8db 100755
--- a/src/com/android/camera/CameraSettings.java
+++ b/src/com/android/camera/CameraSettings.java
@@ -1006,7 +1006,7 @@ public class CameraSettings {
             filterSimilarPictureSize(group, videoSnapSize);
         }
 
-        if (histogram!= null) {
+        if (histogram != null) {
             filterUnsupportedOptions(group,
                     histogram, ParametersWrapper.getSupportedHistogramModes(mParameters));
         }
@@ -1016,14 +1016,19 @@ public class CameraSettings {
                     pictureFormat, getSupportedPictureFormatLists());
         }
 
-        if(advancedFeatures != null) {
+        if (advancedFeatures != null) {
             filterUnsupportedOptions(group,
                     advancedFeatures, getSupportedAdvancedFeatures(mParameters));
         }
-        if (longShot!= null && !isLongshotSupported(mParameters)) {
+
+        if (longShot != null && !isLongshotSupported(mParameters)) {
             removePreference(group, longShot.getKey());
         }
 
+        if (auto_hdr != null && !CameraUtil.isAutoHDRSupported(mParameters)) {
+            removePreference(group, auto_hdr.getKey());
+        }
+
         if (videoRotation != null) {
             filterUnsupportedOptions(group,
                     videoRotation, ParametersWrapper.getSupportedVideoRotationValues(mParameters));
-- 
2.17.1

