From 53b46a6f86623283ea3d2fa3196c484af0fa5e87 Mon Sep 17 00:00:00 2001
From: jinwu <jinwu@codeaurora.org>
Date: Mon, 12 Feb 2018 17:43:36 +0800
Subject: [PATCH 165/173] Fix get aePref is null in PhotoMenu

Change-Id: I225ab63336302ff0b3b863e9cb6d2ba74ed0ac3e
---
 src/com/android/camera/PhotoMenu.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/com/android/camera/PhotoMenu.java b/src/com/android/camera/PhotoMenu.java
index 2da33ba67..4f6c88688 100644
--- a/src/com/android/camera/PhotoMenu.java
+++ b/src/com/android/camera/PhotoMenu.java
@@ -1430,7 +1430,7 @@ public class PhotoMenu extends MenuController
         } else if (notSame(pref,CameraSettings.KEY_FLASH_MODE,"Off")) {
             ListPreference aePref =
                       mPreferenceGroup.findPreference(CameraSettings.KEY_AE_BRACKET_HDR);
-            if (notSame(aePref,CameraSettings.KEY_AE_BRACKET_HDR,"Off")) {
+            if (aePref != null && notSame(aePref,CameraSettings.KEY_AE_BRACKET_HDR,"Off")) {
                RotateTextToast.makeText(mActivity,
                               R.string.flash_aebracket_message,Toast.LENGTH_SHORT).show();
             }
-- 
2.17.1

