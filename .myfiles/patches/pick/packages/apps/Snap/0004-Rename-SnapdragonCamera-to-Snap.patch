From 0b768c93a9295925b621e9d17472c2606387263d Mon Sep 17 00:00:00 2001
From: Michael Bestas <mikeioannina@gmail.com>
Date: Sat, 29 Aug 2015 01:00:36 +0300
Subject: [PATCH 004/173] Rename SnapdragonCamera to Snap

Change-Id: I1474550af7f45e53aa97819b42a91c961eeb6684
---
 Android.mk                                               | 8 +++++---
 jni/Android.mk                                           | 6 +++---
 src/com/android/camera/Mosaic.java                       | 2 +-
 src/com/android/camera/MosaicRenderer.java               | 2 +-
 src/com/android/camera/imageprocessor/PostProcessor.java | 2 +-
 src/com/android/camera/tinyplanet/TinyPlanetNative.java  | 2 +-
 tests/Android.mk                                         | 6 +++---
 7 files changed, 15 insertions(+), 13 deletions(-)

diff --git a/Android.mk b/Android.mk
index 8ec056750..d2ec01c8a 100755
--- a/Android.mk
+++ b/Android.mk
@@ -22,10 +22,12 @@ LOCAL_AAPT_FLAGS := \
         --version-name "$(version_name_package)" \
         --version-code $(version_code_package) \
 
-LOCAL_PACKAGE_NAME := SnapdragonCamera
+LOCAL_PACKAGE_NAME := Snap
 LOCAL_PRIVILEGED_MODULE := true
 LOCAL_PRIVATE_PLATFORM_APIS:=true
 
+LOCAL_AAPT_FLAGS += --rename-manifest-package org.lineageos.snap
+
 #LOCAL_SDK_VERSION := current
 LOCAL_RENDERSCRIPT_TARGET_API := 23
 
@@ -38,9 +40,9 @@ LOCAL_PROGUARD_FLAG_FILES := proguard.flags
 # leave them out of the APK
 
 ifneq (,$(TARGET_BUILD_APPS))
-  LOCAL_JNI_SHARED_LIBRARIES := libjni_snapcammosaic libjni_snapcamtinyplanet libjni_imageutil
+  LOCAL_JNI_SHARED_LIBRARIES := libjni_snapmosaic libjni_snaptinyplanet libjni_snapimageutil
 else
-  LOCAL_REQUIRED_MODULES := libjni_snapcammosaic libjni_snapcamtinyplanet libjni_imageutil
+  LOCAL_REQUIRED_MODULES := libjni_snapmosaic libjni_snaptinyplanet libjni_snapimageutil
 endif
 
 include $(BUILD_PACKAGE)
diff --git a/jni/Android.mk b/jni/Android.mk
index de2abb6b8..81329a0a4 100644
--- a/jni/Android.mk
+++ b/jni/Android.mk
@@ -46,7 +46,7 @@ LOCAL_LDFLAGS := -llog -lGLESv2
 
 LOCAL_MODULE_TAGS := optional
 
-LOCAL_MODULE    := libjni_snapcammosaic
+LOCAL_MODULE    := libjni_snapmosaic
 include $(BUILD_SHARED_LIBRARY)
 
 # TinyPlanet
@@ -55,7 +55,7 @@ include $(CLEAR_VARS)
 LOCAL_CPP_EXTENSION := .cc
 LOCAL_LDFLAGS   := -llog -ljnigraphics
 LOCAL_SDK_VERSION := 9
-LOCAL_MODULE    := libjni_snapcamtinyplanet
+LOCAL_MODULE    := libjni_snaptinyplanet
 LOCAL_SRC_FILES := tinyplanet.cc
 
 LOCAL_CFLAGS    += -ffast-math -O3 -funroll-loops
@@ -67,7 +67,7 @@ include $(BUILD_SHARED_LIBRARY)
 include $(CLEAR_VARS)
 LOCAL_LDFLAGS   := -llog
 LOCAL_SDK_VERSION := 9
-LOCAL_MODULE    := libjni_imageutil
+LOCAL_MODULE    := libjni_snapimageutil
 LOCAL_MODULE_TAGS := optional
 LOCAL_SRC_FILES := image_util_jni.cpp
 LOCAL_CFLAGS    += -ffast-math -O3 -funroll-loops
diff --git a/src/com/android/camera/Mosaic.java b/src/com/android/camera/Mosaic.java
index a9bc32e12..829efa5b2 100644
--- a/src/com/android/camera/Mosaic.java
+++ b/src/com/android/camera/Mosaic.java
@@ -93,7 +93,7 @@ public class Mosaic {
 
 
     static {
-        System.loadLibrary("jni_snapcammosaic");
+        System.loadLibrary("jni_snapmosaic");
     }
 
     /**
diff --git a/src/com/android/camera/MosaicRenderer.java b/src/com/android/camera/MosaicRenderer.java
index 5006b364d..bcbaf7227 100644
--- a/src/com/android/camera/MosaicRenderer.java
+++ b/src/com/android/camera/MosaicRenderer.java
@@ -24,7 +24,7 @@ public class MosaicRenderer
 {
      static
      {
-         System.loadLibrary("jni_snapcammosaic");
+         System.loadLibrary("jni_snapmosaic");
      }
 
      /**
diff --git a/src/com/android/camera/imageprocessor/PostProcessor.java b/src/com/android/camera/imageprocessor/PostProcessor.java
index c227f32b2..90d536b9e 100755
--- a/src/com/android/camera/imageprocessor/PostProcessor.java
+++ b/src/com/android/camera/imageprocessor/PostProcessor.java
@@ -1326,6 +1326,6 @@ public class PostProcessor{
     private native int nativeResizeImage(byte[] oldBuf, byte[] newBuf, int oldWidth, int oldHeight, int oldStride, int newWidth, int newHeight);
     private native int nativeFlipNV21(byte[] buf, int stride, int height, int gap, boolean isVertical);
     static {
-        System.loadLibrary("jni_imageutil");
+        System.loadLibrary("jni_snapimageutil");
     }
 }
diff --git a/src/com/android/camera/tinyplanet/TinyPlanetNative.java b/src/com/android/camera/tinyplanet/TinyPlanetNative.java
index 1d456de9e..8f320a960 100644
--- a/src/com/android/camera/tinyplanet/TinyPlanetNative.java
+++ b/src/com/android/camera/tinyplanet/TinyPlanetNative.java
@@ -23,7 +23,7 @@ import android.graphics.Bitmap;
  */
 public class TinyPlanetNative {
     static {
-        System.loadLibrary("jni_snapcamtinyplanet");
+        System.loadLibrary("jni_snaptinyplanet");
     }
 
     /**
diff --git a/tests/Android.mk b/tests/Android.mk
index 6ba0a5971..920f8f0ff 100644
--- a/tests/Android.mk
+++ b/tests/Android.mk
@@ -11,8 +11,8 @@ LOCAL_STATIC_JAVA_LIBRARIES := littlemock dexmaker
 # Include all test java files.
 LOCAL_SRC_FILES := $(call all-java-files-under, src)
 
-LOCAL_PACKAGE_NAME := Camera2Tests
+LOCAL_PACKAGE_NAME := SnapTests
 
-LOCAL_INSTRUMENTATION_FOR := Camera2
+LOCAL_INSTRUMENTATION_FOR := Snap
 
-#include $(BUILD_PACKAGE)
+include $(BUILD_PACKAGE)
-- 
2.17.1

