From a4b3dfda75381b8c1e87b64098f1ef76ef3a877e Mon Sep 17 00:00:00 2001
From: codeworkx <codeworkx@cyanogenmod.org>
Date: Mon, 9 May 2016 21:28:40 +0200
Subject: [PATCH 088/201] Snap: force enable zsl for lge hdr

LGE HDR needs ZSL enabled

Change-Id: I563b7f7cd49fcf8aad35ca4b93f839dc0a591f01
---
 src/com/android/camera/PhotoModule.java | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/src/com/android/camera/PhotoModule.java b/src/com/android/camera/PhotoModule.java
index 934cdcdcc..a672d379f 100644
--- a/src/com/android/camera/PhotoModule.java
+++ b/src/com/android/camera/PhotoModule.java
@@ -4103,6 +4103,11 @@ public class PhotoModule
                 }
                 if (mLgeHdrMode) {
                     mParameters.set(CameraSettings.KEY_SNAPCAM_HDR_MODE, CameraSettings.LGE_HDR_MODE_ON);
+                    // Force enable ZSL mode for LG HDR
+                    try {
+                        mUI.setPreference(CameraSettings.KEY_ZSL, Parameters.ZSL_ON);
+                    } catch (NullPointerException e) {
+                    }
                 }
             } else {
                 if (mLgeHdrMode) {
-- 
2.17.1

