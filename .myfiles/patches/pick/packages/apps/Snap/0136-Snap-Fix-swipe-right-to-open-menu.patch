From 6d05f41f7291695656f61dd92dab97901288c0a5 Mon Sep 17 00:00:00 2001
From: Arne Coucheron <arco68@gmail.com>
Date: Sun, 6 Aug 2017 08:33:24 +0200
Subject: [PATCH 136/173] Snap: Fix swipe right to open menu

Change-Id: I74b9230e7c63813b3e8b716acf66b10c835f12b5
---
 src/com/android/camera/PreviewGestures.java | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

diff --git a/src/com/android/camera/PreviewGestures.java b/src/com/android/camera/PreviewGestures.java
index bee48ad53..4f01fba1b 100644
--- a/src/com/android/camera/PreviewGestures.java
+++ b/src/com/android/camera/PreviewGestures.java
@@ -88,17 +88,24 @@ public class PreviewGestures
                 return false;
             }
             if (mZoomOnly || mMode == MODE_ZOOM) return false;
-
             int deltaX = (int) (e1.getX() - e2.getX());
             int deltaY = (int) (e1.getY() - e2.getY());
 
             int orientation = 0;
-            if (mCaptureUI != null)
+            if (mPhotoMenu != null)
+                orientation = mPhotoMenu.getOrientation();
+            else if (mVideoMenu != null)
+                orientation = mVideoMenu.getOrientation();
+            else if (mCaptureUI != null)
                 orientation = mCaptureUI.getOrientation();
 
             if (isLeftSwipe(orientation, deltaX, deltaY)) {
                 waitUntilNextDown = true;
-                if (mCaptureUI != null)
+                if (mPhotoMenu != null && !mPhotoMenu.isMenuBeingShown())
+                    mPhotoMenu.openFirstLevel();
+                else if (mVideoMenu != null && !mVideoMenu.isMenuBeingShown())
+                    mVideoMenu.openFirstLevel();
+                else if (mCaptureUI != null)
                     mCaptureUI.openSettingsMenu();
                 return true;
             }
-- 
2.17.1

