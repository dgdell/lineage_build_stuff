From 408e09c62f1026f26dc0182dc086b66cfbde242f Mon Sep 17 00:00:00 2001
From: Paul Duffin <paulduffin@google.com>
Date: Mon, 20 Feb 2017 13:42:18 +0000
Subject: [PATCH 06/68] Stop using junit classes in production

Bug: 35234437
Bug: 30188076
Test: make checkbuild
Change-Id: Ib24448a030f05bb43a62eecec91ba08249672426
---
 src/com/android/gallery3d/glrenderer/BitmapTexture.java   | 4 ++--
 src/com/android/gallery3d/glrenderer/GLES11Canvas.java    | 8 +++-----
 src/com/android/gallery3d/glrenderer/GLPaint.java         | 4 ++--
 src/com/android/gallery3d/glrenderer/ResourceTexture.java | 4 ++--
 src/com/android/gallery3d/glrenderer/UploadedTexture.java | 6 +++---
 5 files changed, 12 insertions(+), 14 deletions(-)

diff --git a/src/com/android/gallery3d/glrenderer/BitmapTexture.java b/src/com/android/gallery3d/glrenderer/BitmapTexture.java
index 100b0b3b9..f8b01cb42 100644
--- a/src/com/android/gallery3d/glrenderer/BitmapTexture.java
+++ b/src/com/android/gallery3d/glrenderer/BitmapTexture.java
@@ -18,7 +18,7 @@ package com.android.gallery3d.glrenderer;
 
 import android.graphics.Bitmap;
 
-import junit.framework.Assert;
+import com.android.gallery3d.common.Utils;
 
 // BitmapTexture is a texture whose content is specified by a fixed Bitmap.
 //
@@ -34,7 +34,7 @@ public class BitmapTexture extends UploadedTexture {
 
     public BitmapTexture(Bitmap bitmap, boolean hasBorder) {
         super(hasBorder);
-        Assert.assertTrue(bitmap != null && !bitmap.isRecycled());
+        Utils.assertTrue(bitmap != null && !bitmap.isRecycled());
         mContentBitmap = bitmap;
     }
 
diff --git a/src/com/android/gallery3d/glrenderer/GLES11Canvas.java b/src/com/android/gallery3d/glrenderer/GLES11Canvas.java
index 38ee50a5e..f707c5419 100755
--- a/src/com/android/gallery3d/glrenderer/GLES11Canvas.java
+++ b/src/com/android/gallery3d/glrenderer/GLES11Canvas.java
@@ -28,8 +28,6 @@ import com.android.gallery3d.common.ApiHelper;
 import com.android.gallery3d.common.Utils;
 import com.android.gallery3d.util.IntArray;
 
-import junit.framework.Assert;
-
 import java.nio.Buffer;
 import java.nio.ByteBuffer;
 import java.nio.ByteOrder;
@@ -127,7 +125,7 @@ public class GLES11Canvas implements GLCanvas {
 
     @Override
     public void setSize(int width, int height) {
-        Assert.assertTrue(width >= 0 && height >= 0);
+        Utils.assertTrue(width >= 0 && height >= 0);
 
         if (mTargetTexture == null) {
             mScreenWidth = width;
@@ -155,7 +153,7 @@ public class GLES11Canvas implements GLCanvas {
 
     @Override
     public void setAlpha(float alpha) {
-        Assert.assertTrue(alpha >= 0 && alpha <= 1);
+        Utils.assertTrue(alpha >= 0 && alpha <= 1);
         mAlpha = alpha;
     }
 
@@ -166,7 +164,7 @@ public class GLES11Canvas implements GLCanvas {
 
     @Override
     public void multiplyAlpha(float alpha) {
-        Assert.assertTrue(alpha >= 0 && alpha <= 1);
+        Utils.assertTrue(alpha >= 0 && alpha <= 1);
         mAlpha *= alpha;
     }
 
diff --git a/src/com/android/gallery3d/glrenderer/GLPaint.java b/src/com/android/gallery3d/glrenderer/GLPaint.java
index 16b220690..b26e9ab29 100644
--- a/src/com/android/gallery3d/glrenderer/GLPaint.java
+++ b/src/com/android/gallery3d/glrenderer/GLPaint.java
@@ -16,7 +16,7 @@
 
 package com.android.gallery3d.glrenderer;
 
-import junit.framework.Assert;
+import com.android.gallery3d.common.Utils;
 
 public class GLPaint {
     private float mLineWidth = 1f;
@@ -31,7 +31,7 @@ public class GLPaint {
     }
 
     public void setLineWidth(float width) {
-        Assert.assertTrue(width >= 0);
+        Utils.assertTrue(width >= 0);
         mLineWidth = width;
     }
 
diff --git a/src/com/android/gallery3d/glrenderer/ResourceTexture.java b/src/com/android/gallery3d/glrenderer/ResourceTexture.java
index eb8e8a517..a091fb204 100644
--- a/src/com/android/gallery3d/glrenderer/ResourceTexture.java
+++ b/src/com/android/gallery3d/glrenderer/ResourceTexture.java
@@ -20,7 +20,7 @@ import android.content.Context;
 import android.graphics.Bitmap;
 import android.graphics.BitmapFactory;
 
-import junit.framework.Assert;
+import com.android.gallery3d.common.Utils;
 
 // ResourceTexture is a texture whose Bitmap is decoded from a resource.
 // By default ResourceTexture is not opaque.
@@ -30,7 +30,7 @@ public class ResourceTexture extends UploadedTexture {
     protected final int mResId;
 
     public ResourceTexture(Context context, int resId) {
-        Assert.assertNotNull(context);
+        Utils.checkNotNull(context);
         mContext = context;
         mResId = resId;
         setOpaque(false);
diff --git a/src/com/android/gallery3d/glrenderer/UploadedTexture.java b/src/com/android/gallery3d/glrenderer/UploadedTexture.java
index fdbc5634b..fced55832 100644
--- a/src/com/android/gallery3d/glrenderer/UploadedTexture.java
+++ b/src/com/android/gallery3d/glrenderer/UploadedTexture.java
@@ -20,7 +20,7 @@ import android.graphics.Bitmap;
 import android.graphics.Bitmap.Config;
 import android.opengl.GLUtils;
 
-import junit.framework.Assert;
+import com.android.gallery3d.common.Utils;
 
 import java.util.HashMap;
 
@@ -145,7 +145,7 @@ public abstract class UploadedTexture extends BasicTexture {
     }
 
     private void freeBitmap() {
-        Assert.assertTrue(mBitmap != null);
+        Utils.assertTrue(mBitmap != null);
         onFreeBitmap(mBitmap);
         mBitmap = null;
     }
@@ -229,7 +229,7 @@ public abstract class UploadedTexture extends BasicTexture {
                 int texWidth = getTextureWidth();
                 int texHeight = getTextureHeight();
 
-                Assert.assertTrue(bWidth <= texWidth && bHeight <= texHeight);
+                Utils.assertTrue(bWidth <= texWidth && bHeight <= texHeight);
 
                 // Null pointer check here is to avoid monkey test failure.
                 if (canvas.getGLId() != null) {
-- 
2.17.1

