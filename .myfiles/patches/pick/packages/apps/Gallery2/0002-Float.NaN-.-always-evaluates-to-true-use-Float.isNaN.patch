From 02de8aafc2bcdd82d95193c801fdd5792c2da3c0 Mon Sep 17 00:00:00 2001
From: Ian Rogers <irogers@google.com>
Date: Thu, 17 Mar 2016 22:39:05 -0700
Subject: [PATCH 02/67] Float.NaN != ... always evaluates to true, use
 Float.isNaN.

Caught by error prone.
http://errorprone.info/bugpattern/EqualsNaN

Bug: 27723540
Change-Id: Ia83b2937ab9e92ebd1c52b7199903a599fbe5ce5
---
 .../gallery3d/filtershow/colorpicker/ColorBrightnessView.java  | 2 +-
 .../android/gallery3d/filtershow/colorpicker/ColorHueView.java | 2 +-
 .../gallery3d/filtershow/colorpicker/ColorOpacityView.java     | 2 +-
 .../gallery3d/filtershow/colorpicker/ColorRectView.java        | 3 +--
 .../gallery3d/filtershow/colorpicker/ColorSVRectView.java      | 3 +--
 .../gallery3d/filtershow/colorpicker/ColorSaturationView.java  | 2 +-
 .../gallery3d/filtershow/colorpicker/ColorValueView.java       | 2 +-
 7 files changed, 7 insertions(+), 9 deletions(-)

diff --git a/src/com/android/gallery3d/filtershow/colorpicker/ColorBrightnessView.java b/src/com/android/gallery3d/filtershow/colorpicker/ColorBrightnessView.java
index 3f528a912..b270fa58d 100644
--- a/src/com/android/gallery3d/filtershow/colorpicker/ColorBrightnessView.java
+++ b/src/com/android/gallery3d/filtershow/colorpicker/ColorBrightnessView.java
@@ -171,7 +171,7 @@ public class ColorBrightnessView extends View implements ColorListener {
         canvas.drawRect(mBorder, mBorder, mWidth - mBorder, mHeight - mBorder, mBarPaint1);
         canvas.drawLine(mDotX, mDotY, mWidth - mBorder, mDotY, mLinePaint1);
         canvas.drawLine(mBorder, mDotY, mDotX, mDotY, mLinePaint2);
-        if (mDotX != Float.NaN) {
+        if (!Float.isNaN(mDotX)) {
             canvas.drawCircle(mDotX, mDotY, mDotRadius, mDotPaint);
         }
     }
diff --git a/src/com/android/gallery3d/filtershow/colorpicker/ColorHueView.java b/src/com/android/gallery3d/filtershow/colorpicker/ColorHueView.java
index c8c03bec7..e3cafec08 100644
--- a/src/com/android/gallery3d/filtershow/colorpicker/ColorHueView.java
+++ b/src/com/android/gallery3d/filtershow/colorpicker/ColorHueView.java
@@ -179,7 +179,7 @@ public class ColorHueView extends View implements ColorListener {
 
         canvas.drawLine(mDotX, mDotY, mWidth - mBorder, mDotY, mLinePaint1);
         canvas.drawLine(mBorder, mDotY, mDotX, mDotY, mLinePaint2);
-        if (mDotX != Float.NaN) {
+        if (!Float.isNaN(mDotX)) {
             canvas.drawCircle(mDotX, mDotY, mDotRadius, mDotPaint);
         }
     }
diff --git a/src/com/android/gallery3d/filtershow/colorpicker/ColorOpacityView.java b/src/com/android/gallery3d/filtershow/colorpicker/ColorOpacityView.java
index df20d01ef..3d3c6a2db 100644
--- a/src/com/android/gallery3d/filtershow/colorpicker/ColorOpacityView.java
+++ b/src/com/android/gallery3d/filtershow/colorpicker/ColorOpacityView.java
@@ -171,7 +171,7 @@ public class ColorOpacityView extends View implements ColorListener {
         canvas.drawRect(mBorder, 0, mWidth - mBorder, mHeight, mBarPaint1);
         canvas.drawLine(mDotX, mDotY, mWidth - mBorder, mDotY, mLinePaint1);
         canvas.drawLine(mBorder, mDotY, mDotX, mDotY, mLinePaint2);
-        if (mDotX != Float.NaN) {
+        if (!Float.isNaN(mDotX)) {
             canvas.drawCircle(mDotX, mDotY, mDotRadius, mDotPaint);
         }
     }
diff --git a/src/com/android/gallery3d/filtershow/colorpicker/ColorRectView.java b/src/com/android/gallery3d/filtershow/colorpicker/ColorRectView.java
index a99295939..48ffa81b9 100644
--- a/src/com/android/gallery3d/filtershow/colorpicker/ColorRectView.java
+++ b/src/com/android/gallery3d/filtershow/colorpicker/ColorRectView.java
@@ -170,8 +170,7 @@ public class ColorRectView extends View implements ColorListener {
         canvas.drawRect(rect, mWheelPaint3);
         canvas.drawRect(rect, mWheelPaint2);
 
-        if (mDotX != Float.NaN) {
-
+        if (!Float.isNaN(mDotX)) {
             canvas.drawCircle(mDotX, mDotY, mDotRadus, mDotPaint);
         }
     }
diff --git a/src/com/android/gallery3d/filtershow/colorpicker/ColorSVRectView.java b/src/com/android/gallery3d/filtershow/colorpicker/ColorSVRectView.java
index 5382b4999..8a18f8795 100644
--- a/src/com/android/gallery3d/filtershow/colorpicker/ColorSVRectView.java
+++ b/src/com/android/gallery3d/filtershow/colorpicker/ColorSVRectView.java
@@ -126,8 +126,7 @@ public class ColorSVRectView extends View implements ColorListener {
         mRect.right -= mBorder;
         canvas.drawBitmap(mBitmap, null, mRect, mPaint1);
 
-        if (mDotX != Float.NaN) {
-
+        if (!Float.isNaN(mDotX)) {
             canvas.drawCircle(mDotX, mDotY, mDotRadus, mDotPaint);
         }
     }
diff --git a/src/com/android/gallery3d/filtershow/colorpicker/ColorSaturationView.java b/src/com/android/gallery3d/filtershow/colorpicker/ColorSaturationView.java
index a945be81b..e9927d548 100644
--- a/src/com/android/gallery3d/filtershow/colorpicker/ColorSaturationView.java
+++ b/src/com/android/gallery3d/filtershow/colorpicker/ColorSaturationView.java
@@ -170,7 +170,7 @@ public class ColorSaturationView extends View implements ColorListener {
         canvas.drawRect(mBorder, mBorder, mWidth - mBorder, mHeight - mBorder, mBarPaint1);
         canvas.drawLine(mDotX, mDotY, mWidth - mBorder, mDotY, mLinePaint1);
         canvas.drawLine(mBorder, mDotY, mDotX, mDotY, mLinePaint2);
-        if (mDotX != Float.NaN) {
+        if (!Float.isNaN(mDotX)) {
             canvas.drawCircle(mDotX, mDotY, mDotRadius, mDotPaint);
         }
     }
diff --git a/src/com/android/gallery3d/filtershow/colorpicker/ColorValueView.java b/src/com/android/gallery3d/filtershow/colorpicker/ColorValueView.java
index c7befc79f..06120483e 100644
--- a/src/com/android/gallery3d/filtershow/colorpicker/ColorValueView.java
+++ b/src/com/android/gallery3d/filtershow/colorpicker/ColorValueView.java
@@ -148,7 +148,7 @@ public class ColorValueView extends View implements ColorListener {
         canvas.drawRect(mBorder, mBorder, mWidth - mBorder, mHeight - mBorder, mBarPaint1);
         canvas.drawLine(mDotX, mDotY, mDotX, mHeight - mBorder, mLinePaint2);
         canvas.drawLine(mDotX, mBorder, mDotX, mDotY, mLinePaint1);
-        if (mDotX != Float.NaN) {
+        if (!Float.isNaN(mDotX)) {
             canvas.drawCircle(mDotX, mDotY, dotRadus, mDotPaint);
         }
     }
-- 
2.17.1

