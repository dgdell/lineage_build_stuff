From b0ca8d5c49e55f3646b987a69eaf7e309b992638 Mon Sep 17 00:00:00 2001
From: Joey Rizzoli <joey@cyanogenmoditalia.it>
Date: Fri, 3 Jun 2016 21:55:54 +0200
Subject: [PATCH 44/67] Gallery2: Update menu

Change-Id: I84a09530a44b2a36d6330a2f2a4bb4baf084191e
Signed-off-by: Joey Rizzoli <joey@cyanogenmoditalia.it>
---
 res/drawable/ic_selection.xml                 | 19 +++++++++++++
 res/menu/album.xml                            | 24 +++++++---------
 res/menu/albumset.xml                         | 28 +++++++++----------
 src/com/android/gallery3d/app/AlbumPage.java  |  1 -
 .../android/gallery3d/app/AlbumSetPage.java   |  4 ---
 .../android/gallery3d/app/TimeLinePage.java   |  1 -
 6 files changed, 42 insertions(+), 35 deletions(-)
 create mode 100644 res/drawable/ic_selection.xml

diff --git a/res/drawable/ic_selection.xml b/res/drawable/ic_selection.xml
new file mode 100644
index 000000000..1493b49b1
--- /dev/null
+++ b/res/drawable/ic_selection.xml
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="utf-8"?>
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+
+    <path
+        android:fillColor="@color/white"
+        android:pathData="M3,5 L5,5 L5,3 C3.9,3,3,3.9,3,5 Z M3,13 L5,13 L5,11 L3,11 L3,13 Z M7,21 L9,21
+L9,19 L7,19 L7,21 Z M3,9 L5,9 L5,7 L3,7 L3,9 Z M13,3 L11,3 L11,5 L13,5 L13,3 Z
+M19,3 L19,5 L21,5 C21,3.9,20.1,3,19,3 Z M5,21 L5,19 L3,19 C3,20.1,3.9,21,5,21 Z
+M3,17 L5,17 L5,15 L3,15 L3,17 Z M9,3 L7,3 L7,5 L9,5 L9,3 Z M11,21 L13,21 L13,19
+L11,19 L11,21 Z M19,13 L21,13 L21,11 L19,11 L19,13 Z M19,21
+C20.1,21,21,20.1,21,19 L19,19 L19,21 Z M19,9 L21,9 L21,7 L19,7 L19,9 Z M19,17
+L21,17 L21,15 L19,15 L19,17 Z M15,21 L17,21 L17,19 L15,19 L15,21 Z M15,5 L17,5
+L17,3 L15,3 L15,5 Z M7,17 L17,17 L17,7 L7,7 L7,17 Z M9,9 L15,9 L15,15 L9,15 L9,9
+Z" />
+</vector>
diff --git a/res/menu/album.xml b/res/menu/album.xml
index 8151d1fb4..4b76b6981 100644
--- a/res/menu/album.xml
+++ b/res/menu/album.xml
@@ -15,24 +15,20 @@
 -->
 <menu xmlns:android="http://schemas.android.com/apk/res/android">
     <item android:id="@+id/action_camera"
-            android:icon="@drawable/camera"
-            android:title="@string/switch_to_camera"
-            android:showAsAction="ifRoom" />
+        android:icon="@drawable/camera"
+        android:title="@string/switch_to_camera"
+        android:showAsAction="ifRoom" />
     <item android:id="@+id/action_slideshow"
-            android:icon="@drawable/slideshow"
-            android:title="@string/slideshow"
-            android:showAsAction="never" />
+        android:icon="@drawable/slideshow"
+        android:title="@string/slideshow"
+        android:showAsAction="ifRoom" />
     <item android:id="@+id/action_select"
-            android:title="@string/select_item"
-            android:showAsAction="never" />
+        android:icon="@drawable/ic_selection"
+        android:title="@string/select_item"
+        android:showAsAction="ifRoom" />
 <!--     <item android:id="@+id/action_group_by" -->
 <!--             android:title="@string/group_by" -->
 <!--             android:showAsAction="never"/> -->
      <item android:id="@+id/action_view_type"
-           android:showAsAction="never"
-          />
-     <item android:id="@+id/action_sync_picasa_albums"
-            android:title="@string/sync_picasa_albums"
-            android:showAsAction="never"
-            android:visible="false" />
+       android:showAsAction="never" />
 </menu>
diff --git a/res/menu/albumset.xml b/res/menu/albumset.xml
index 8fb5ef1af..603fb9b7e 100644
--- a/res/menu/albumset.xml
+++ b/res/menu/albumset.xml
@@ -18,27 +18,25 @@
 -->
 <menu xmlns:android="http://schemas.android.com/apk/res/android">
     <item android:id="@+id/action_camera"
-            android:icon="@drawable/camera"
-            android:title="@string/switch_to_camera"
-            android:showAsAction="ifRoom" />
+        android:icon="@drawable/camera"
+        android:title="@string/switch_to_camera"
+        android:showAsAction="ifRoom" />
     <item android:id="@+id/action_select"
-            android:title="@string/select_album"
-            android:showAsAction="never" />
+        android:icon="@drawable/ic_selection"
+        android:title="@string/select_album"
+        android:showAsAction="never" />
     <item android:id="@+id/action_manage_offline"
             android:title="@string/make_available_offline"
             android:visible="false"
             android:showAsAction="never" />
-    <item android:id="@+id/action_sync_picasa_albums"
-            android:title="@string/sync_picasa_albums"
-            android:showAsAction="never" />
     <!-- <item android:id="@+id/action_settings"
-            android:title="@string/settings"
-            android:showAsAction="never" /> -->
+        android:title="@string/settings"
+        android:showAsAction="never" /> -->
     <item android:id="@+id/action_general_help"
-            android:title="@string/help"
-            android:visible="false"
-            android:showAsAction="never" />
+        android:title="@string/help"
+        android:visible="false"
+        android:showAsAction="never" />
     <item android:id="@+id/action_more_image"
-            android:title="@string/more_image"
-            android:showAsAction="never" />
+        android:title="@string/more_image"
+        android:showAsAction="never" />
 </menu>
diff --git a/src/com/android/gallery3d/app/AlbumPage.java b/src/com/android/gallery3d/app/AlbumPage.java
index a90f70fe2..bdd051fe7 100644
--- a/src/com/android/gallery3d/app/AlbumPage.java
+++ b/src/com/android/gallery3d/app/AlbumPage.java
@@ -655,7 +655,6 @@ public class AlbumPage extends ActivityState implements GalleryActionBar.Cluster
             menu.findItem(R.id.action_camera).setVisible(
                    GalleryUtils.isAnyCameraAvailable(mActivity));
             menu.findItem(R.id.action_slideshow).setVisible(!mIsVideoScreen);
-            menu.findItem(R.id.action_sync_picasa_albums).setVisible(mIsVideoScreen);
             MenuItem item = menu.findItem(R.id.action_view_type);
             updateMenuTitle(item);
             updateMenuTitle(menu.findItem(R.id.action_select));
diff --git a/src/com/android/gallery3d/app/AlbumSetPage.java b/src/com/android/gallery3d/app/AlbumSetPage.java
index c17143631..185b17288 100755
--- a/src/com/android/gallery3d/app/AlbumSetPage.java
+++ b/src/com/android/gallery3d/app/AlbumSetPage.java
@@ -656,10 +656,6 @@ public class AlbumSetPage extends ActivityState implements
                 mActivity.getStateManager().startState(ManageCachePage.class, data);
                 return true;
             }
-            case R.id.action_sync_picasa_albums: {
-                PicasaSource.requestSync(activity);
-                return true;
-            }
             /*case R.id.action_settings: {
                 activity.startActivity(new Intent(activity, GallerySettings.class));
                 return true;
diff --git a/src/com/android/gallery3d/app/TimeLinePage.java b/src/com/android/gallery3d/app/TimeLinePage.java
index c3c08650b..d48bf3928 100755
--- a/src/com/android/gallery3d/app/TimeLinePage.java
+++ b/src/com/android/gallery3d/app/TimeLinePage.java
@@ -591,7 +591,6 @@ public class TimeLinePage extends ActivityState implements
             FilterUtils.setupMenuItems(actionBar, mMediaSetPath, true);
             //menu.findItem(R.id.action_group_by).setVisible(mShowClusterMenu);
             menu.findItem(R.id.action_camera).setVisible(GalleryUtils.isAnyCameraAvailable(mActivity));
-            menu.findItem(R.id.action_sync_picasa_albums).setVisible(true);
             menu.findItem(R.id.action_view_type).setVisible(false);
         }
 
-- 
2.17.1

