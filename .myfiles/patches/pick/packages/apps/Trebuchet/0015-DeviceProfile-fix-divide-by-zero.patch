From 72b3a8ac6d7c821b69cf184d7ab615441464eae1 Mon Sep 17 00:00:00 2001
From: Alexander Martinz <amartinz@shiftphones.com>
Date: Mon, 9 Apr 2018 20:02:35 +0200
Subject: [PATCH 15/32] DeviceProfile: fix divide by zero

Change-Id: I8deeeb053a43bac0941950a0c25770b4cc565405
Signed-off-by: Alexander Martinz <amartinz@shiftphones.com>
---
 src/com/android/launcher3/DeviceProfile.java | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/com/android/launcher3/DeviceProfile.java b/src/com/android/launcher3/DeviceProfile.java
index 820c125e1..c17628767 100644
--- a/src/com/android/launcher3/DeviceProfile.java
+++ b/src/com/android/launcher3/DeviceProfile.java
@@ -519,9 +519,15 @@ public class DeviceProfile {
     }
 
     public static int calculateCellWidth(int width, int countX) {
+        if (countX == 0) {
+            countX = 4;
+        }
         return width / countX;
     }
     public static int calculateCellHeight(int height, int countY) {
+        if (countY == 0) {
+            countY = 5;
+        }
         return height / countY;
     }
 
-- 
2.17.1

