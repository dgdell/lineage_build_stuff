From 486b28c3ecaf6dc52345adefb78df5e3046f4457 Mon Sep 17 00:00:00 2001
From: Edward Cross <edward.k.cross@gmail.com>
Date: Tue, 31 Jul 2018 15:17:57 +0200
Subject: [PATCH 04/31] Launcher3: Google Feed integration

If Google Search is installed, the Google Feed can be found at
the -1 screen (which is the very left).
This feature is enabled by default.

Change-Id: I495196818699fd378cd60e6dd61b07a0ab951762
---
 Android.mk                                    |  24 +++++-
 build.gradle                                  |   2 +
 libs/libGoogleFeed.jar                        | Bin 0 -> 24271 bytes
 res/values-ldrtl/lineage_config.xml           |  19 +++++
 res/values/lineage_config.xml                 |  19 +++++
 res/values/lineage_strings.xml                |  26 ++++++
 res/xml/launcher_preferences.xml              |   6 ++
 .../android/launcher3/SettingsActivity.java   |  11 +++
 .../lineage/LineageLauncherCallbacks.java     |  55 ++++++++++--
 .../launcher3/lineage/LineageUtils.java       |  17 ++++
 .../lineage/OverlayCallbackImpl.java          |  80 ++++++++++++++++++
 11 files changed, 249 insertions(+), 10 deletions(-)
 create mode 100644 libs/libGoogleFeed.jar
 create mode 100644 res/values-ldrtl/lineage_config.xml
 create mode 100644 res/values/lineage_config.xml
 create mode 100644 res/values/lineage_strings.xml
 create mode 100644 src/com/android/launcher3/lineage/LineageUtils.java
 create mode 100644 src/com/android/launcher3/lineage/OverlayCallbackImpl.java

diff --git a/Android.mk b/Android.mk
index 2ec8b0a19..5a9489451 100644
--- a/Android.mk
+++ b/Android.mk
@@ -28,6 +28,18 @@ LOCAL_UNINSTALLABLE_MODULE := true
 LOCAL_SDK_VERSION := current
 include $(BUILD_PREBUILT)
 
+#
+# Prebuilt Google Feed library
+#
+include $(CLEAR_VARS)
+LOCAL_MODULE := libGoogleFeed
+LOCAL_MODULE_TAGS := optional
+LOCAL_MODULE_CLASS := JAVA_LIBRARIES
+LOCAL_SRC_FILES := libs/libGoogleFeed.jar
+LOCAL_UNINSTALLABLE_MODULE := true
+LOCAL_SDK_VERSION := 27
+include $(BUILD_PREBUILT)
+
 #
 # Build rule for Launcher3 dependencies lib.
 #
@@ -68,7 +80,9 @@ include $(CLEAR_VARS)
 LOCAL_USE_AAPT2 := true
 LOCAL_MODULE_TAGS := optional
 
+LOCAL_STATIC_JAVA_LIBRARIES := libGoogleFeed
 LOCAL_STATIC_ANDROID_LIBRARIES := Launcher3CommonDepsLib
+
 LOCAL_SRC_FILES := \
     $(call all-java-files-under, src) \
     $(call all-java-files-under, src_ui_overrides) \
@@ -94,6 +108,8 @@ include $(BUILD_PACKAGE)
 include $(CLEAR_VARS)
 LOCAL_USE_AAPT2 := true
 LOCAL_MODULE_TAGS := optional
+
+LOCAL_STATIC_JAVA_LIBRARIES := libGoogleFeed
 LOCAL_STATIC_ANDROID_LIBRARIES := Launcher3CommonDepsLib
 
 LOCAL_SRC_FILES := \
@@ -127,7 +143,9 @@ LOCAL_USE_AAPT2 := true
 LOCAL_AAPT2_ONLY := true
 LOCAL_MODULE_TAGS := optional
 
-LOCAL_STATIC_JAVA_LIBRARIES := libSharedSystemUI
+LOCAL_STATIC_JAVA_LIBRARIES := \
+    libSharedSystemUI \
+    libGoogleFeed
 LOCAL_STATIC_ANDROID_LIBRARIES := Launcher3CommonDepsLib
 
 LOCAL_SRC_FILES := \
@@ -181,7 +199,9 @@ include $(CLEAR_VARS)
 LOCAL_USE_AAPT2 := true
 LOCAL_MODULE_TAGS := optional
 
-LOCAL_STATIC_JAVA_LIBRARIES := libSharedSystemUI
+LOCAL_STATIC_JAVA_LIBRARIES := \
+    libSharedSystemUI \
+    libGoogleFeed
 LOCAL_STATIC_ANDROID_LIBRARIES := Launcher3CommonDepsLib
 
 LOCAL_SRC_FILES := \
diff --git a/build.gradle b/build.gradle
index 8fcd4b466..d974c551d 100644
--- a/build.gradle
+++ b/build.gradle
@@ -118,6 +118,8 @@ repositories {
 }
 
 dependencies {
+    implementation fileTree(dir: 'libs', include: ['libGoogleFeed.jar'])
+
     implementation "com.android.support:support-v4:${SUPPORT_LIBS_VERSION}"
     implementation "com.android.support:support-dynamic-animation:${SUPPORT_LIBS_VERSION}"
     implementation "com.android.support:recyclerview-v7:${SUPPORT_LIBS_VERSION}"
diff --git a/libs/libGoogleFeed.jar b/libs/libGoogleFeed.jar
new file mode 100644
index 0000000000000000000000000000000000000000..5cda956acb0aec37b974261b63cfb4ce311c2a1d
GIT binary patch
literal 24271
zcmb^ZQ;?+H7Bvc&ZQHhO+qP}nm1WyDyKHvZw!7>uqpMDzf4^}e-hK0**x$KW@kHj;
zlXI>y=2~-%nM$&tU}!)<P*6ZXK*T^bHl5IAz(7FMU_d~ef4?zxv}d$*bhNZHXEb&&
zb8)mbW3;n2aWQtWHg{#TbTwwQGj?|{wK8`xwX-&NaAP!PFtsywb!}DMve^<s;-}?S
zxvK0Nv0q}dc1<Wrt+ppn1sR-2VS-*J59_J>C9bV&Feo#L`2-0A-OKj~`mS8otT6Cc
zgb4g0?CN20Iz1c9)&KqZ3BC`+%V5x@<@)2sWNAbLn}YybwJvC|rZ6lVT&vRCs_4cT
z9o{sZuV;W25m(Esam)7<ZpVXDMp8Jp+?fQV{+%c74^dLliB2?KBr5?~kJ3WgyfR7n
zWatsoCA2?1>B5w^fmt3cGJLoI+i{;<!*&ad{f;l6v<LzGn0@+Y21M?Q%EV`+@v-3c
z8fd@_b#KZu`1O+*brCQ097__j-gLDnAf?Jasc1D#CKsbb>1>Wq&MIDpk=~6=K<Y^C
z+dnsWVSvu;m8%Q`Yu2)v63~uFFISRg{#>ObQ=M7l5Wsj`$;AZ=NivC@osuZst(#c~
z8_r4AfKp|Pps~YZ0s<wiSSl6Mhmq~}5vI`nYb%UB@EfE4`vN2W8~(Tf%|wgh5-Hmi
zbgObNWfyruEawY;`!<u(>58yYEAy`Us0l-F2!h@8fcj11H=z44_1@3#`;}4YUzra@
zA-sA70Rno3_}?;b@=xZ~brn&C(Z0&*>F8n0^u!WPgc-{8(qjriik0RQ)tFL)4(z+}
zr-nSzuN;C2%???i_m6@1{wQB$wd%pOX9{KKH@num_OZI2oHpE20*y8*h40c#Q(>vz
zsSS37K!eYr@o6$u8OaQ`glNJTL?Dk2GgU8;NZW!Dw}>l+dxfFRAXj=R#X%8Noe6hG
zE4#@oGEM|VV`8b@qwLTuo+&XWFaV629OH^uvlhg6f6Vk)tPdRxEiHODk6}EvmSVo8
zvSoM7oXOdDZyx4S|K7gG_hsO<=xnyd;j@Pwgr92(cU;fyVfhI$Twyla7^5@T28*$#
z5J$&)dKN#SU$=jeU6v8{V*-De#XNc=S9dn~$*tj6IcMh&`GXr8B~9-#T@3}!wm%@{
zDOvRXni5Fh^q1V_RB}61+B<Gn{QQ>4LoskgzW}i+-1aa_ImCSR(lhfOaTZd5av^Kp
zIqYTekTq%Du1lAUqT}c<<h_@2EP-uII=C3mRUUxVD4JiD+O)H!`p_uS#3uRJzN1`c
zC9$vRM_!+*#_Cr$HiX3fPe;Cyuy=MUX18shSnLbN0wcgG>=3#^3x8ju<6T}qfqTVd
zvZapBD8oF5E1csk6g!~x!<v40{2QXYX{fwg1tsJLShU?cyMj&zjslM`KTKE}h0y)N
zCLf8XpJ}R-UL?EdAevWff9r5BUFx=+^`Pe*=k#}W^0;!~BoBx`;xL=KI+GfakRVRB
zkiO8YeD<Pn^2<K-f`E>7DI!Wj`Fny=#(T)<@&Ix%B$){oiOywBl>tlY9`p2p^G0X*
z7jP9nX9F1m&MEUWi82Q-aXZZ6t!hN-DUv(rnAIzw9O%~}QfrmzPlWUfZGWRX+KV+t
zDZvtB7B}M^ly~A#F#lW7KwIXYMX!FjR(QPvh_Bt!3#1^E_$B_WN$R<~nI1G{8NW)x
z7PyL9f^g_mt%uDvBKI9xOkmC<sV-q`iqUAryP(ub3o4Q(nTjY_$-aU94J5=A=)n2E
z)T!~8M)m#&3KceSRW*0<ur@VUbu)HzcNMiVH?=i)A^Yc(v7McXv8nBU&{n6&tS~Hu
zlnXx^FE7LwluW{=HwddlhJ=oit}<W8STjXFmhWbH>Ws!0BuQ*17A}@Stx=;rGd+8{
z_5m5ho2yw#%Z82-X7c9KOrf{q*_q~cr?Hv;LEO-0@{;V}>1Q-_D6PIo<20KLEsq;v
zc0344toI4S6&8P;e`j@+<ILPe1aMC&-pkzY{y8Db!O#rNSGgn8G#K-IQeZdqE~T&*
zXjtnXfUVZcGjy!x%%)<Q-<`MKM>g#g0<DHLs}#Ehcg%$=$2rtftNf?2V(;IPB=0F!
zH3J0#nt=oYlK=lMlK&4;sV*rYeIb;BiF8C4MylMcV%Yuc*67p{t^rSD;d%8)&bJ07
z9wc*rr5CtFbdm^8!uEf`eEZcw38o9_H6J`NZQ(h$JC|{lU})G6+!0@<vF$iwiq1+y
zP(5DbRcfL!f{G4~uBgtZdapMEi_W+;AB_w@gSAq)-vj`gm2r_4g=LU(Q6^0(g@8Y0
zYmqHB)e?mSu(=)f#OI7lC8wE*B;)dwmpS0PxJ?`DNg`Y0KS-TxC2o_{pHm(13{R+a
zjqfzwZkP|l#ulH}!3vJeOTMFj#p5D)(vGUEVD`veoT$B{4=Y_HBpi1ZIf;@o?%^6M
z5GY;?GKe*73;0XF-rC6~w$s+mKX2<1{{a{it!Swo6kVrR(ReQw@D%E0u}PuRJI+*k
z8H^y0=Es@l2)x)MW2Ff_tGL!x-_ehyPgqV9%^JdZYr+0jH?D*E7NK(<WA1G2>Obqi
z&T92C(=Kr$jAz((mKRNzUQ-<#HJNemJdZr{8O2qUDRS&i(|d0OmU+ZCQh?UE*{a7^
zKv_hnqM_ZvO6}3afZMzRkgt;afk5;MY5jgcKm-v!JQppRoL6tr|DmMI8s1N)YlM~8
z0B*d9CLQyReq4G=F<dQG@2t!6n{-^ID_Qe_p4n110ik+IC-3yqIc&E7bY!4%Hdxe#
zh>wsD7qAPFDM-AFEFd~3aK#G8afUIHjTtStWMsv8z7z#H?v%xpv@;^c@f<zU&c3As
z5B5@5eQwXhCqVMZ)Wbu7$0GM>YxG4ZK%w8L{@{P;`5jEADaNJfwVo4*JK<|N?9PS>
zC5V1AUX9CG+U;<^tydJdYgpaOHQ9wZAB7Ql2hKi4D}r4_J}*2Kesvs}*8z4NlY>P%
zW1q}oRSY@LqKh>h>o2@kG0r2|lCm1}3%$vTv@d}K>xZF~Gs<Hh@9tJhRQ?*TmEmlx
z{lT)x32WDA169tML0?(V*ggWv)YjRS$Sp$4xP=iarNI=NymGdyQWT9C>RHhUyI3yW
z2LySq=%p<SP4=HyFdZdl@FivU0U+?bpA+`EZ;|o%XH&g)uoeAlN4ISY3YUtKg7BiF
zwh)(^XwlB$#XC`ptd%=;rJXoqgwZ|~DfW+RmWwFoJk*c+-0aD}DDrKrheN3j>i!GP
zK#VBLgMZ<y1^vIBFiigg+%gSYRa8x^01VM|yL4HR4nwh24!ScN>lKVr^hylab(}4P
zfO9*JF*o+BMRKk`w4cENqisSJvu^LumhUmuggpMc=ENAmm2wof+_%Txj;DF9&$of!
zuc!lHeGB)U@r-WMmmMWXviPt(eXGul;S#y%EM#U{<KUn;yPQrCpb#inY*d%Xi;QF@
zbI{z5L{SEyJQ8qhMT+CT6!pUxF52Ug6emm+zoHWn!{o9$!lhB$#hr1NC@`35%vOJ*
z)Mt0VPW{vzw>_ImVBiX%hU-bbh6qr9Q}@+aEvQbxv8Z$pMeoJ~JC1I8fu}WKb`w#o
z+c;()tLM7x`v`^EiKaXY&&-R{;+a^OAU%!3dN==YxKDBs_oEPeuLB%>A|GgKfEIL<
zTZ+p^FRb`TKwcQl<QLq3Cc}{KFDei89`5!rWk|mi>?hts#B0vQeEEEh%PA_1{J@tW
zm{@C1Mk?d+cv8HITg>8h&xB02m;8EK;L`XK5+xxVOjgamRj*)w+}6{lue^&orQz7D
z$ijTh0F&9;C@keNc2t@D$ty2<8FE@v_LNo(bIUsd6AIsx>`_Uuxkr6^&;O(pKIw^$
zyjM_Kz+*34flaJ_H`%AEkC+vw47Dn%x$~Q>^+aUFnUImE#<?12tLlfm{+JwHtN52b
zyyz2-)?QeCxuRw+fY#Ap>^A6L%Owi5JV4Kr#<r(yGP;OYirX4}&fRPPfoIvnOUk<_
z-)R7+Dfs)_SsiZGnJD*Rb=#kt;Q?6cx3%;@B5z(dMCWQrS_Y3{;#~2ciq8j|Q-k~n
zZoT3YRF`Hy1Gf5|exfJ5EK4iBwzh?y&^E)QVmnrmJtF%ea;qG&f};R{9%)O48P2aC
zQTPUh)xowY?5iFQkobzE^Kn#8qN$Y%S^#RfpOG=CQ52^9qD#Nm5xUwE+X6y=ctd4}
zNjC~Lj3~vpEMRHuVaVA+Ubi~=zHu;XMGKM+`C}dN6{CbulC}4=#5`b*wJmf83&@(@
zeZiY;gu`972LS4SperK2GszVQWe3Q=+euK8J{6;fS`9;ymyF-MoDi~LqiG!&tRr_N
zma442-db%4KRdZ@p7TnM`^WZc6iIxP&|DdnDrl^abofn~=H~X~+VbLBI~0n)zu|SM
zsneRz33ILyg!tM@W*;XMK>ujqb>7rpUB^I8N~gae;b#zNU(k72lV+QzETE#Z3JQRv
z=Iy?H0ne)SGyfUTFv5LuM%9aZoVhFUVkl*2)7mL3!6Di}QE^~V`t>UK?;<bLUX}y%
z_o$@vcM1LvMP9_++RjYc!NT!B?4Y0cLt&T+2@sgVQB+hGE(Zr^HxL9#LAD%>R4S!T
z!mhqLDJ|!8yqTPGXCNm9#|MNM?!-bAM)&9WrQp`h({PWl0LTHE>-o1&mKWE((}gLR
zXSApn*zB>o!u~ES`6l_`y(py_dX1%jvuQ&t5tOELs$H9R%j_ZB2H@OOj0whl1lpoV
zLw-svhjl}nf_c!798Iyye{cqXzSt#<QD^_&j}lPMtNNRAA+VG7DSuUGEm^gkrbJx4
zj0%o5gtNr~E3H=b7?!gPO|SK_T|Pv7uQIMCyL==*gPvi39Xc2^cW?|2Y$@0$|J#@a
zuN$I9a+RA93(K(I^wWaSgHU5<@Jcj>*#0-@zrzeru4Qlk8)C}81pL2T?9KlZ-aHj~
z#VsMUT=~zW4hN|q2%T&pU4*D`ry7}FB=ur-;X*V7VJNN@4-E^_v2+dul<z9YM3mNx
zBEcZS@b}edob1O%g3sMrepW|~InNit01&SjO^Q|d9;W*yD1c=3dNp5Lr51)u^)Kb7
zdoXj{xgRzq085Sw7<;2&;yo(@i>Fj!TR$cHGUxdlZ_RvMZ|5@)73xDLOGSV0H7iKz
zJ@^!|*pAB){jA7(TxdfdmAhbEgj6dm$P7J*q<!a$-+3p%!(V~Wr>aa?^vE%f{NaBx
z-MEJjD`-vHQ=BwqZhdsAv9RLwtYR_=;Xed2DDw%aFZMob6<AV%_fVq;Q&%e}jl3S_
zg0X1^m1Kq}i{}Jms8B!wzunG$>>UZekJZdR5gq&Yl=~lBm3ddUkc)7)R@SaHHw#Cm
zOZCv?*(_tb@4Nwq=z#$h*iq&kA`~&GHZfs1Pv(~Pa5Eb?qTlg{St*3WnKU)?&Bi?9
zjgf{VEnp>jL=|OGOBB7DUu~`eA<jkq#1Rdw%`+@i7RSQV+hpb3xXnT*>~wQGR$zZD
z06Jtge>~$O)a*He-XGSQYHB}0{=FCQo!+_z{$BNeg8y%O!R(*CpeC<~YK#={oWl^F
z?%1gQS-9ztbS%q&g~GndR)wQlf{bds<!~Wl?QAVA$LD*GiNx>qFcdCUxG=7a8W<%w
z_){!byA8Yyk8DQZw&!7*^<nm^`_I?M5<w8P-V#&2vB+>L;2a3-ks0m`YzMBFN6d}c
zjrEb~krnPD5owj!lqwQymPst6BbsVh8(<7rAR2XwCngA+_(?Vkn|K%{3G(Yz-T>n8
zd^)++A&b05kF8mKjT+NZb$a?I>)T|scCA`8`Buv$c>5vRbaIL-{o0SU=|h|to8wQ{
zt(gqGZawzv4Kba8JXPp~0uiBiwk(~;l+22Q(S+CA)ATF9r;dJP#p{>$y9x!8MM~rc
zxyrS?Ce^%>ti5V9JD=|Mwe!j>nR~#c4&#^>nNZ<GIE%tYpQi4_#*HYgX0Z~#ZdIo@
z@9|wZsc!4<DbG6fg4_U~=zAsd`t%Y?Mx(<(R5XR6qLS+8m~3?&RHUyL^3P+QOq|j4
zXW7TN`I%GOD{Z$Z>y^l;1C#^v&6&i4qpmo8H=G4Vr1m1LMUG|q-!M{4k_FIPEF%!q
zT`{!`lRkrU%!kZEImF~!o<;aH?sE-F@++!r)uU2_>Y#w+*ggm1g?S0VbUi*5vER|-
z6G<4+K-O-G%!jlDuhEUjJ3-|ELAC4&lmyCcq+<5u6F7hl#V9cua?wKJYu}<CRBKAF
z=Ggc1KqW((y4%<UrE}$HjN_2@`q}XafwBWtuj>>_(h~O;d!lpuv{8;tGgIDq|N8jn
zF<m>?t_jC8`}G21fg}&)aSmz2v9=yBrG>x<$hvst93e=b1?hI8FtnlZ#g2SsMcA`J
z7UqWe2+p%HT{y2JCE~9kk<?MKZ$QAB>z98NmLap%@&dBAB4|A+S6Apf1e&+%rX7a5
zG#H%E1R9hevlzl~Ny8`bzd@mIFp2v6FF~ID?R?7q4|Pb&(aqD*#q6J}`#+cV{{W>`
zO<!?Y2#r6Zu1*)GvT!^)I=YKchR}<7FwrWsYhn~~^{!BH>BbEE++(^W=99`$F18r)
z3n(!4UO`_uH6c-o@a8(t_m-QIKP%wl>zFpkoX)%B`k+3dD*_Nv9+4j5tKQMEUlQUf
zfG78^m;Z8LY=dW-iQojD0YZ0J4ByPLY^Md~M93N@(|e!XsCOG#YuR!U9yJS-g>G#2
zpzveywPJ~33C8#<vJQSIbk9C7;(CncQhL}ciXhCt?xPAW@JSUN*En@r6d6V$pWiDj
zt*@G}cW+KSGuk-aP9~*v(#8kvRNuNyouoUQ3gF#BokDMoA(<w%q(!D%_Um(b9`PeO
zeZ{|$MZFd!SL%gq&~QuoSB}Uz9p!TV`C%PLFY*Lbz<KLBMp$8<`J!0Wxa&l-Ys9;7
z=0&BP03m{jwLv6TE1Nz)Ta;h19doB4V=z|Va|HCIOCfA$MJ!XE7WKypGDf`X%WG2R
z-J@Wq&^i~sAhazdxWK&R(1o-!PYDZ+EQib?#GW_gb5+n)_$k-iiu@O7tg}Z>o#Nfz
z1MWTDenv$YYc8}W6KA&LUEj4Fo9+xES9i=l>FBpX4Uth3_E&`7$vY){8h(Fk%!Q>K
z((d(jNA94QCO6Ng17$;oR{HKBef#9c{*tZWe|3cP>BLTV|MG3$|JYi!_|G;PQI}Ok
z6-N33NOEXnLWgC*P(>z!jiUe)f+0x>kq`@q;Poiw%phS5F*tCbQGSP5)_;N0#ic?f
z5PVAdG+sdmFH%7c&>(L8d9p2U@3uU-Oi(NUjx||{t3W9y=SyNDHP#r)4XX^x3=@ZT
zhMps%la}%(Dq0G)?VvA#Xg6CfQk3AonYb&|P2>%Egj%GP>W9PDXF(IjancmV0tQcD
zsy31-qz(h~E;J$#76zcx8A%C)kiw)h7ZO4Dhnzw&y?zFVSy<RljaO56E@QSK8(R@y
zx3x7?dCyE&S&wl{<5k)I33dl4d~1g}WFc_kv(vl=qavUDc$f*qIyBcnh<QitYOOh;
zqs=(Is50FhU(dF`3(2O9w2LnPt1<99MxKd@$EJ@+5zQ*~ywhMB2qk<L_=}f(39nQ>
z*L@jw<xSeT<~=fE>!kp!xt8GEm1(E2vDCGqa>}7rVZaRv-`@N?6SX3YPpY+<*(l&r
zC}X;@9U82&_^uhsOl5KJf8m7YwnewiV!{<UNbzR(HP>F}b=A!^lpj@*Y13GdW=GFd
zQ2S5TR``IO+R08`=nQHf^Kd?Q&ddkQezLUu@eiWjs%HJU&%dGt?p|;8s~HY|rMj<K
zt$U6&?>N6m(Gsh02%rFiTm4h*r>3~*9<|fVYCFp+@bKe`&Hz&1op6WP^a;61Wf#M{
zKE2`t<#7k<65fR!Z4sOI_3uZ5wK#cE!v(u{c*iI4(fuFOGVRb?x!Kl><ECK_2RL0l
zS?v<r1z}-m02shWn2$6D4mZ~;aNJ<R9Rai>AK3*7gA=L-lh%Ep=&t+EBT;fT^1Xwu
zwHJ)O1IA1%i(zuM45tUAqJ3XBf?>^}IMihwk+FSd9fi`i_qB)?;scb;gh}eC>-TeF
zqz-~st0MU>D0n3lV;}j^gHgH-%=5fVB1TS|zLHDakY9olF09U+Zwewk{0w4|f(#8D
zU#S0P<I2N|YudkT?EM!u|I2aJ@;{I%Q<0Y){=bi_o8|JhIXe9bAxfkj(UN6Q=)zPm
zG`pPVDD9=V>l|N<!peNFpr6WzTUt~E<PrWK7FZU$zn?EZj!*}nJ@{&U*Y6t7jcb4*
z`w#&DM9e3QO{=y>0J?4$oI~Juu<<(K$VMuqc6w<tEI&sU&V!n`1Qxj^Ulw$JwBA_4
z;?JsNpIJ#*F1r0H_fD#77jt_XOPQLtpdyy((d42RO*bxN#gKy@I}B0F(w3gtiX^rd
z5*g~r{wWvKDOq#il2qYNB*4)(4jEjqKk+@!0q26)s9AGYse@}>V1>JUy|Wmshjl-C
z<G>HzGQs_M>k@Ihh%Wu1^!wpZO|@Z8ueq@C6q`7QEzciuCnEilHd7o!m})zo%jqut
zOfE`{B);N=pZ`T!+qjQj;eX>l_BZ}2|3fvD`$rZO{r|~=WdC_6I=NXpI=KEPHFZh7
zGN8gpW8XPj+sCS=Y&147gCr7nN`n&8s7PUzQesRyCrv-&PV=|*YyII121X^6z+edn
zB2+9Hm8I%tW<O7SJp=^yc7d;q7KBFzdqTtMRGeHIjW81>%Y(S(n6+A;TmefuQ?T_r
z0Z5Pj=P*04pewHaEAZl#X1|_E58h2Gdu6eG`jUA(bWQCjIyg`$Ie);owX_F}8?Eu=
z#Zx=n($*b9h&q!*26Kkyn;D_$aV>8yqbQS2u<~mAyAnBo54*`)d-L_&Oy0@4`OD0-
zh8mwufSMPs$A^2mlR1nkNKnW1*NxmYd=DwH<S0eobW`pGKbq7oYSZzci*D$JwV<7Q
z|2m^b=|!oKc33k^YD>R8xPx@MyfMjWKq?I^l-Vb1oVrB+0{Kc^&MxwV_E-!?&8XB(
zYk{xs5`WhI-C`W5%zBf#`{;ZX6Dyd?l1WHRk^Ac2q+EMXMw2CrtwYIcP;7%DU4A*Y
zpD;mZ!NAL$9cG<uVcP5)yf`^=Rp$6_&>hL$CbIqQwR0i?0ZIIyC;cBSctrEVQ%w{7
z%fTW!M~)#eY#t1RjT}^t0#sC{W(5rfK1_lY92HL9e>ZDe&cVm^_Hi~3NZq=16?2sn
zT}QW7U>=9iiUm&Gwq|wpU2p36_6z!}{15Q`mM2RJbXHTfF}-Eo+bs7-Ztq+`p8uTp
z_1;`RkP+vXN<zlv{gzLUO2V32uIhbhbcLFq{KyhbzVf|0`kvCgJo;SqYkIU}&1-!0
zsoJN|NNqG>^=nczVU3sY2%~z>dJs=0h$=kPK^_PpTBe;4>n{DkhDML5k<`9HFe%6|
zh@@!c$OqUiVR0%baU~ZO6M+cmE^0BAJ`uH1Sm8l0aqXZ#h$(Rk)R+z&6ds0G#z5r2
z4<v^n;$UAe2vI9ZlCUQ%bg76&U_vV~)Emr9tDiijY<?*90}*VwBPAe&m|k-Gs2~Zp
zuM7&dTnUWUuLMmveF<~6uh0Y-`#-^RQC@Qa1&7GN4K}Y?a?=OE@DHz*06rERhM`rZ
zffj&lBO6}=Dh|W&!ksH$<pDX~+8wQ*_;7=>%04lCzp%n^P3FQKuk!Dg*GPciz|x&0
z@;7C$;89D6P^qubV3*WOqC-M=JU4-7(>?Ln1eQZV$TQ4)tTkQ&AyYH9tl&m_>PP_&
zdE%}I{hv(h1YVXURey@2EuT%NVbOPK%2WIWeSe;*m7Ip|uDLb8<*^U+772*1i1J5l
zeur}p9swint}$}qWXUq@)N&3Mu66#(LQ)lsT#u*e(yYnR1g`Syr-^F(BpJo+;l7b;
zhzT8OMXU|Fr+ot7>V}5-6DOBRDP=GBubm{C{00)1?FL;96-EAi+YO8=3VFQ+%qo=h
z<5JQ3lqtHW&hhI6xU$@HuTAI0bYw<nZHvVf{iX5IC2eLJ%L)p3PV+3l^+*H;;Llg1
zBA?&hWLYZvDr?s3SE}V~W`60;IWCcpIf#sNBH7Fz!WQh?ZenATM#NgJ=)n3_ahhcR
zpRV$}*D?K7F#h{-6n@g~p4n~Z*Xl}!E-Z+S{j3gDQ22aFEG+rw>)PNju5!37_6wqO
z7VybBHF+Wz&k(IvM^Cm>n`It1Xzrcn$Ii-)j%B;5jTYlAalWog(!>1Kl=Pb$O+8NY
zugH|A<*~r38nrn0XPII7+WSggXXrL-I@dqvH&$%%J#}uFR!1+<2*78iXjW91Vcn$$
z0WgP+%-3EL+<xfM8Ue~QX!<%OXl}hxha-vV&{p9jQ^U1JA32{m%+T(fJF=XVSzyv*
zKj3x<R_b!S1j`B^y1Wa=I_+*JRl+CQSb&Ww#*1*(UeF%D*4Qrt_p?e}Cn_RSC|{rQ
z8z0$T5ah?ldVl?4n-kr<d-km*naHI~6FPbgN^;SgKs%`w%$;{l*HmCPmOd-jpFEI=
zkAUC7VJ0k|hlrPXTT;8pXtr1>4P=<?-0kr)x@9Pbn0sRPL<X<Hq=w!pu@AQX1GXTo
z@Z*MCI^p6Dj_dgVd$=r_lzQz)ZNN<$$62_~7=udYVwuBfy;g;)-cD9iZf&h@?v;LS
zX;Pb9y@xlNrA&5AO%s4WV3~XJih~c^r^_<+#ctAklpBK+LopP@UE(t!^8kvV0IeBq
zvoQB3!|sf(5W6?EV^RzwAtJlW^^>lF&!2QngZ|_2HAn9qbKNmP#>HP>Y`(r;?V9WL
z2?jsy7Y6v+BpF5VX^kME`5)F@f>U7n<m`m!Zy~9xfq@OyL;ZwuN5(M3_@#7$uD__>
zx{CS1d&m=Ryu%nv9Ii-;qt5V#G8zqq=@NFW>=5uj9qEh;I1}n%FG(NP+d7Ud1lWb(
zZL8c-KdxK6XgT}y=HmRV9@`nUU2s=WWV4H-?G&M4?YdWi;ubZM0@?SdZ2h3QU82EK
zE~cXM)ZAq437Gq@Y4+<u4!y4~Z1^7FRwY1v$533?0}!5=@7KWh+G933l*cSuoZIF7
zPPd1o#9w_j1|?@v`{*Yx@%#WgL@PAeOwC3j%P;heIvg6jAmCTO+F~HWJ~ue3_Z0dJ
z_lLy=j*p8^(|CTn_l9il+s)xQ1R(tWsAwSY8|HZx9Q>|nst;<1P|O=<%5VrkzI<5s
zZItQ@6~1T??zoStSWqGBtt+EQXfGIBZS**)5;qy3<VXX^a3%EZ(?x9k?qF9&+s+@$
zcU>py+vZ8oH8FKPv#TE@eK_Mw(74|Rxt?56EtQT(1HX#bAKHP79KS5Cl?UH8*rcX9
z;=9pPdL?gR#u4Gg$c3Ly2W1)2BvZ{X-WVu7HzML-k>@yI0N6lrnquY6V;8fvF+u2i
zp&9dyg8AZY-I28&X}jnNaqfjF_r3VsY5u(9l(@ZJj|wD;r(G{wF4TlR)DZ0OonLQ!
zqqz|hGG9M`S`8HL1_>ucFRDr1SFD61$gXD*wTWgOxQwJWd!-AvGp^Lh;<l7_wBYbh
zs$NSuRdt7--cbK~jdeW4{Q9rnZJ-o~W<4?xkR3e`kl6omUH<1XsROB{w$^3<3o*-t
z05*yt-bjluSy@`GjI2bdqDD7}#xjj(jAlWhs-!9>CwI%AU41@EW@3gU-QRh#yPd6T
z(ErlsYk1rHW^nkiCJ<qa1yTD}O!zHedE2`7^<v{ocpuY{;4dY1{8^QDs{Lj{YiMyy
zTh}u?89>{v{RTlBQHS^Acb!Jx%w)Unn*yz%$+2af-@s&^hJeYj11({*OGDaT`)^5&
zFRh~|9LIUDl2J|T?aF(KxQ5kNoVbRSSDv^Wwmt*XgwYusU-oC~TH7A&BaAp*_IMk-
zr4G>}dmP6#uZU4j8^4rMPFug2QC{`{m7@x_0G%UC7b}uKt_bqQd&l!`KCBUX%d}2<
z`w<|57_U(Sir{@{ucE<%D6eS)4d4N!ce=rXn6I$7aTR-*ub{z#$ghyWfheztxaf<F
z-~n?IsAufKfyl3#xabqM$o@okMRC#Rg!XJ%0S+b9kNm;?Z3}AeV*9SRGo=||0mOIh
zAc2-8DDSMe+~*1QYBGYTuei8S*O*?~`#}T3!R_D((0Hh?@dJopUn={z_G}ruNL+R$
z-c9p-S-c7H>y>&2jK!W{yQpU<Togd`m`j%+&cP1BB_RA9U10{T3uPb~3$!4RU`$6Y
z@1D5yNM*3+ir`;M5;0Z<1Ck(wu%BB{G$rj|2rxag^VCjq`~Ja--~y<x^#d>9eMqkh
zP}z!s=BF+e!FIqkLh%FOAgJILFkIj#n;SD3Ti&hHS~FQ78z3IRdcY9_Qo+g~reLG6
za%h=!Osa)q1Jq2Cg>pdIYmq0dB#T5Px?HkGfV}qKcD(IVR=k!_X0WNybS<tyUvsm<
z?}oe)Vq|0`#IvZCO%Dv`TO(7~J-Yi02F9n|otv{S^U}O~vfrksA71Hsw-w)Q51?`$
z0f`FhZ^ZALvxpBQyn>TcSD%@+9~}dzLvDy`Tiy+P{F2}1r>Do~;0AW5n8#1#1}3Ne
zde*0ZnqDujnjUodc4i^ZX?gqUeSITjuRrT!2@a7x1g76S0um}VJ7XFeACwsyT@e+V
zA0S1}K-<>eMB6srQ1gdUwOOWS*m})0;wblFA^!+uaAHMX1Xt27-{@T5J3O_VwdMmc
z^)U77X(e>fga*%irE9IDK0$&e=J17W>+qw*hWGk_v4l&r0P|ny5I!sFVm!3JEz6KX
zCKP+RsW?U$?wxD`34O0Gf5m+TF;bD1ol8#B%h%jrL5&vI@Ea?3JK=zz)8`{3)Xbn-
zIkSrme+f;An3uxCa58Jlq)$zqp?K;nK%c*Vw3`nyStQU(C;ko-sfTe~-aAOR(V{Y)
z5sh8(3capRH)<@C_k4nGdCM8jZzN2&j~b8u5!9}Z=)3i4a)<NKs?w|Bv$>glFc+!w
zYo4=roSP=wg6)YInkw{nY_c$MD;?hBYfrwETiwmdAN<BfC<A|<kWjJhYV8}xnCNU`
zz`@|}!A;t-9Rhp@jUA`v*=02YbW2g%F!*Qyfd+7g(_P2JN?sd^)M1<Z+0DR7p-i=K
zC-?L&<7Ebdgx-`1uwhO>^y^)RpABxatOBpMc+c14h+=PF)6!$IDzwk?q^$z6=P2;)
z7ld1g<#FeQ+H^gSC;j;pV#+OFr9jzO=FN9`26w2+1lkA2x>tXhyZ_!|my16a;z9ym
zHIF6z%|nSriZ|V}A?HO-`<cNHh3uS(b+f_NA3_65u{?Gf8^XVbmmkiDqhAbHPfF8p
z-yPU^^7zi;q?h{rDuLUVD;_~buh`z4h7R^uwom}t$qJv#zKUI=<)+2k7Szh}8WR*N
z7A5M4JwX#)P+thIB{2*A<9_pUd1ov=bE&+AJ)-93^A)Ve`-O-^Fm8k`gIFG%2FNV=
zQeqLynME|W%S#>X%<?jxyjJtW_yLZ4*G6X9NBQS+^#`Po5I$L%NVwAJCfP1L?g1N}
z1VzO^{Rw3K-?Y&$SPPDMYqXQwFqdCJee`R4wGkUq<b<x+)#_|q*6LCyhnM8qAfAXL
zK3EJ~aEsRs>L`~vjYXd}Aw2!@C8jINC*P|tAi&7_3bFd8@7Rpzj~>*$i}N9vtj1cL
zL3eRQy4LzPZo~VLuT<r~%mdKf%?TRB{5LM5C)Lqut8-|otE+47{-iUsDZc|cU`cTo
zHMzGNB0dBLAaAJq)3c%@`XwtcrDVvr4<r5n05vKwii--WGRUf5L8W4pOW{@eODF-f
z1U8j(N#LO_xf4lx(!;_^U}N{vdA3i_MrsYaH!JEhGK<NtnUcRNs!*kEAT$xnvnsT8
zl=zUbVD%V|gb`oK%$A3<GYNK!N*^nY>#0n-)L-ggpOyD5mM<-a-MFju36td;GpOgJ
z3d@ZQneze5w3jg(eRQ;pTW9q()qCq|h_<V0Y$2VI*x1>L90rb&Z_3PWcz;_AgV$6&
z71bVcF>`ft%z10K@a1KvI=)#NxfPQ!jCT*ERYRxHRZv-;qv4-)C$F<6vnS1&OD-6$
zN)9f)6W@0cO*hv<0zoaq6}acke0X-ZvP3y^g!ecZs8SQ$!9Q!@J@%u7vxQ08#S=8d
zoE2^2#mk0{k9uA9aW>9eWLq%yiCa%jo?ceGf64tQA+0hw*=JAs`zEA1e*}67G;=r*
zXQ4;a@xG)+3YYum39IZz&=J<!f$a*D+JmIO@fG8tN5}-9Gz1E#I$(+o5S{S>yLGSD
zq2ilrz_u_?>Wv)y^C;l%4rB7jE0d&>6f~+I@lOGrzoo^8HV&X5AZ|%1u__ly7o3oC
z@X6;w^Gd-%YxsXa$yvff7<Fc9IlD0#5y)|!mvl9SZ!;3dB5)TpA5&wAXpS=pVg)yy
zO~9YOuhQ(`!r_7o@S?HeW#X!YZ}d2a>T4;6Nd{;+-b*H0`Fkp^)5I1-J=2CR*bg=$
z{&H_XM)5X2(vsg+a2fs~<Zsj)sBf$F5_CEq$*gh${WeudS6m(!Nk-WAh8(sz0HTq&
z$qxM?T43y~ONMM)T*KZ$k1WNF{39B9vonb-ML3up=jx%46a%YAUYG9IFc>RiqM}Yj
z1%3INWBJ6dVsJ4x;Ei9NcwR2!jPz=_hcqiUhsV`B_HCZ`Fe|$=E7ks)m_;**hGLb^
z&}EdO0nkO8y(b?J79S{#%GUz*V!U~oQ`(>g(e2u1MQ|;hvx^2aj#uS5UDmdgJeisx
z_BKe=ks9UNGuE!-GFeuzxn<41)(#~jCg<hx4mPrR+0t)X!sRDes&599Lx#nB+}-EE
zmW=w_XXE39EAri4m5W}jzqXcb(G3`_!`AinTZXbW#2tcZ!8N#LyDNvdyJOOY&zeRT
zKcgMGDq^bhT;mtp7^<Dq3CeQ1tvZ*y!H_C+yR6I^(b;*Lx~x@?Kw?UW6f_CT$=^s{
z79yQ7BIsEa)`Z$X1ZhXL4_iErjCJ1mtmjb&KQpOyDOj9!{Bz5*6rDF+az~&0e^$98
zT4$nMt7%~Bf>k1Ag3FpMNiABzOlwMTt10}x>_v71hwF)Tu?9b0@cB8~+L)~X?gq+z
zMls!yC$ZqqmQ7H?{D=})wst1MBXo3zkE1wN_`#YjWT=AtCp!APoh`|>ano#)FA7>4
zr;{zxc!i`mB@=G1J5phuT#cwdfrY<If-lws#lz*8pvkSc&dtiXYbR?xr$0yJPYzDW
zHWzd>r75qfkSC3NskP0$oJb|w9WC?|t^AWIWaS+CQ?A6Nn^hig9cxi5n1AzoD@%X+
z{Cl}uk$%qnrdQaucDr;XUQyauTDMKYlH9AxmLjH<C1UTuBTrni<!6Vll_SJ1JuW)w
z!D;-`jlx-;m~0gawh0n#XhCEykp_%O^FbDOA{D4O<|h|s(*qHILG@i5fI%h9b=<^#
z)pj0usDZ+Ykja`8t}yR=W%j^Z&@;P-QWaba?w3Eamm$b*21zzU=+9%OOOUQe3=t3H
z(uP7C9XVTT=@3tA!dp(1o|mj1O>%B$Zj@6EX{1(2+5U6bIQm?Oy$z#gs_<KtyE>pf
z^YJhlu|RZ^Zk*&P;%<;d+QD^s&Be56#^@w=lSO}4;TQE32Y(j*n0fxc4y&%U#`iVe
zxscy_bp34MziE`}fzx!9>P7QcNGUZ$UEs~uM7n@+bt00UpeMKFCK)NI*0QZxCgr-=
zeWja&ge^FC<_kzAtapGk9n`u;RYs-N;8m*plYc2f<cpo-L$9dHt!ya7RMB-R7>2jl
ziYexfW&h4G=Eu&8gXw^`voR>GQc+iTSNB*{%HB$|{%OKK$>xtXR<ej}A7We&F=Kld
zK+ore?@}?b9WV+_BM{tmnrQf%W4mio->Jmcmht-?#wB-^n_lHzehj~;>xhQ-;;?0S
zLSL<7($6^8<5@K`n2Dl`z~G)pJI9!uk?K`R*9~mZqSO{vrBHogkob%WBFYo><oEaw
z@-0P#e6F1~NXar2=RE@#sD6Vkwb{z<qvb@MkxwmO*tRb8<4$;8M@?JnyU%gd%EzXM
zq!SlK(>;IQ26}(_)nRB&TdYkQzzv&;TL^Y83LgJs3w8n1pbY8LDRC9#s5uZ^NTWEE
z>~4@K8JwjU5q7v8+#)^|!j@6gb+kT#`EhRHrv&s2YGZIBoBhzk%+!!^=;YR6(A+_p
zL3TvWu*WdGI~4?Hv4i=o<{O!wtvaVjX+(Zg&>ea&8!Bo~9DBSUcKp(b${3WX>XUPq
zLa%OI=AyV{71dc0CF=xLq|0+xv&Rj#(n3s1b*ZTkjHd(ImenHzzRY?#g0XZ9XfLP9
z9OnU3FE&RfxVbZ>%aaCL=2l{BHxg(2u&1Yx4d?F7Pi8+%esRyGfG)`QoAA+(%9I<;
zHrGTBhtcD3QiVe*%?Yllj$QLi1&Pd>OdR8N#wi!32O|=*rj>b68D)%n=ww(`M-qZw
zi+2SjXif=)SqGR~W$qAt!Qm5zhaV~TQTjO6uS9PAVM!6p&rt6KBWVZBtxEN3@%PY8
z)1C-Fj0`S9d;z+5&UCL}68S&ZRnL5JU<FbF1{1iJ^prSL`nBl24wkugjB6`%`C20g
zZXe8mm*u6jT@Yb53}X3Wew;GB^VRb*J~DC>TTe)$JXy4N{(@`$1zt($iBq4X)8FKj
zpzY^-7WGwDvDor+(ItV@2U)g1EXiN0{tp#1qv#2`RByD(Lv}G!FdgObJ2~1U3V2s+
zjl9GdN~{CHfYsxCY`)^$IMe8*(IbS!?$34L*gkLyNW~aw%a92nPp<bYDo?cM`R3uy
zBYP$<NYY!AD<lctA7=+{H{+82*!B!>rJcX@YL$-1>G&OPG}0y5Q^O42xR1G<aUgh7
zW(&W%bYuM}d=Rs|z@GYGZ=LP>aa&)g>aF>sgJk6rD-@)z^fqJIb-Wh&*ve>^&O{L6
zd4m0=pr<*gcP-NgxU~Y*4`SGswAagSM5kcrc|UqoGh3VYlo>5l1O*|>QR}ZXF2ad-
z$G9JZ57iX3DUGQoxH8TANJ1@<vgasQxGe-G3*@}bV6~6GH?w*O!q3H8Ay+&_ua#}I
zb8j>KQwgG%Lf2jvi{<5a9vew{6%uAg6GDN-oqfm@67b6|kCuO7Wi;TIeH{IAUVm_n
zt>9u`dt3~YkW}EbcUwPP*21Z%K_F*90MrSB%_Izbo8}S~>}NkyGnnrQyZ?bB>>!?H
zJs**qOAp=kIaP+in74QCYWs1*b(~I6L>oVUI5%PAosjO4-4LJDQT0|zI?}l}5>lD>
z$nC(lC#vR8sQn6lvm>YkXqoCQKBHY1DT#VBDKbeBNz(Rf{`GpZ7q09P2({pmpD5wx
zU4532YPCzG>__QQ9{Gh;Ox(v5r|~j~wopJ-pCY$l^1zXJO_!>qnDmF*%=5m3&4yNG
zA^>_}#~Qm<#{7;oa(5)$S}dc?<`1{n?MX3Pv3gZ;zfkI|VlK6KHDWP#xoL`cAT;Nc
zVBGZB2j8}VX3FQ94yIwqYk_EUC&)FNpW$lKr{*tfy%-M~`GXiMyapBFrpNF9vZ}n)
zJtGYN?E`)PUH{8m#J|Nk(SIgN{?X;!W0@U>gwVuJc}EqbQXs1F2CUaZNVP&JP{Pa5
z-1aUReGi&x>*C7v;z%IJi;CBg?aQ&xXU_b;xBGzX?sG}!?xmz+cD5jmmGKf>`}-bN
zwiHaN6h4)jY-XOf9ToUkjJ3mUTbf*H!g}E`mjLtCSkLls^~@I+;|tP`oB46O=Ff^2
zU(Too79Wq#b==F8KR}J~KaEo>Keaco)TSJC%7|-28pz^jW!UeCJoAyEpijuC51<hT
zmSsy(iOpEY4l)0&YW0R2Taf*gGGG2Kwg2Pp+5ZzQVKZYVH*=SN#7rfA#lNmo{~OIh
zG#w!#W+tNap`eI*C}?pS*%bs~xE;LH)UFN=mnErBItns~03bmaV@YhJ5P0prQ{R`_
zxxd0ryC)DSp2T|0d;-&1ag+z*))^C91STR}-2s=7FINHNl^$(LH16CO2PxnoY8|VS
z2-8-)JTiQ>Dly@5OO6lySABXh8r+{K7Pg&Q6_*#1mA;0Y^|%x^4dTuej}cc}S9!h6
zY3(%UIu**?V)nVUkjqVR4TeudRlvF6j+$VBF_OT3j@+!}d9vA{lif@$S;dGeN!|*N
z!7Gh9oa8FmFBx)bYB6E<1Xi|BwJgKRdBnA``Z)#LHvhNi)fhphN53mIGpcLS>N3gz
zPLL1P)w_Ej-959JJ+nct_T*c?|JuV@BP$+He>3vG+N~5l%w6n^y+s`z-2Tp;{+HcK
zUJ*?g$$zAt^@b@3Cc5@DxcDZ51(JaR3ni~`!>k0_mg}s_vQ1yd!dGtY3gSBj6Sd@Q
zkZ?bNMFWvG`ZqGlxv09PX73A){`uF}(IqF)l$MM0)`&hPJEl7(Jf=M63yqWWpeXby
zUn=wY;9%;Q<>?qRz?x9gX=03oL5I~=ekJ=-;Kmf7RJ~$|l5T5X)J>tjL!{u&;7$;>
z>Uc`~6v$FHREKnuAY_k3@TpLtJ?~TNripVBvlK8dyJSETYWODhe_IHeg}_3xED-@N
z6%96$N4{B5D9rQs<!sKyc8UqbwWKpjBTXqWeu?2ZEW61T&S+6&QDQynExCC(AI9xg
z>Uj||HGXMI2ut;3Ubb65{Bmm4EW!HATG@<An&e!#JkQcl%Qt1FEJFjxW?+%Yr`7xg
zQYnychjuoV9c3MVDmBVc;%90JD7U$|1ond+Mqdz$YGwRk%ka%ZE;pTOGYoP%>NqDb
zL_yB~s-Q;VP_WDoTS-A_mo(N23u{e5!Q+x8Shl6Rb7dT^M;RCJYJ0%j`9)|H+q+~H
z0C)-Z^!u>uJxp~1@E;(YNIbcZZcU4oY`jJ`^J0C2eLHGF3&hOa5xQg@>0{Hd7`Q^F
zF=i6=><x2W4T@-Pq<cHkHlXWi^u_8bgx~Kkg%|uA^I2`+B$<D)e(-nwFZL0u|G+ve
zULIzM2`%hY-F`U@x4{@GL1{j&a39)WNiqiqRVonSbO_Xo>Ib^>EgYO*GuFvlmmttp
zqmmSQ>QHW@faI1dEjDjPb0<emwl4)8V^NI6^D6X#(U5!wajF8_2ML6(mF2_uf=tO2
zp!H}rN2b_W!>=a6a9ZGXi^A?(zZ$CMeqsJYrQo-YTn-9~oKUDFvV|x`X5W87NpP6e
z{O4bvM&SQw=e7Rl$Er=K{GHt8$0taUqd+8y<by{fCYubR5(v>Dw^FYrVF=MVc3?S&
ziAy<OHVe6<eg}2fRw9?`yaW9t!%T0d3@!ww#&mUjxptlPpMLy&eY)liLg#}q6^PBj
zk%O1TNoU_)X{<iz13)5MVX0Y2Wf|l1cT`VD#tY~zEhNzL3`t>U4ps(>%h9k}?sGU`
zmF96cLAJwf54Qxf%P~KiVHiL@(+|6qTXmu<Mn_xAuASC9)=%l^ceQM`*zh$J)?@@L
zB$yA=@u53}`vN;3^O3yq3--^ut3c`H8y}iz2v-T53pl!VACli(!{ngu9Jeu+%EBx^
z>9vb+s+8$Wp?TKoPr1>x+oby`cC35~lIm{d`#GlJ<LCt!1<H2}1y0X*GtlM+E8G1V
zI>9;=uQ}h`+Sc_1%VQ#o9y-pM(aG}Fl}R)1A+vFh@J#Ejv@x2OZ93oh>{MFUnrOfB
zWUTec;r*CYk7;3C@`$NScggULZ!K_WA*+(fMk1{{fQ2#7>~iygn?RLY!i?8WRY##`
z6`OkWPE}CdfJ?B~X01`tz<0=Z!c%^xQ@jIc+gDDsm774SGJg{+{{Du6l98K8$y<AF
z>JfEkjm`6J-*)gB+6!#6eDJ9$OLhCUOVz{zD1_n`8+#u9DEBQ_FFpSa5H<wS-%0H%
zbh}r*h)+hW!j<Vu$j8>BT(-N@g+j)VGV3=X%Ha*m#}^cP3=)CM3fjf3^@YYFw#wCj
zLu6jSz$%i2ZbT?6=$RZ&9DBvqI^)w4gs7Zf;IIo7qTxyX19AkK{Oj=w`EVm&6bmv~
zqJoP4j6>KQUPQ7!?SaxBqVo7hn@LIt&3&@UXXKk5k@OsMRZ0Q@vBYKp5^cE_O)9U%
zVO&T6MIS&~F3FGfoa{Q7N*h%Arxjtv5?Hx)MoDgGVQFF+F$%E@N2SLB=f7D%qhvC^
z>hHV*(BFYGivNF=-<a{A`LeiFebp@qG{9U)BOdWUVi0p!!y(w4DiREFW-=NM4kg7o
zTb@U9&Mb+eo_pAGk~!6P6=!de9OFCadkK%frbguPIC05BlE+;BY0v4E%=g#Ji=bGG
zG~?o<SebsB4b64cW15U%ja%Vjk<6YIn;7gOolJA7a&$SninT^|E}QG(w5?l=Md^f$
zt7e5e%~^}+)Z%tZIhDM0b`u+V-t&2%!km?O1y9|@WA5+R@;H&uZu!0Dobok}{-Zwf
zT$~c)k~>qYJr<Q%Qf{T#E<dzb9}zJY@|+%wRQ!@P=XvLx_)2!V+hsd%gDK<_-v-ly
z*X?%ktzQ<ba5JMKmym5+XaRM!^b<?3X$8(p2M$wy_^)kSFl)0|(vwPmUEjz@t2;uk
zw;kjn^KqBms-HiRp?{Y=IhLKSK+a{+&(0JS?(qtqFgQXB?(Jh5P!9M6Y<|TmtaR&Q
zgsA$q*+PC`5&FmvO8LHblLx@s&DkG;8O89_KgHY`=0WcrV5)C0O8D%!hX<bBdFUEt
z?dB9Lhz)y;OwFE0-32C=0l#lv7N(QxB47cDep*VT5UxyG)mz^9I$wYv>L?~W9APl&
zd`y1{4M01@ED+$RUvpIBfNM73s=F6Y(vM*{C|%!zDM*VHbWT8WCpx_W@(wr|fy3FI
zrv&;;OW%jO8iz0nK0Jux@e&|o7Y~3elQ`}mrI0P|JhKLR6(A&Vy{49!zDUH*O{}B;
zh?@o;<}Gm4V$6cZpOWzxqw|@IaYxU`WU#GJ(Ui${JrLXA84U4@z{Cv+{1wa`v10Lc
z;;?kFrrcAK?@zp*k|knDkFl&^jKLO2kqU*qAjltwo*|)S$e|Yput&;XpsOWfF^kNK
z%arEpRl17h6sQds#1ynUz;tG)nXm9lk>iN1@YbORSW?6F!|uGITd77&W6h;Em_}r?
zibzn=SdY@Md??ghaGw#}6hQ?-X}2QSQ*^ll!`t0dXf1)Kfw>^d9{d~qz_#LzRFUO0
z@}<caZbI6CHc1XMOj^d)a8;u?ENZ)%vDvLH(}8sc`}~kY`S78nDTOtFCqP{qZX^Ag
z>g81QUxal;^&t*n{oVbOJ!qpe!0Nzsu<z3Z>`#EQw+CX=#cDz<LfYbA<FKxwt}hq!
z#VYJLY%=0Kb^=`e#E(9NY+wT)@tYwVbGXI~Nyacv+Dx|{Azj8C_65RrfM1Y1x-)B@
zoFWqC1Cr@JW$g}z10wH{?7tBI4fd)a|4F{TRS@H^fB*jl*#G&via1qWN0q;x>U5B)
zI*oIA-I}`MzXk>?Kjxx)VHMP5QT9cv&GzHQp@m@weFU|D=<kqri5xF)mU~I;)A?vC
z<|lIt%f2i}4-bp}@7Gu80nly5!U5+L(lO_lBaSf&$^4RW<-?9)=Zs+);y77qGbiRa
zs3vT^Q9r75mW~K>K$hPDxG1%udzcN*HM{*zYXS6;Oh4a<I{g(Z-?Sph%2>XQj4A_H
z{mnXkoo-)C;6dLS(~wt_Ev#-Tc6voceEoh8hQINLNb8l45#I{Q<ivh8OsO}yo;2S*
zy`uLZDZomclN_`GiyFipOJ(a;&l|~0#~mA^sxIGUYmx6-_9!M8ebs1OEiJkHFvdYs
zMQaopbO*Lla)H=&_C9s{+#P4}DjJ~pSk-l-{H@qCpIHYv<gbbfS@D0ha^~?+@82IM
zyT~?W7X}eBwv06lVGzc??+Sw`A&H1A*I2SI*(qf!4K+jd-L+*&QuYX0vqZjgA79@)
zzx(;--s^Y2Gk?uL=lP!Zdfw-K&WjV=u=uX@@owsttcFSYLQk~0NorkIC+gI6brD7R
z*LK)<-o*X~k~u1Z&#HGkAX`^s%q4`rIG7AM$4hb~&1BW4eep+-41FwXE0=H_YH)`<
z%c>%td$30q)mgslZ+`1$%^ccQ?An)Ev}m4iugfs`;A!_d$N~CXcU@oUN~<jBgCZpb
zglAqvReijU+tj#iw3W&)$YPb%4r$W$oF*m8re`N|+Mfq*9m~c6t}&KtSiGJPkU32`
z$>Yq`j$&wJ%S@teJa5W+KlW0sVs$i0B>9(T4^eSf*uXD*?w`z3+u<_Kkf;-o>aqu&
zu4l=7kuRMy{JB=IxPo4XUeh<^=_P;{w)*-m?={?oh8lO^{Ehi{m>d}$*L|fyk+$_}
z4nh@|gh=uRnqnfdTpvXt70sjV0!h2p&@8kR#OpYWJlXctZ-wv<|CB-AP?AbN^6H$F
z_(A5o0RKQgk|6!Z>AIq}1NVg)(Ap!S6G2MjGPU3Ls+gIK#BWh`qPkOO$mgAB{4GNF
z?(o+Tu%e!lVv7t!6o0T&@1f3&w#J@ZmYnP#@|bUH6@9Z+P}E|q9Lcc&Q`342d40x=
zs)3n!sqE2cg@Ba;W*f8v52HGd28Z<rsC;0_In^|sFLF6psXd8)Q<bxUR-hz7E{4Z_
zP!}_@LF7=!FMp0hT~M^xt&`l_xH>^sbA^@dF?pbjI`Ipb7&L8_^l`)~;bf)#tf$#l
zscM4Dn9giAolYVyf9&9V9_wkQE+s;Kcux%yGD7h1Tjw;h!wr=oTQ1dNeJ?ok^As*k
zW`tIp*=0W|Sh0R_e}0;@E6uFF!+}Unnbvoc_8_@u{cl~T=WJ#G2{n8X!zOIFy~6G9
zjn!f8V<@82eE?U+Gce*gDRV(s`z!@X$AG84KjDddf^^0EPZb3b6*f|yVQ)W;Bu*Ku
z2;5PMYYWqkHNlM<9WqGPJ^Z|0)9l!m^cHINeUFGW;aISKoi_EbgvGFp^JC|7@2&~#
zeMfdmEp|U4b?7-;y@vRECru=;pLV4m;x(WeQyf%ecO-gmV%ui=(kRR-OoR#a)Z0$Z
z87)-Soo7W)CNIVD+Fx!}bp#5Y8MG36TQYFECkhdVovgi9X}u0!4wGBJWJ*xv-i5`_
zeI?V2Rp6;`8e^c^ovNyZYK1^q#E`Ko{A)BS&;5DgW8b*0K^DCZqQS42&WtMYJc=f@
zj9XlH=Wmr=4Zr0~BF68HSP1B#DN?-*jtVU4)|F25zd-7F-bpi-R3~D_<`!8a_!0+n
zAG-XYA@z!kZLhX3eRvMT6{&BHiYiam%T6*Gg}2D(cpeDVeYns#BTgxP*JXbHjcTn5
z+tN8X7OzW={CvS%X0~1J!}&UM{OKDo5ajVj{cKymG1pl3V-%ZTkZs`QK6LU3ae)r#
zAtXn`a9&VCGRxaNN4Yj*PZ8<&T=v$>T1z87$T-ZfWiTcIlRnRBZ<V!c6mVkckxN-I
z!{=6$!t(2CFFQfMo`rQsCwdMEc(Wsjp0MQG#z&Gwdy$M?j;r>T%f9`vSU6$jzD%j^
z7R%eSkia;rD|vL<k!c@o#Voq2P0$BUg`V>O$1|d5eX;vDzZ16~{EfZfu%1#orXEft
zN*i`C;->%7MWhBq9J6V6N<q1zoD&4X_Ba)}j!MKWqTd>?e<Iq}og~(~&GaMH<L>s=
z+S*GBgkw|iDGU32&m7Mux?N{*S%DowS82#PJu;(m4684kb!J=?ESh=ruxLx#&pPhI
zSc$Wa-CY#M!EZuNke`r&(mS&BVuhq5v&<F2=g-qQR?m&MpbqRo?#Qt;zLu63JL`VN
zyl|8`tk8&QPHsv-!pXGc-7TU}4odZ6>`g?Qz-P@e$BvC;DpbT<=Wlk~fCZ-z!%A2E
z+u@A6qO$$m6Sw`3c9@&~zZImy+%azN&fHdw^kwvSRKn)266R?<j3f@f%y72weZ_@J
zj01*zkK3Ay4$Hf?97ErurD+ZuSWZp7QTsLHYewe&`qrEWfu_ljUccUuUY}^0y<V#&
zyQa*tDy<44%>YE0U(l}pFmV<E;^Jwkhd6$caiRiwzOOs6%v2qdagVHjOE*oe+U}ER
zsi?zxD2orvBUdS{DtjYiWDytk998N8k?YtCm8iXYcP6M|T-NM#?A<9W(FH;UadC8|
zE)zA+q~XqPQGv5gQL@@M8n=)|PsFaS<?ZJbq3yr-Fii?#!9#LB2R2qGm@DVpVGtGT
zMRU8>D$AnASPuELh_t2f!4J1Aebcey+(v75lJJ)k%kjI(XqBdmcii3HOv=iW=Eb*1
zz0=q!f3dLL@V!l#o9BX7D3{c<IiuS!W56br?YMML`@%-9aFyFd%c^(uv(nM&`F38M
z``!VXCJHm`)k8k)AKhu@w5fyBv*dir-s`lLd><>k-o=0wB_5WyWjCRx|0chDvsx&2
zbRB8Efq8$kDimgXQJpcx_LsXFem?W&>K$J+U1?dG%McrdyUHz}Yl#?|JvI_hbOK2+
zbn@JcjTyPlE@gBO<zDC#la|&NeOG^n!|0^3%Bk;_y2B9?hCQ3v>u?&{1JtUIWP_Rx
ztq3*Lvw%m1<R%lj;IgBg`m)F%UAg+0p{Yxu1;t*S1FeVPIY`I3@Bk$z(>xf`OxE%g
zyyxahrI)&fq=QCL>5z1RblH%oV^ny2w5|mF1B#)Avt3lV*;$Lh;BNeNiUsM26I_h6
z&^*p)RkffWHZmLH{j9niepH=#8R?~FuT^6Tol^L|A<GJA77Phqxyx#OL4!ljmcY%W
z4Pn242Zu)kSOwM!oU?K)jhx{@nSHkE^}2eOmpX{0egNEob|3XuuW-x%1#Z?KIpYtV
zP&Y*V6;@H&fM5AcN8I7$JfXytm7Kf+<qtTX+$Jy+pf4%ro2=`8my*a;k!MM^83OeR
zI;k%In_QlDD_6F#fnblX)3`s!*X^yWtTzPM)})YC-$lFT=HjT~3qux2-?mSok|OdB
z6aH;^pX}+@6~=AqTg^cM$lNB~CsL^Dg=VvFCo+jk0-oIF9=A8iZ(x4&Nh#|o|Fv|J
z;_&_}HJ)87rQ`4ywX0Cje$7F?Su{hK*Z!+`!}h>fcv=iqXuzXzG_$vlFpA4R+dsJe
z`vw>U1HXhb&7$(@t<^$G!)3AWt7gy~eOy@u)Rb<Gjq4(Jpu%GDsXCiC0!0>h1KuTx
zaVyN^Y%}_Ql!Zwqe!oCE8r~Yl<m9`SZA!7p8D5Fn<@U{9$?ntzEf_pBTF8L&blLmz
z$3v1}c^XXv#SAwRS9)ziW)lhbk!j_yN2F?K<-YTNmlcMwA^tGdFy7}o8vRK_qEewo
zMZH?<yA&5-!IBAW<`!hqyX4k_6`G*5mrI#m-%g1ezwb8ptxEAO<zwp<>2rN9Jk!n?
z@lpkI-Z9d~UJRvKAzP2lO)MDjs!Te!w`Tpv8^}nPY^NJ;xRY@=kRyluKS2h4ZI1y(
z+5lEr&q=6&u-hm?d51q1T1ncG{5BFMsAo!f7I8lI_Inx4>G;t$&xxw*Q!NF_R>2+j
z1nDnD5J51v;tQvPXfQ9t*T=D$><4@MxM-WVoM<oPdTU+rJxL-T>M^NuckU48R~8AK
z&m!0gwV6`R2Tv%|vCIltwC0kKt)E%8t#2SQ5Rz-+JsDH(Fd<q@Wmd8*X5g~PM>DGT
zxhk`KuG;)=@0mW*MsAW*+hof({dzso80@fXm|O(ihGdA<jhTzq=_;Jy#ELdS4!>NC
z-bYy)4WdY-H^SkUkJNT_H8YP!w#)XKnzt|-KbkuH#o|A1yuSOXRfpLt{Yj3;1GjqJ
zg!Ezahf6jPG`M~WVpl%KNgL-9{aI8?a$gY(l^J8~D-~+9K{tSlSGtlPAOvT}F>`wX
zEDlYQQmal>0|()3J?tMMb7cD7h#92L)l6%DR>H3I&fm8!63ifsl;wcE0#AzTX!%HQ
zZAh4cdph@tCYs+;obTfsG?=oVZdFbl=s-5>G2JBf*6gTa<y*T>ZJK7hGjlE2*}(a_
zNADB3Y@WPpV5qk;X`@?WQ-Wnsbf<GMOmY6@qQctlRfkRcrIcS&#lxu<;;9xHwMc5y
zf_?ZCa%zww0l_(e_ewYQpv(>0rw4U|OZjKxc3{N$^|48NVh+5KN&1Ln0(x}s_PyW|
za<|N(u#(K&XSOQVT-u1_D>8#IQF4j=j}a^;xtnk}CebBRzw#N)dXsxbZWCuW*Bn)a
z#)M2{rCAE^Dy&w{`%dqa;~-02O8YmxJ2z@O9VambDc5!>0>q6KwGB;oPU>nBo&XUX
zE%J#wkpIu;|0($igaGv<@q}I6ws>5~;Z6yJ0JZk;5E#zWI4<Nk%6q_;0JZAyEr}-m
zpS9%QfqEbssH=rXTTmV!eYimZAwZcPJjCnN@gV@w9v}=TR)dGVqd7k8@cIUX098=%
zkQrR9#c}7(p$`v)097UMkX_t*JTBx<G$#HF4A30FgAEyv4?a{N078IO+IUDf%kd$H
zHQPW4uoM{&A;+Dv$L+#D=05zaFd4`PR>k7^`|SUie;5V=GJzF8cxEE+KV|-W69MLw
z;E4se2h@Mo%fIJL{2UET(7>Yyp#L-UAJR2|-3?4ez_-9z=J+l6lhlO&0t4Qu@!(du
z<AV=ht$`5W`!F6-DSv#(;cGDv0(@)3L%J3J0`mLI8_*^&q>s1x8dnDQr*qO)<Oq)e
z7^cPBlu`Rjn@6lxU^o$Pb5{K?Z60wt0YgZ5o0oCwM1S$$k2s8gQ5d{UW38Xs{5>WE
v92wy47H>&I=Lkzjj0f=2gtsK8cZ8+iJrok0XGK83iu(@X9Gxls-+uiI<wTxa

literal 0
HcmV?d00001

diff --git a/res/values-ldrtl/lineage_config.xml b/res/values-ldrtl/lineage_config.xml
new file mode 100644
index 000000000..a7bf32345
--- /dev/null
+++ b/res/values-ldrtl/lineage_config.xml
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2018 The LineageOS Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+        http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<resources>
+
+    <string name="pref_show_google_now_summary" translatable="false">@string/msg_minus_one_on_left</string>
+</resources>
\ No newline at end of file
diff --git a/res/values/lineage_config.xml b/res/values/lineage_config.xml
new file mode 100644
index 000000000..a7bf32345
--- /dev/null
+++ b/res/values/lineage_config.xml
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2018 The LineageOS Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+        http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<resources>
+
+    <string name="pref_show_google_now_summary" translatable="false">@string/msg_minus_one_on_left</string>
+</resources>
\ No newline at end of file
diff --git a/res/values/lineage_strings.xml b/res/values/lineage_strings.xml
new file mode 100644
index 000000000..96b7004ed
--- /dev/null
+++ b/res/values/lineage_strings.xml
@@ -0,0 +1,26 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2018 The LineageOS Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+        http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<resources>
+
+    <!-- Settings -->
+
+    <!-- Settings title to show Google Now at -1 screen on launcher. [CHAR LIMIT=50] -->
+    <string name="title_show_google_app">Show Google app</string>
+    <!-- Settings message explaining when the -1 screen is available on an LTR device. [CHAR LIMIT=100] -->
+    <string name="msg_minus_one_on_left">When you swipe right from main home screen</string>
+    <!-- Settings message explaining when the -1 screen is available on an RTL device. [CHAR LIMIT=100] -->
+    <string name="msg_minus_one_on_right">When you swipe left from main home screen</string>
+</resources>
\ No newline at end of file
diff --git a/res/xml/launcher_preferences.xml b/res/xml/launcher_preferences.xml
index 3bba73a6c..63923053f 100644
--- a/res/xml/launcher_preferences.xml
+++ b/res/xml/launcher_preferences.xml
@@ -43,6 +43,12 @@
         android:defaultValue="@bool/allow_rotation"
         android:persistent="true" />
 
+    <SwitchPreference
+        android:defaultValue="true"
+        android:key="pref_enable_minus_one"
+        android:summary="@string/pref_show_google_now_summary"
+        android:title="@string/title_show_google_app" />
+
     <ListPreference
         android:key="pref_override_icon_shape"
         android:title="@string/icon_shape_override_label"
diff --git a/src/com/android/launcher3/SettingsActivity.java b/src/com/android/launcher3/SettingsActivity.java
index 6ea518f74..da0856db7 100644
--- a/src/com/android/launcher3/SettingsActivity.java
+++ b/src/com/android/launcher3/SettingsActivity.java
@@ -37,6 +37,7 @@ import android.preference.ListPreference;
 import android.preference.Preference;
 import android.preference.PreferenceFragment;
 import android.preference.PreferenceScreen;
+import android.preference.SwitchPreference;
 import android.provider.Settings;
 import android.text.TextUtils;
 import android.view.View;
@@ -44,6 +45,8 @@ import android.widget.Adapter;
 import android.widget.ListView;
 
 import com.android.launcher3.graphics.IconShapeOverride;
+import com.android.launcher3.lineage.LineageLauncherCallbacks;
+import com.android.launcher3.lineage.LineageUtils;
 import com.android.launcher3.notification.NotificationListener;
 import com.android.launcher3.util.ListViewHighlighter;
 import com.android.launcher3.util.SettingsObserver;
@@ -67,6 +70,8 @@ public class SettingsActivity extends Activity {
     private static final int DELAY_HIGHLIGHT_DURATION_MILLIS = 600;
     private static final String SAVE_HIGHLIGHTED_KEY = "android:preference_highlighted";
 
+    public static final String KEY_MINUS_ONE = "pref_enable_minus_one";
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -138,6 +143,12 @@ public class SettingsActivity extends Activity {
             } else {
                 // Initialize the UI once
                 rotationPref.setDefaultValue(getAllowRotationDefaultValue());
+
+                SwitchPreference minusOne = (SwitchPreference) findPreference(KEY_MINUS_ONE);
+                if (!LineageUtils.hasPackageInstalled(getActivity(),
+                        LineageLauncherCallbacks.SEARCH_PACKAGE)) {
+                    getPreferenceScreen().removePreference(minusOne);
+                }
             }
         }
 
diff --git a/src/com/android/launcher3/lineage/LineageLauncherCallbacks.java b/src/com/android/launcher3/lineage/LineageLauncherCallbacks.java
index d61aa3fe6..138991289 100644
--- a/src/com/android/launcher3/lineage/LineageLauncherCallbacks.java
+++ b/src/com/android/launcher3/lineage/LineageLauncherCallbacks.java
@@ -21,6 +21,9 @@ import android.os.Bundle;
 
 import com.android.launcher3.AppInfo;
 import com.android.launcher3.LauncherCallbacks;
+import com.android.launcher3.SettingsActivity;
+import com.android.launcher3.Utilities;
+import com.google.android.libraries.gsa.launcherclient.LauncherClient;
 
 import java.io.FileDescriptor;
 import java.io.PrintWriter;
@@ -28,9 +31,16 @@ import java.util.ArrayList;
 
 public class LineageLauncherCallbacks implements LauncherCallbacks,
         SharedPreferences.OnSharedPreferenceChangeListener {
+    public static final String SEARCH_PACKAGE = "com.google.android.googlequicksearchbox";
 
     private final LineageLauncher mLauncher;
 
+    private OverlayCallbackImpl mOverlayCallbacks;
+    private LauncherClient mLauncherClient;
+
+    private boolean mStarted;
+    private boolean mResumed;
+    private boolean mAlreadyOnHome;
 
     public LineageLauncherCallbacks(LineageLauncher launcher) {
         mLauncher = launcher;
@@ -38,32 +48,50 @@ public class LineageLauncherCallbacks implements LauncherCallbacks,
 
     @Override
     public void onCreate(Bundle savedInstanceState) {
-
+        SharedPreferences prefs = Utilities.getPrefs(mLauncher);
+        mOverlayCallbacks = new OverlayCallbackImpl(mLauncher);
+        mLauncherClient = new LauncherClient(mLauncher, mOverlayCallbacks, getClientOptions(prefs));
+        mOverlayCallbacks.setClient(mLauncherClient);
+        prefs.registerOnSharedPreferenceChangeListener(this);
     }
 
     @Override
     public void onResume() {
+        mResumed = true;
+        if (mStarted) {
+            mAlreadyOnHome = true;
+        }
 
+        mLauncherClient.onResume();
     }
 
     @Override
     public void onStart() {
-
+        mStarted = true;
+        mLauncherClient.onStart();
     }
 
     @Override
     public void onStop() {
+        mStarted = false;
+        if (!mResumed) {
+            mAlreadyOnHome = false;
+        }
 
+        mLauncherClient.onStop();
     }
 
     @Override
     public void onPause() {
-
+        mResumed = false;
+        mLauncherClient.onPause();
     }
 
     @Override
     public void onDestroy() {
+        mLauncherClient.onDestroy();
 
+        Utilities.getPrefs(mLauncher).unregisterOnSharedPreferenceChangeListener(this);
     }
 
     @Override
@@ -83,12 +111,12 @@ public class LineageLauncherCallbacks implements LauncherCallbacks,
 
     @Override
     public void onAttachedToWindow() {
-
+        mLauncherClient.onAttachedToWindow();
     }
 
     @Override
     public void onDetachedFromWindow() {
-
+        mLauncherClient.onDetachedFromWindow();
     }
 
     @Override
@@ -98,7 +126,7 @@ public class LineageLauncherCallbacks implements LauncherCallbacks,
 
     @Override
     public void onHomeIntent(boolean internalStateHandled) {
-
+        mLauncherClient.hideOverlay(mAlreadyOnHome);
     }
 
     @Override
@@ -128,11 +156,22 @@ public class LineageLauncherCallbacks implements LauncherCallbacks,
 
     @Override
     public boolean hasSettings() {
-        return false;
+        return true;
     }
 
     @Override
     public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {
-
+        if (SettingsActivity.KEY_MINUS_ONE.equals(key)) {
+            mLauncherClient.setClientOptions(getClientOptions(sharedPreferences));
+        }
+    }
+
+    private LauncherClient.ClientOptions getClientOptions(SharedPreferences prefs) {
+        boolean hasPackage = LineageUtils.hasPackageInstalled(mLauncher, SEARCH_PACKAGE);
+        boolean isEnabled = prefs.getBoolean(SettingsActivity.KEY_MINUS_ONE, true);
+        return new LauncherClient.ClientOptions(hasPackage && isEnabled,
+                true, /* enableHotword */
+                true /* enablePrewarming */
+        );
     }
 }
diff --git a/src/com/android/launcher3/lineage/LineageUtils.java b/src/com/android/launcher3/lineage/LineageUtils.java
new file mode 100644
index 000000000..ae324dd10
--- /dev/null
+++ b/src/com/android/launcher3/lineage/LineageUtils.java
@@ -0,0 +1,17 @@
+package com.android.launcher3.lineage;
+
+import android.content.Context;
+import android.content.pm.ApplicationInfo;
+import android.content.pm.PackageManager;
+
+public class LineageUtils {
+
+    public static boolean hasPackageInstalled(Context context, String pkgName) {
+        try {
+            ApplicationInfo ai = context.getPackageManager().getApplicationInfo(pkgName, 0);
+            return ai.enabled;
+        } catch (PackageManager.NameNotFoundException e) {
+            return false;
+        }
+    }
+}
diff --git a/src/com/android/launcher3/lineage/OverlayCallbackImpl.java b/src/com/android/launcher3/lineage/OverlayCallbackImpl.java
new file mode 100644
index 000000000..d0d6756a4
--- /dev/null
+++ b/src/com/android/launcher3/lineage/OverlayCallbackImpl.java
@@ -0,0 +1,80 @@
+/*
+ * Copyright (C) 2016 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package com.android.launcher3.lineage;
+
+import com.android.launcher3.Launcher;
+import com.android.launcher3.Launcher.LauncherOverlay;
+import com.android.launcher3.Launcher.LauncherOverlayCallbacks;
+import com.google.android.libraries.gsa.launcherclient.LauncherClient;
+import com.google.android.libraries.gsa.launcherclient.LauncherClientCallbacks;
+
+/**
+ * Implements {@link LauncherOverlay} and passes all the corresponding events to {@link
+ * LauncherClient}. {@see setClient}
+ *
+ * <p>Implements {@link LauncherClientCallbacks} and sends all the corresponding callbacks to {@link
+ * Launcher}.
+ */
+public class OverlayCallbackImpl implements LauncherOverlay, LauncherClientCallbacks {
+    private final Launcher mLauncher;
+
+    private LauncherClient mClient;
+    private LauncherOverlayCallbacks mLauncherOverlayCallbacks;
+    private boolean mWasOverlayAttached = false;
+
+    public OverlayCallbackImpl(Launcher launcher) {
+        mLauncher = launcher;
+    }
+
+    public void setClient(LauncherClient client) {
+        mClient = client;
+    }
+
+    @Override
+    public void onServiceStateChanged(boolean overlayAttached, boolean hotwordActive) {
+        if (overlayAttached != mWasOverlayAttached) {
+            mWasOverlayAttached = overlayAttached;
+            mLauncher.setLauncherOverlay(overlayAttached ? this : null);
+        }
+    }
+
+    @Override
+    public void onOverlayScrollChanged(float progress) {
+        if (mLauncherOverlayCallbacks != null) {
+            mLauncherOverlayCallbacks.onScrollChanged(progress);
+        }
+    }
+
+    @Override
+    public void onScrollInteractionBegin() {
+        mClient.startMove();
+    }
+
+    @Override
+    public void onScrollInteractionEnd() {
+        mClient.endMove();
+    }
+
+    @Override
+    public void onScrollChange(float progress, boolean rtl) {
+        mClient.updateMove(progress);
+    }
+
+    @Override
+    public void setOverlayCallbacks(Launcher.LauncherOverlayCallbacks callbacks) {
+        mLauncherOverlayCallbacks = callbacks;
+    }
+}
-- 
2.17.1

